(this.webpackJsonpcoronate=this.webpackJsonpcoronate||[]).push([[0],{76:function(e,t,a){e.exports=a(97)},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},93:function(e,t,a){e.exports=a.p+"static/media/icon-min.53b3e3eb.svg"},94:function(e,t,a){e.exports=a.p+"static/media/caution.01a9c1c3.svg"},97:function(e,t,a){"use strict";a.r(t);a(77),a(78),a(79),a(80),a(81),a(82),a(83),a(84),a(85),a(86),a(87),a(88);var n=a(0),r=a(61),i=a(14),s=a(4),o=a(1),l=a(42),c=a(38),u=a(21),d=a(7),m=a(22),f=a(6),h=a(35),g=a(2),v=a(27),b=a(16),p=a.n(b),E=a(5),y=a(8),N=a(102),w=a(103),_=a(36),k=a(15),S=a(51),R=a(99),A=a(100),I=a(101),C=a(46);function T(e,t,a,n){return o.b(e,t(a),t(n))}function O(e,t,a,n){return o.b(e,t(n),t(a))}var G={swap:function(e,t,a){var n=y.e(e,t),r=y.e(e,a);return void 0!==n&&void 0!==r?(y.r(e,t,g.d(r)),y.r(e,a,g.d(n)),e):e}};function B(e){window.alert(e)}var D={logo:a(93),caution:a(94)},j="\xa0",L="\xa9",M=C.b(["en-US"],1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,0,void 0);var P=C.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,void 0,void 0,void 0,0,void 0);var x=o.a(s.G,{hd:s.l("flex"),tl:{hd:s.p("wrap"),tl:{hd:s.y("screen and (min-width: 600px)",{hd:s.p("nowrap"),tl:0}),tl:0}}}),F=o.a(s.G,{hd:s.x({NAME:"px",VAL:16}),tl:0});var V=function(e){var t=e.children,a=e.className,r=e.style,s=void 0!==a?a:"",o=void 0!==r?g.d(r):{};return n.createElement("div",{className:i.a(F,s),style:o},t)};var Q=function(e){var t=e.children,a=e.className,r=e.style,s=void 0!==a?a:"",o=void 0!==r?g.d(r):{};return n.createElement("div",{className:i.a(x,s),style:o},t)},W={NAME:"hex",VAL:"30e60b"},H={NAME:"hex",VAL:"003706"},z={NAME:"hex",VAL:"ffe900"},q={NAME:"hex",VAL:"3e2800"},U={NAME:"hex",VAL:"d70022"},J={NAME:"hex",VAL:"ffffff"},K={NAME:"hex",VAL:"00feff"},Z={NAME:"hex",VAL:"00c8d7"},Y={NAME:"hex",VAL:"a47f00"},$={NAME:"hex",VAL:"f9f9fa"},X={NAME:"hex",VAL:"ededf0"},ee={NAME:"hex",VAL:"b1b1b3"},te={NAME:"hex",VAL:"0c0c0d"},ae={NAME:"hex",VAL:"202340"},ne=J,re=o.a(s.G,{hd:s.l("flex"),tl:{hd:s.m("row"),tl:{hd:s.u("center"),tl:{hd:s.z({NAME:"px",VAL:32}),tl:{hd:s.q({NAME:"px",VAL:13}),tl:{hd:s.r({NAME:"num",VAL:400}),tl:{hd:s.E({NAME:"px",VAL:4}),tl:{hd:s.D({NAME:"px",VAL:4}),tl:{hd:s.w({NAME:"px",VAL:4},"zero"),tl:{hd:s.g({NAME:"px",VAL:4}),tl:0}}}}}}}}}}),ie=o.a(s.G,{hd:s.l("flex"),tl:{hd:s.m("row"),tl:{hd:s.b("center"),tl:0}}}),se=o.a(s.G,{hd:s.l("flex"),tl:{hd:s.m("row"),tl:{hd:s.b("center"),tl:{hd:s.o(1),tl:{hd:s.w("zero",{NAME:"px",VAL:4}),tl:{hd:s.q({NAME:"px",VAL:16}),tl:{hd:s.k("help"),tl:0}}}}}}}),oe=o.a(s.G,{hd:s.j(H),tl:{hd:s.c(W),tl:0}}),le=o.a(s.G,{hd:s.j(q),tl:{hd:s.c(z),tl:0}}),ce=o.a(s.G,{hd:s.j(J),tl:{hd:s.c(U),tl:0}});var ue=function(e){var t=e.children,a=e.testId;return n.cloneElement(t,{"data-testid":a})};S.c("fraction",S.a.make(S.b.make(/(1\/2)/,/(1\/2)/),(function(e,t,a){var n=Math.floor(e),r=e-n,i=.25!==r?.5!==r?.75!==r?"":"\xbe":"\xbd":"\xbc";return(0===n&&""!==i?"":String(n))+i}),(function(e){return d.c(c.a(e))})));var de="https://github.com/johnridesabike/coronate",me="https://github.com/johnridesabike/coronate/blob/master/LICENSE";var fe={concat:function(e,t){for(var a="",n=E.k(e);;){var r=n,i=a;if(!r)return i;var s=r.tl,o=r.hd;if(!s)return o+i;n=s,a=t+(o+i)}},toLowerCase:function(e){return e.toLowerCase()},includes:function(e,t){return e.includes(t)},split:function(e,t){return e.split(t)}},he=function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},C.a(M,t))},ge=function(e){var t=e.date,a=e.timeZone,r=void 0!==a?C.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,a,void 0,void 0,0,void 0):P;return n.createElement("time",{dateTime:t.toISOString()},C.a(r,t))},ve=function(e){var t,a=e.children,r=e.kind,s=e.tooltip,o=e.className,l=e.style,c=void 0!==r?r:3,u=void 0!==s?s:"",d=void 0!==o?o:"",m=void 0!==l?g.d(l):{};switch(c){case 0:t=[n.createElement(R.a,{}),oe];break;case 1:t=[n.createElement(A.a,{}),le];break;case 2:t=[n.createElement(A.a,{}),ce];break;case 3:t=[n.createElement(I.a,{}),""]}return n.createElement("div",{className:i.a(i.a(re,t[1]),d),style:m},n.createElement("div",{"aria-label":u,className:se,title:u},t[0]),n.createElement("div",{className:ie},a))},be=a(72),pe=a(31),Ee=a(10);var ye="________DUMMY________";function Ne(e){return e===ye}function we(e){return be.a()}function _e(e){return e}var ke=k.j;function Se(e,t){return e===t}var Re=pe.c(ke);var Ae={make:function(e){return f.j(Re)},fromArray:function(e){return f.b(e,Re)},fromStringArray:function(e){return f.b(e,Re)},toStringArray:f.t},Ie=Ee.l,Ce=a(25);function Te(e){return.5!==e?0:1}function Oe(e){return Te(Ee.a(e))}var Ge=pe.a({cmp:function(e,t){var a=ke(e[0],t[0]);if(0!==a)return a;var n=ke(e[1],t[1]);return 0!==n?n:0}}),Be=h.c(Ge);function De(e){return h.b(Ee.d((function(e){return Ee.k(Ie,Ie,e)}),e),Ge)}function je(e){return Ce.a((function(e){return Ce.e(_e,_e,e)}),h.f(e))}function Le(e,t){var a=t[1],n=t[0],r=f.c(e,n),i=void 0!==r?{hd:a,tl:r}:{hd:a,tl:0},s=f.c(e,a),o=void 0!==s?{hd:n,tl:s}:{hd:n,tl:0};return f.r(f.r(e,n,i),a,o)}function Me(e){return{avoidPairs:Ee.g("avoidPairs",De,e),byeValue:Ee.g("byeValue",Oe,e),lastBackup:Ee.g("lastBackup",Ee.e,e)}}function Pe(e){return Ce.d({hd:["avoidPairs",je(e.avoidPairs)],tl:{hd:["byeValue",e.byeValue?.5:1],tl:{hd:["lastBackup",Ce.b(e.lastBackup)],tl:0}}})}var xe={avoidPairs:Be,byeValue:0,lastBackup:new Date(0)},Fe={make:function(e,t){var a=ke(e,t);if(0!==a)return 1!==a?[t,e]:[e,t]},has:function(e,t){return!!Se(e[0],t)||Se(e[1],t)},$$Set:{empty:Be,fromArray:function(e){return h.b(e,Ge)},toMap:function(e){return h.d(e,Ae.make(void 0),Le)}}};function Ve(e,t){return e+t}var Qe=k.d;function We(e){return E.j(e,0,Ve)}function He(e){switch(e){case 0:return 0;case 1:return 1;case 2:return-1;case 3:return.5}}function ze(e,t){return e+He(t)}function qe(e,t){return E.j(e,0,ze)+t}var Ue={opposite:function(e){return e?0:1},toScore:function(e){return e?1:2}};function Je(e){switch(e){case 0:return"median";case 1:return"solkoff";case 2:return"cumulative";case 3:return"cumulativeOfOpposition";case 4:return"mostBlack"}}function Ke(e,t){switch(e){case 0:return 0===t;case 1:return 1===t;case 2:return 2===t;case 3:return 3===t;case 4:return t>=4}}function Ze(e,t){return{colorScores:0,colors:0,id:t,isDummy:!1,opponentResults:0,ratings:0,firstRating:void 0!==e?e:0,results:0,resultsNoByes:0,adjustment:0}}function Ye(e,t){var a=f.c(e,t);return void 0===a||!a.isDummy}function $e(e,t){var a=f.c(e,t);return void 0!==a?qe(a.results,a.adjustment):0}function Xe(e,t){var a=f.c(e,t);return void 0!==a?E.j(a.opponentResults,0,(function(t,a){var n=a[0];return Ye(e,n)?{hd:$e(e,n),tl:t}:t})):0}function et(e,t){return d.h(E.o(d.h(E.o(E.n(Xe(e,t),Qe)),0,E.k)),0,We)}function tt(e,t){return E.j(Xe(e,t),0,Ve)}function at(e,t){if(!e)return{hd:He(t),tl:0};var a=e.hd;return{hd:a+He(t),tl:{hd:a,tl:e.tl}}}function nt(e,t){var a=f.c(e,t);if(void 0!==a){var n=E.j(a.resultsNoByes,0,at),r=a.adjustment;return E.j(n,0,Ve)+r}return 0}function rt(e,t){var a=f.c(e,t);return void 0!==a?E.j(E.i(E.j(a.opponentResults,0,(function(t,a){var n=a[0];return Ye(e,n)?{hd:n,tl:t}:t})),(function(t){return nt(e,t)})),0,Ve):0}function it(e,t){var a=f.c(e,t);return void 0!==a?E.j(a.colorScores,0,ze):0}function st(e){switch(e){case 0:return et;case 1:return tt;case 2:return nt;case 3:return rt;case 4:return it}}function ot(e,t){var a=E.i(E.c(t),(function(e){return[e,st(e)]})),n=E.c(t);return E.n(E.k(f.n(e,0,(function(t,n,r){return{hd:{id:n,score:qe(r.results,r.adjustment),tieBreaks:E.i(a,(function(t){return[t[0],o.b(t[1],e,n)]}))},tl:t}}))),(function(e,t){var a=k.d(t.score,e.score);if(0!==a)return a;for(var r=n;;){var i=r;if(!i)return 0;var s=i.tl,o=i.hd,l=E.d(e.tieBreaks,o,Ke),c=E.d(t.tieBreaks,o,Ke);if(void 0===l)r=s;else{if(void 0!==c){var u=k.d(g.d(c),g.d(l));if(0!==u)return u;r=s;continue}r=s}}}))}function lt(e){return E.j(e,0,(function(e,t){if(!e)return{hd:{hd:t,tl:0},tl:0};var a=e.hd;if(!a)return{hd:{hd:t,tl:0},tl:e};var n=e.tl;return function(e,t){if(e.score!==t.score)return!1;var a=E.j(e.tieBreaks,0,(function(e,a){var n=E.d(t.tieBreaks,a[0],Ke);return void 0!==n?{hd:a[1]!==g.d(n),tl:e}:e}));return!E.f(a,!0,(function(e,t){return e===t}))}(a.hd,t)?{hd:{hd:t,tl:a},tl:n}:{hd:{hd:t,tl:0},tl:{hd:a,tl:n}}}))}var ct={Sum:{toFloat:function(e){return e},toNumeral:function(e){return p.a(e)}},sum:function(e){return E.j(e,0,ze)},calcScore:qe,toFloat:He},ut={encode:Je,decode:function(e){switch(Ee.l(e)){case"cumulative":return 2;case"cumulativeOfOpposition":return 3;case"median":return 0;case"mostBlack":return 4;case"solkoff":return 1;default:return 0}},toString:Je,toPrettyString:function(e){switch(e){case 0:return"Median";case 1:return"Solkoff";case 2:return"Cumulative";case 3:return"Cumulative of opposition";case 4:return"Most Black"}},eq:Ke},dt=a(20);function mt(e,t){return t}function ft(e){var t=n.useReducer(mt,e),a=t[1];return{state:t[0],setTrue:function(e){return a(!0)},setFalse:function(e){return a(!1)}}}function ht(e,t){var a;if("number"===typeof t)a=e;else switch(0|t.TAG){case 0:a={isDescending:t._0,column:e.column,table:e.table};break;case 1:a={isDescending:e.isDescending,column:t._0,table:e.table};break;case 2:a={isDescending:e.isDescending,column:e.column,table:t._0}}var n,r=a.isDescending?O:T,i=a.column;switch(0|i.TAG){case 0:var s=i._0;n=o.b(r,k.j,(function(e){return fe.toLowerCase(s(e))}));break;case 1:n=o.b(r,k.f,i._0);break;case 2:n=o.b(r,k.d,i._0);break;case 3:var l=i._0;n=o.b(r,k.d,(function(e){return l(e).getTime()}))}var c=_.a(a.table,n);return{isDescending:a.isDescending,column:a.column,table:c}}function gt(e,t,a){var r={isDescending:a,column:t,table:e},i=n.useReducer(ht,r),s=i[1];return n.useEffect((function(){o.a(s,0)}),[]),[i[0],s]}var vt=function(e){var t=e.children,a=e.sortColumn,r=e.data,i=e.dispatch,s=r.column===a?{opacity:"1"}:{opacity:"0"};return n.createElement("button",{className:"button-micro dont-hide button-text-ghost title-20",style:{width:"100%"},onClick:function(e){return r.column===a?o.a(i,{TAG:0,_0:!r.isDescending}):o.a(i,{TAG:1,_0:a})}},n.createElement("span",{"aria-hidden":!0},n.createElement(N.a,{style:{opacity:"0"}})),t,r.isDescending?n.createElement("span",{style:s},n.createElement(N.a,{}),n.createElement(dt.a,{children:"Sort ascending."})):n.createElement("span",{style:s},n.createElement(w.a,{}),n.createElement(dt.a,{children:"Sort descending."})))};function bt(e){n.useEffect((function(){return document.body.style.cursor=e?"auto":"wait",function(e){return document.body.style.cursor="auto"}}),[e])}function pt(e,t,a,r,i,s,l,c){var u=f.c(t,e.id),m=void 0!==u?u:Ze(void 0,e.id),h=m.opponentResults,g=E.m(h,(function(e){return Ne(e[0])})),v=o.a(ct.Sum.toFloat,ct.sum(m.colorScores)),b=v<0?"White +"+String(Math.abs(v)):v>0?"Black +"+String(v):"Even",N=y.m(E.p(h),(function(e,t){var a,i=t[1],s=t[0];if(0!==i)switch(i-1|0){case 0:a="Won";break;case 1:a="Lost";break;case 2:a="Draw"}else a="Lost";return n.createElement("li",{key:s+"-"+String(e)},fe.concat({hd:o.a(r,s).firstName,tl:{hd:o.a(r,s).lastName,tl:{hd:"-",tl:{hd:a,tl:0}}}}," "))})),w=y.q(E.p(E.i(d.d(d.a(d.f(a,Fe.$$Set.toMap),(function(t){return f.c(t,e.id)})),0),(function(e){var t=f.c(i,e);return void 0!==t?n.createElement("li",{key:e},t.firstName+" "+t.lastName):null})))),_=n.createElement(n.Fragment,void 0,s,void 0!==l?n.createElement("span",void 0," (",p.a(l-s|0).format("+0"),")"):null);return{player:e,hasBye:g,colorBalance:b,score:o.a(ct.Sum.toFloat,ct.calcScore(m.results,m.adjustment)),rating:_,opponentResults:N,avoidListHtml:w}}var Et=a(52),yt=a(34);function Nt(e){switch(e){case 0:return"whiteWon";case 1:return"blackWon";case 2:return"draw";case 3:return"notSet"}}function wt(e){switch(e){case"blackWon":return 1;case"draw":return 2;case"whiteWon":return 0;default:return 3}}function _t(e){return wt(Ee.l(e))}var kt={toScoreWhite:function(e){if(e>=3)return 0;switch(e){case 0:return 1;case 1:return 0;case 2:return 3}},toScoreBlack:function(e){if(0===e)return 0;switch(e-1|0){case 0:return 1;case 1:return 3;case 2:return 0}},toString:Nt,fromString:wt,encode:Nt,decode:_t};function St(e){return{id:Ee.g("id",Ie,e),whiteId:Ee.g("whiteId",Ie,e),blackId:Ee.g("blackId",Ie,e),whiteNewRating:Ee.g("whiteNewRating",Ee.b,e),blackNewRating:Ee.g("blackNewRating",Ee.b,e),whiteOrigRating:Ee.g("whiteOrigRating",Ee.b,e),blackOrigRating:Ee.g("blackOrigRating",Ee.b,e),result:Ee.g("result",_t,e)}}function Rt(e){return Ce.d({hd:["id",e.id],tl:{hd:["whiteId",e.whiteId],tl:{hd:["blackId",e.blackId],tl:{hd:["whiteNewRating",e.whiteNewRating],tl:{hd:["blackNewRating",e.blackNewRating],tl:{hd:["whiteOrigRating",e.whiteOrigRating],tl:{hd:["blackOrigRating",e.blackOrigRating],tl:{hd:["result",Nt(e.result)],tl:0}}}}}}}})}function At(e,t){var a=Ne(e.whiteId),n=Ne(e.blackId);return a?n?e:{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:t?2:1}:n?{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:t?2:0}:e}function It(e,t){var a=e[1],n=e[0];return At({id:we(),whiteId:n.id,blackId:a.id,whiteNewRating:n.rating,blackNewRating:a.rating,whiteOrigRating:n.rating,blackOrigRating:a.rating,result:3},t)}function Ct(e){return Ce.a(Rt,e)}function Tt(e){return Ee.d(St,e)}function Ot(e){return y.n(e,[],(function(e,t){return y.b(e,[t.whiteId,t.blackId])}))}function Gt(e,t){return y.f(e,(function(e){return Se(e.id,t)}))}function Bt(e,t){var a=e.slice(0);return d.a(d.f(y.h(a,(function(e){return Se(e.id,t.id)})),(function(e){return y.r(a,e,t)})),(function(e){if(e)return a}))}var Dt={fromArray:function(e){return e},toArray:function(e){return e},empty:[],encode:Ct,decode:Tt,size:function(e){return e.length},addMatches:y.b,getMatched:Ot,getMatchById:Gt,removeMatchById:function(e,t){return y.i(e,(function(e){return!Se(e.id,t)}))},setMatch:Bt,moveMatch:function(e,t,a){var n=Gt(e,t);if(void 0!==n){var r=e.indexOf(n),i=(r+a|0)>=0?r+a|0:0;return G.swap(e,r,i)}}};var jt=[[]];function Lt(e){return Ee.d(Tt,e)}function Mt(e){return e.length}function Pt(e){return e.length-1|0}function xt(e,t,a){var n=e.slice(0);if(y.r(n,t,a))return n}function Ft(e,t,a){return d.a(d.a(y.e(e,t),(function(e){return Bt(e,a)})),(function(a){return xt(e,t,a)}))}function Vt(e){return y.n(e,[],y.b)}function Qt(e,t,a){var n=y.e(e,a);if(void 0===n)return!0;if(a<(e.length-1|0))return!0;var r=Ot(n),i=f.q(t,r),s=y.l(n,(function(e){return e.result}));return 0===f.s(i)&&!s.includes(3)}function Wt(e){return y.b(e,[[]])}function Ht(e){return e.slice(0,-1)}function zt(e,t){return y.l(e,(function(e){return y.l(e,(function(e){return At(e,t)}))}))}var qt=y.e,Ut="BruceWayne_lv_ZsUHTU9",Jt="DickGrayson_1C2rCokHH",Kt="AlfredPennyworth_y4dW",Zt="BarbaraGordon_cL6SpI2",Yt="KateKane_klFW6gDfUOTX",$t="SelinaKyle_rJBH-45Xoy",Xt="JasonTodd_fc9CeOa-Luw",ea="JamesGordon_1ts9xICT3",ta="HelenaWayne_fE6O0DJcE",aa="Joker_v0z2416fpAZ9o2c",na="HarleyQuinn_-10-02VPH",ra="VictorFries_cWaQoW014",ia="OswaldCobblepot_lfCro",sa="RasAlGhul_k9n8k852bHr",oa="PamelaIsley_vH5vD8uPB",la="EdwardNigma_j80JfWOZq",ca="JonathanCrane_R4Q8tVW",ua="HarveyDent_0eYIiP_Ij5",da="HugoStrange_az43f9mtS",ma={avoidPairs:o.a(Fe.$$Set.fromArray,y.j([[Zt,ea],[aa,na],[ta,Ut]],(function(e){return Fe.make(e[0],e[1])}))),byeValue:0,lastBackup:new Date("1970-01-01T00:00:00.000Z")},fa=Ae.fromArray([[Ut,{firstName:"Bruce",id:Ut,lastName:"Wayne",matchCount:9,rating:1998,type_:0}],[Jt,{firstName:"Dick",id:Jt,lastName:"Grayson",matchCount:9,rating:1909,type_:0}],[Kt,{firstName:"Alfred",id:Kt,lastName:"Pennyworth",matchCount:9,rating:1999,type_:0}],[Zt,{firstName:"Barbara",id:Zt,lastName:"Gordon",matchCount:7,rating:1345,type_:0}],[Yt,{firstName:"Kate",id:Yt,lastName:"Kane",matchCount:9,rating:1539,type_:0}],[$t,{firstName:"Selina",id:$t,lastName:"Kyle",matchCount:9,rating:1495,type_:0}],[Xt,{firstName:"Jason",id:Xt,lastName:"Todd",matchCount:7,rating:1101,type_:0}],[ea,{firstName:"James",id:ea,lastName:"Gordon",matchCount:7,rating:1167,type_:0}],[ta,{firstName:"Helena",id:ta,lastName:"Wayne",matchCount:7,rating:1087,type_:0}],[aa,{firstName:"Joker",id:aa,lastName:"",matchCount:1,rating:1538,type_:0}],[na,{firstName:"Harley",id:na,lastName:"Quinn",matchCount:1,rating:1648,type_:0}],[ra,{firstName:"Victor",id:ra,lastName:"Fries",matchCount:1,rating:862,type_:0}],[ia,{firstName:"Oswald",id:ia,lastName:"Cobblepot",matchCount:1,rating:1812,type_:0}],[sa,{firstName:"Ra's",id:sa,lastName:"al Ghul",matchCount:1,rating:1404,type_:0}],[oa,{firstName:"Pamela",id:oa,lastName:"Isley",matchCount:1,rating:965,type_:0}],[la,{firstName:"Edward",id:la,lastName:"Nigma",matchCount:1,rating:948,type_:0}],[ca,{firstName:"Jonathan",id:ca,lastName:"Crane",matchCount:1,rating:899,type_:0}],[ua,{firstName:"Harvey",id:ua,lastName:"Dent",matchCount:1,rating:1649,type_:0}],[da,{firstName:"Hugo",id:da,lastName:"Strange",matchCount:0,rating:800,type_:0}]]),ha=Ae.fromArray([["CaouTNel9k70jUJ0h6SYM",{id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",date:new Date("2019-05-22T12:14:47.670Z"),playerIds:{hd:Ut,tl:{hd:Jt,tl:{hd:Kt,tl:{hd:Zt,tl:{hd:Yt,tl:{hd:$t,tl:{hd:Xt,tl:{hd:ea,tl:{hd:ta,tl:0}}}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"FUASEeyES6ez_ROoT6qmU",whiteId:Xt,blackId:Jt,whiteNewRating:1236,blackNewRating:2109,whiteOrigRating:1238,blackOrigRating:2108,result:1},{id:"gqPyD66QMPF-pup41xsB2",whiteId:ea,blackId:Kt,whiteNewRating:1049,blackNewRating:2260,whiteOrigRating:1049,blackOrigRating:2260,result:1},{id:"KpS1lQSzsQWQ3VVWJyA2P",whiteId:Yt,blackId:Zt,whiteNewRating:1553,blackNewRating:1722,whiteOrigRating:1527,blackOrigRating:1755,result:2},{id:"OgFuy-wq8mz378EWat46u",whiteId:$t,blackId:Ut,whiteNewRating:1278,blackNewRating:1887,whiteOrigRating:1284,blackOrigRating:1881,result:1},{id:"f8Ps3GUmd0ZRsBBY8rZOp",whiteId:ta,blackId:ye,whiteNewRating:831,blackNewRating:0,whiteOrigRating:831,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"6seKrw7ehbhL766g6L2PF",whiteId:Jt,blackId:Yt,whiteNewRating:2122,blackNewRating:1672,whiteOrigRating:2109,blackOrigRating:1685,result:0},{id:"TCSjz48ZXqjamtYUFNg0B",whiteId:Ut,blackId:ta,whiteNewRating:1887,blackNewRating:830,whiteOrigRating:1887,blackOrigRating:831,result:0},{id:"zF64DEsN8sHydpDDsg37E",whiteId:Kt,blackId:$t,whiteNewRating:2101,blackNewRating:1437,whiteOrigRating:2260,blackOrigRating:1278,result:1},{id:"qVGt1EJq9y0MmvFtumM0A",whiteId:Zt,blackId:Xt,whiteNewRating:1574,blackNewRating:1207,whiteOrigRating:1545,blackOrigRating:1236,result:0},{id:"UhfHaRWr_-BtVo22xAuJu",whiteId:ea,blackId:ye,whiteNewRating:1049,blackNewRating:0,whiteOrigRating:1049,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"odrOOnZJUe0YAwkfUDqUb",whiteId:Kt,blackId:Ut,whiteNewRating:1998,blackNewRating:1990,whiteOrigRating:2101,blackOrigRating:1887,result:1},{id:"qzCMqUwNIDAcFSAuA5yCm",whiteId:ta,blackId:Jt,whiteNewRating:990,blackNewRating:2008,whiteOrigRating:830,blackOrigRating:2122,result:0},{id:"6QgVqdtcJPjfVp3UZ8S9g",whiteId:$t,blackId:Zt,whiteNewRating:1529,blackNewRating:1464,whiteOrigRating:1437,blackOrigRating:1574,result:0},{id:"as45gODKMLC5-3_UsTyx5",whiteId:Yt,blackId:ea,whiteNewRating:1542,blackNewRating:1244,whiteOrigRating:1672,blackOrigRating:1049,result:1},{id:"Pc0CWecSfeGNfvBPjyEIj",whiteId:Xt,blackId:ye,whiteNewRating:1207,blackNewRating:0,whiteOrigRating:1207,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"xj0y_Iqkb-g3MDGgmYx2-",whiteId:Ut,blackId:Yt,whiteNewRating:1998,blackNewRating:1534,whiteOrigRating:1990,blackOrigRating:1542,result:0},{id:"HWYWtsyaqUkHRExM6kQrt",whiteId:Jt,blackId:ea,whiteNewRating:2009,blackNewRating:1243,whiteOrigRating:2008,blackOrigRating:1244,result:0},{id:"uAzHZVMC71liQZ-6fWWeD",whiteId:ta,blackId:$t,whiteNewRating:983,blackNewRating:1534,whiteOrigRating:990,blackOrigRating:1529,result:1},{id:"_tCBn9YNIyto-vXpxm7WI",whiteId:Xt,blackId:Kt,whiteNewRating:1205,blackNewRating:1999,whiteOrigRating:1207,blackOrigRating:1998,result:1},{id:"L7yatE2oVKlV7LOY6-d7Y",whiteId:Zt,blackId:ye,whiteNewRating:1464,blackNewRating:0,whiteOrigRating:1464,blackOrigRating:0,result:0}])]}],["tvAdS4YbSOznrBgrg0ITA",{id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",date:new Date("2019-05-29T12:15:20.593Z"),playerIds:{hd:Ut,tl:{hd:Jt,tl:{hd:Kt,tl:{hd:Zt,tl:{hd:Yt,tl:{hd:$t,tl:{hd:Xt,tl:{hd:ea,tl:{hd:ta,tl:{hd:aa,tl:{hd:na,tl:{hd:ra,tl:{hd:ia,tl:{hd:sa,tl:{hd:oa,tl:{hd:la,tl:{hd:ca,tl:{hd:ua,tl:0}}}}}}}}}}}}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"5f8GYcR8V44NYvTN1cZle",whiteId:la,blackId:Ut,whiteNewRating:948,blackNewRating:1998,whiteOrigRating:950,blackOrigRating:1998,result:1},{id:"GPTct4sL368SryTLFUu8E",whiteId:ca,blackId:Kt,whiteNewRating:899,blackNewRating:1999,whiteOrigRating:900,blackOrigRating:1999,result:1},{id:"AxtoztZ6O19nyrLfZ4YaU",whiteId:ua,blackId:Jt,whiteNewRating:1649,blackNewRating:1909,whiteOrigRating:850,blackOrigRating:2009,result:0},{id:"bUM_tWQsAtPe1gqRzlXd1",whiteId:sa,blackId:$t,whiteNewRating:1404,blackNewRating:1495,whiteOrigRating:1050,blackOrigRating:1534,result:2},{id:"bAOVlP-M5xaPk1qofNReb",whiteId:ia,blackId:Zt,whiteNewRating:1812,blackNewRating:1345,whiteOrigRating:1100,blackOrigRating:1464,result:0},{id:"4omlgiGSaE1BmrHdABSym",whiteId:oa,blackId:Yt,whiteNewRating:965,blackNewRating:1539,whiteOrigRating:1e3,blackOrigRating:1534,result:1},{id:"ysdEVYS2AyuKyOAwLLpTF",whiteId:na,blackId:ea,whiteNewRating:1648,blackNewRating:1167,whiteOrigRating:1200,blackOrigRating:1242,result:0},{id:"YoJ9WGokAYrmJjfxCCf87",whiteId:ra,blackId:aa,whiteNewRating:862,blackNewRating:1538,whiteOrigRating:1150,blackOrigRating:1250,result:1},{id:"Az7SBl3cs7rbwKPBI0IsU",whiteId:ta,blackId:Xt,whiteNewRating:1087,blackNewRating:1101,whiteOrigRating:983,blackOrigRating:1205,result:0}]),Dt.empty]}]]),ga=a(48);function va(e){switch(e){case 0:return"person";case 1:return"dummy";case 2:return"missing"}}function ba(e){switch(e){case"dummy":return 1;case"missing":return 2;case"person":default:return 0}}function pa(e){return ba(Ee.l(e))}var Ea={toString:va,fromString:ba,encode:va,decode:pa};function ya(e){return{firstName:Ee.g("firstName",Ee.l,e),id:Ee.g("id",Ie,e),lastName:Ee.g("lastName",Ee.l,e),matchCount:Ee.g("matchCount",Ee.b,e),rating:Ee.g("rating",Ee.b,e),type_:Ee.g("type_",pa,e)}}function Na(e){return Ce.d({hd:["firstName",e.firstName],tl:{hd:["id",e.id],tl:{hd:["lastName",e.lastName],tl:{hd:["matchCount",e.matchCount],tl:{hd:["rating",e.rating],tl:{hd:["type_",va(e.type_)],tl:0}}}}}})}var wa={firstName:"Bye",id:ye,lastName:"Player",matchCount:0,rating:0,type_:1};function _a(e,t){return Ne(t)?wa:f.e(e,t,function(e){return{firstName:"Anonymous",id:e,lastName:"Player",matchCount:0,rating:0,type_:2}}(t))}function ka(e,t){return{id:e,name:t,date:new Date,playerIds:0,scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:jt}}function Sa(e){var t={hd:Ee.e,tl:{hd:function(e){return e},tl:0}},a=Ee.j((function(e){return Ee.g("scoreAdjustments",(function(e){return Ee.d((function(e){return Ee.m(Ie,Ee.a,e)}),e)}),e)}),e);return{id:Ee.g("id",Ie,e),name:Ee.g("name",Ee.l,e),date:Ee.g("date",(function(e){return Ee.i(t,e)}),e),playerIds:Ee.g("playerIds",(function(e){return Ee.h(Ie,e)}),e),scoreAdjustments:d.h(a,Ae.make(void 0),Ae.fromArray),byeQueue:Ee.g("byeQueue",(function(e){return Ee.d(Ie,e)}),e),tieBreaks:Ee.g("tieBreaks",(function(e){return Ee.d(ut.decode,e)}),e),roundList:Ee.g("roundList",Lt,e)}}function Ra(e){return Ce.d({hd:["id",e.id],tl:{hd:["name",e.name],tl:{hd:["date",Ce.b(e.date)],tl:{hd:["playerIds",Ce.c(_e,e.playerIds)],tl:{hd:["byeQueue",Ce.a(_e,e.byeQueue)],tl:{hd:["tieBreaks",Ce.a(ut.encode,e.tieBreaks)],tl:{hd:["roundList",(t=e.roundList,Ce.a(Ct,t))],tl:{hd:["scoreAdjustments",Ce.a((function(e){return Ce.f(_e,(function(e){return e}),e)}),f.t(e.scoreAdjustments))],tl:0}}}}}}}});var t}function Aa(e,t,a,n,r,i,s){var o={name:a,storeName:r};return void 0!==e&&(o.description=g.d(e)),void 0!==t&&(o.driver=g.d(t)),void 0!==n&&(o.size=g.d(n)),void 0!==i&&(o.version=g.d(i)),o}var Ia=Et.a({encode:Pe,decode:Me}),Ca=Et.a({encode:Na,decode:ya}),Ta=Et.a({encode:Ra,decode:Sa}),Oa=ga.b(Aa(void 0,void 0,"Coronate",void 0,"Options",void 0),Ia),Ga=yt.d(Aa(void 0,void 0,"Coronate",void 0,"Players",void 0),Ca),Ba=yt.d(Aa(void 0,void 0,"Coronate",void 0,"Tournaments",void 0),Ta);function Da(e,t){switch(0|t.TAG){case 0:return f.p(e,t._0);case 1:return f.r(e,t._0,t._1);case 2:return t._0}}function ja(e){var t=n.useReducer(Da,Ae.make(void 0)),a=t[1],r=t[0],i=ft(!1);return bt(i.state),n.useEffect((function(){var t={contents:!1};return m.c(m.f(m.a.toResult(m.a.fromBsPromise(yt.a(e))),(function(e){if(!t.contents)return o.a(a,{TAG:2,_0:Ae.fromStringArray(e)}),o.a(i.setTrue,void 0)})),(function(e){if(!t.contents)return console.error(e),v.clear(),o.a(i.setTrue,void 0)})),function(e){t.contents=!0}}),[]),n.useEffect((function(){i.state&&m.d(m.a.toResult(m.a.fromBsPromise(yt.g(e,Ae.toStringArray(r)))),(function(t){return m.d(m.a.toResult(m.a.fromBsPromise(yt.c(e))),(function(t){var a=f.i(r),n=t.filter((function(e){return!a.includes(e)}));0===n.length||yt.e(e,n)}))}))}),[r,i]),{items:r,dispatch:a,loaded:i.state}}function La(e){return ja(Ga)}function Ma(e){return ja(Ba)}function Pa(e,t){switch(0|t.TAG){case 0:return{avoidPairs:h.a(e.avoidPairs,t._0),byeValue:e.byeValue,lastBackup:e.lastBackup};case 1:return{avoidPairs:h.e(e.avoidPairs,t._0),byeValue:e.byeValue,lastBackup:e.lastBackup};case 2:var a=t._0;return{avoidPairs:h.d(e.avoidPairs,Fe.$$Set.empty,(function(e,t){return Fe.has(t,a)?e:h.a(e,t)})),byeValue:e.byeValue,lastBackup:e.lastBackup};case 3:return{avoidPairs:t._0,byeValue:e.byeValue,lastBackup:e.lastBackup};case 4:return{avoidPairs:e.avoidPairs,byeValue:t._0,lastBackup:e.lastBackup};case 5:return t._0;case 6:return{avoidPairs:e.avoidPairs,byeValue:e.byeValue,lastBackup:t._0}}}function xa(e){var t=n.useReducer(Pa,xe),a=t[1],r=t[0],i=ft(!1);return n.useEffect((function(){var e={contents:!1};return m.c(m.f(m.a.toResult(m.a.fromBsPromise(ga.a(Oa))),(function(t){if(!e.contents)return o.a(a,{TAG:5,_0:t}),o.a(i.setTrue,void 0)})),(function(t){if(!e.contents)return v.clear(),o.a(a,{TAG:5,_0:xe}),o.a(i.setTrue,void 0)})),function(t){e.contents=!0}}),[]),n.useEffect((function(){i.state&&ga.c(Oa,r)}),[r,i.state]),[r,a]}var Fa=a(110),Va=a(66),Qa=a.n(Va),Wa=a(67);var Ha={icon:a.n(Wa).a};function za(e){var t=e.height,a=e.width,r=e.className,i=e.style,s=e.ariaLabel,o=e.ariaHidden,l=void 0!==t?t:"24",c=void 0!==a?a:"24",u=void 0!==r?r:"",d=void 0!==i?g.d(i):{},m=void 0!==s?s:Ha.icon.title+" Icon",f=void 0!==o&&o;return n.createElement("svg",{"aria-hidden":f,"aria-label":m,className:u,role:"img",style:Object.assign({},{fill:"#"+Ha.icon.hex},d),height:l,width:c,viewBox:"0 0 24 24"},n.createElement("path",{d:Ha.icon.path}))}za.displayName=Ha.icon.title;var qa=za,Ua={icon:Qa.a};function Ja(e){var t=e.height,a=e.width,r=e.className,i=e.style,s=e.ariaLabel,o=e.ariaHidden,l=void 0!==t?t:"24",c=void 0!==a?a:"24",u=void 0!==r?r:"",d=void 0!==i?g.d(i):{},m=void 0!==s?s:Ua.icon.title+" Icon",f=void 0!==o&&o;return n.createElement("svg",{"aria-hidden":f,"aria-label":m,className:u,role:"img",style:Object.assign({},{fill:"#"+Ua.icon.hex},d),height:l,width:c,viewBox:"0 0 24 24"},n.createElement("path",{d:Ua.icon.path}))}Ja.displayName=Ua.icon.title;var Ka=Ja,Za=a(104),Ya=a(105),$a=a(106),Xa=a(107),en=a(108),tn=a(109),an=a(47);function nn(e){if("number"!==typeof e)return e.TAG?"/players/"+e._0:"/tourneys/"+function(e,t){if("number"!==typeof t)return e+"/round/"+String(t._0);switch(t){case 0:return e+"/";case 1:return e+"/scores";case 2:return e+"/crosstable";case 3:return e+"/setup";case 4:return e+"/status"}}(e._0,e._1);switch(e){case 1:return"/tourneys";case 2:return"/players";case 3:return"/timecalc";case 4:return"/options";case 0:case 5:return"/"}}function rn(e){var t=an.b(void 0,void 0),a=E.c(fe.split(t.hash,"/"));if(!a)return 5;if(""!==a.hd)return 5;var n=a.tl;if(!n)return 0;switch(n.hd){case"":return n.tl?5:0;case"options":return n.tl?5:4;case"players":var r=n.tl;return r?r.tl?5:{TAG:1,_0:r.hd}:2;case"timecalc":return n.tl?5:3;case"tourneys":var i=n.tl;if(!i)return 1;var s=function(e){if(!e)return 0;switch(e.hd){case"":return e.tl?void 0:0;case"crosstable":return e.tl?void 0:2;case"round":var t=e.tl;if(!t)return;if(t.tl)return;var a=l.a(t.hd);return void 0!==a?{_0:a}:void 0;case"scores":return e.tl?void 0:1;case"setup":return e.tl?void 0:3;case"status":return e.tl?void 0:4;default:return}}(i.tl);return void 0!==s?{TAG:0,_0:i.hd,_1:s}:5;default:return 5}}var sn=function(e){var t=e.children,a=e.to_,r=e.onDragStart,i=e.onClick,s=an.b(void 0,void 0).hash,o=nn(a),l="/"===o&&""===s||s===o;return n.createElement("a",{"aria-current":l,href:"#"+o,onDragStart:r,onClick:i},t)},on=a(69);var ln=function(e){var t=e.isOpen,a=e.onDismiss,r=e.ariaLabel,i=e.children,s=e.style,o=void 0!==s?g.d(s):{};return n.createElement(on.a,{isOpen:t,onDismiss:a,style:o,"aria-label":r,children:i})},cn=a(71);function un(e){return""===e?"Coronate":fe.concat({hd:e,tl:{hd:"Coronate",tl:0}}," - ")}function dn(e,t){switch(0|t.TAG){case 0:return{isDialogOpen:t._0,isSidebarOpen:e.isSidebarOpen,title:e.title};case 1:return{isDialogOpen:e.isDialogOpen,isSidebarOpen:t._0,title:e.title};case 2:var a=t._0;return d.b(cn.a(document),(function(e){e.title=un(a)})),{isDialogOpen:e.isDialogOpen,isSidebarOpen:e.isSidebarOpen,title:a}}}function mn(e){return n.createElement("article",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},n.createElement("div",{style:{textAlign:"center",flex:"0 0 48%"}},n.createElement("img",{alt:"",height:"196",src:D.logo,width:"196"})),n.createElement("div",{style:{flex:"0 0 48%"}},n.createElement("h1",{className:"title",style:{textAlign:"left"}},"Coronate"),n.createElement("p",void 0,"Version 1.1.0"),n.createElement("p",void 0,fe.concat({hd:"Copyright ",tl:{hd:L,tl:{hd:" 2020 John",tl:{hd:j,tl:{hd:"Jackson",tl:0}}}}},"")),n.createElement("p",void 0,"Coronate is free software."),n.createElement("p",void 0,n.createElement("a",{href:de},"Source code is available"),n.createElement("br",void 0)," under the ",n.createElement("a",{href:me},"AGPL v3.0 license"),".")))}var fn=o.a(s.G,{hd:s.j(te),tl:0}),hn=i.a(fn,"button-ghost");function gn(e){var t=e.isSidebarOpen,a=e.title,r=e.dispatch;return n.createElement("header",{className:"app__header"},n.createElement("div",void 0,n.createElement("button",{className:hn,onClick:function(e){return o.a(r,{TAG:1,_0:!t})}},n.createElement(Za.a,{}),n.createElement(dt.a,{children:"Toggle sidebar"})),n.createElement("button",{className:hn,onClick:function(e){return o.a(r,{TAG:0,_0:!0})}},n.createElement(Ya.a,{}),n.createElement(dt.a,{children:"About Coronate"}))),n.createElement("div",{className:"body-20",style:{left:"0",marginRight:"auto",marginLeft:"auto",position:"absolute",right:"0",textAlign:"center",width:"50%"}},un(a)))}function vn(e){e.preventDefault()}function bn(e){return n.createElement("nav",void 0,n.createElement("ul",{style:{margin:"0"}},n.createElement("li",void 0,n.createElement(sn,{children:null,to_:1,onDragStart:vn},n.createElement($a.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},j+"Tournaments"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:2,onDragStart:vn},n.createElement(Xa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},j+"Players"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:4,onDragStart:vn},n.createElement(en.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},j+"Options"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:3,onDragStart:vn},n.createElement(tn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},j+"Time calculator"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:0,onDragStart:vn},n.createElement(Ya.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},j+"Info")))))}function pn(e){return n.createElement(bn,{})}var En=function(e){var t=e.children,a=e.footerFunc,r=e.sidebarFunc,s=void 0!==r?r:pn;return n.createElement("div",{className:i.a("winBody",i.d("winBody-hasFooter",a))},n.createElement("div",{className:"win__sidebar"},o.a(s,void 0)),n.createElement("div",{className:"win__content"},t),void 0!==a?n.createElement("footer",{className:"win__footer"},o.a(a,void 0)):null)},yn=function(e){var t=e.children,a=e.className,r=n.useReducer(dn,{isDialogOpen:!1,isSidebarOpen:!0,title:""}),s=r[0],l=s.isSidebarOpen,c=r[1];return n.createElement("div",{className:i.a(i.a(a,i.c("open-sidebar",l)),i.c("closed-sidebar",!l))},n.createElement(gn,{isSidebarOpen:l,title:s.title,dispatch:c}),o.a(t,c),n.createElement(ln,{isOpen:s.isDialogOpen,onDismiss:function(e){return o.a(c,{TAG:0,_0:!1})},ariaLabel:"About Coronate",children:null,style:{backgroundColor:"var(--grey-20)"}},n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(c,{TAG:0,_0:!1})}},"Close"),n.createElement(mn,{})))},Nn=o.a(s.G,{hd:s.l("flex"),tl:{hd:s.m("column"),tl:{hd:s.a("center"),tl:{hd:s.s({NAME:"percent",VAL:100}),tl:{hd:s.u("spaceBetween"),tl:{hd:s.c($),tl:0}}}}}}),wn=o.a(s.G,{hd:s.w("zero","auto"),tl:{hd:s.s({NAME:"px",VAL:64}),tl:{hd:s.A("visible"),tl:0}}}),_n=o.a(s.G,{hd:s.w({NAME:"px",VAL:8},"zero"),tl:0}),kn=o.a(s.G,{hd:s.c(ae),tl:{hd:s.j(X),tl:{hd:s.C("zero",{NAME:"px",VAL:16}),tl:{hd:s.l("flex"),tl:{hd:s.u("spaceBetween"),tl:0}}}}}),Sn=o.a(s.G,{hd:s.j(K),tl:{hd:s.t({hd:s.j(Z),tl:0}),tl:0}}),Rn=o.a(s.G,{hd:s.j(te),tl:{hd:s.w("zero","auto"),tl:{hd:s.l("flex"),tl:{hd:s.b("center"),tl:0}}}}),An=o.a(s.G,{hd:s.o(1),tl:{hd:s.x({NAME:"px",VAL:8}),tl:0}}),In=o.a(s.G,{hd:s.n(1),tl:0}),Cn=o.a(s.G,{hd:s.H("right"),tl:{hd:s.v("zero"),tl:0}});function Tn(e){return Math.log(e)/Math.log(2)}function On(e){return e<0||e===u.d||e===u.e?0:e}function Gn(e,t,a){a.preventDefault();var n=d.d(l.a(a.currentTarget.value),t),r=n<t?t:n;return o.a(e,(function(e){return r}))}var Bn=function(e){return n.createElement("p",{className:"content-area"},"Page not found.")},Dn=function(e){return n.createElement(En,{children:n.createElement("div",{className:Nn},n.createElement("aside",{className:wn},n.createElement("ol",void 0,n.createElement("li",{className:_n},n.createElement("button",{className:"button-primary",onClick:function(e){return document.body.style.cursor="wait",m.b(m.a.$$catch(m.a.fromBsPromise(Promise.all([ga.c(Oa,ma),yt.g(Ga,Ae.toStringArray(fa)),yt.g(Ba,Ae.toStringArray(ha))])),(function(e){return document.body.style.cursor="auto",B("Couldn't load demo data."),m.e([void 0,void 0,void 0])})),(function(e){return document.body.style.cursor="auto",B("Demo data loaded!")}))}},"Click here to load the demo data")," (optional)"),n.createElement("li",{className:_n},n.createElement(Fa.a,{})," Select a menu item."),n.createElement("li",{className:_n},"Start creating your tournaments!")),n.createElement(ve,{children:null,kind:1},"If you experience glitches or crashes,",n.createElement("br",void 0),"clear your browser cache and try again.")),n.createElement("div",{className:Rn},n.createElement("div",{className:An},n.createElement("img",{alt:"",height:"96",src:D.logo,width:"96"})),n.createElement("div",{className:In},n.createElement("h1",{className:"title",style:{fontSize:"40px"}},"Coronate"),n.createElement("p",{className:i.a(Cn,"caption-30")},"Tournament manager"))),n.createElement("footer",{className:i.a(kn,"body-20")},n.createElement("div",{style:{textAlign:"left"}},n.createElement("p",void 0,"Copyright "+L+" 2020 John Jackson."),n.createElement("p",void 0,"Coronate is free software.",n.createElement("br",void 0),n.createElement("a",{className:Sn,href:de},"Source code is available")," under the ",n.createElement("a",{className:Sn,href:me},"AGPL v3.0 license"),".")),n.createElement("div",{style:{textAlign:"right"}},n.createElement("p",void 0,n.createElement("a",{className:Sn,href:"https://github.com/johnridesabike/coronate/issues/new"},"Suggestions and bug reports are welcome.")),n.createElement("p",void 0,"Built with ",n.createElement("a",{className:Sn,href:"https://reasonml.github.io/"},"Reason")," & ",n.createElement("a",{className:Sn,href:"https://reasonml.github.io/reason-react/"},"ReasonReact"),". ",n.createElement("span",{style:{fontSize:"16px"}},n.createElement(qa,{})," ",n.createElement(Ka,{}))))))})},jn=function(e){var t=n.useState((function(){return 2})),a=t[1],r=t[0],i=n.useState((function(){return 5})),s=i[1],l=i[0],u=n.useState((function(){return 4})),m=u[1],f=u[0];return n.createElement(En,{children:n.createElement("div",{className:"content-area"},n.createElement("h1",void 0,"Time calculator"),n.createElement("p",{className:"caption-30"},"Estimate the time requirements for planning your Swiss-style tournament."),n.createElement("form",void 0,n.createElement("table",{style:{margin:"0"}},n.createElement("tbody",void 0,n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"playerCount"},"Player count ")),n.createElement("td",void 0,n.createElement("input",{id:"playerCount",style:{width:"40px"},min:String(0),type:"number",value:String(r),onChange:function(e){return Gn(a,0,e)}}))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",void 0,"Round count")),n.createElement("td",void 0,On(Math.ceil(Tn(r))))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"breakTime"},"Breaks between rounds ")),n.createElement("td",void 0,n.createElement("input",{id:"breakTime",style:{width:"40px"},min:String(0),step:5,type:"number",value:String(l),onChange:function(e){return Gn(s,0,e)}})," minutes")),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"totalTime"},"Total time available ")),n.createElement("td",void 0,n.createElement("input",{id:"totalTime",style:{width:"40px"},min:String(.5),step:.5,type:"number",value:String(f),onChange:function(e){e.preventDefault();var t=d.d(c.a(e.currentTarget.value),.5),a=t<.5?.5:t;return o.a(m,(function(e){return a}))}})," hours"))))),n.createElement("p",{className:"title-20"},"Maximum time control: "),n.createElement("p",void 0,n.createElement("span",{className:"title-20"},On(Math.ceil((60*f/Math.ceil(Tn(r))-l)/2))," minutes"),n.createElement("span",{className:"caption-30"}," = ((",n.createElement("strong",{className:"monospace"},f)," \xd7 60 \xf7 \u2308log\u2082(",n.createElement("strong",{className:"monospace"},r),")\u2309) - ",n.createElement("strong",{className:"monospace"},l),") \xf7 2")))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ln(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var Mn=a(53),Pn=a(28),xn=a(111),Fn="Crow_T_Robot_________",Vn="Dr_Clayton_Forrester_",Qn="Grandy_McMaster______",Wn="Gypsy________________",Hn="Joel_Robinson________",zn="Newbie_McNewberson___",qn="Tom_Servo____________",Un="TVs_Frank____________",Jn="Cambot_______________",Kn="Jonah_Heston_________",Zn="Kinga_Forrester______",Yn="Larry_Erhardt________",$n="Mike_Nelson__________",Xn="Observer_Brain_Guy___",er="Pearl_Forrester______",tr="Professor_Bobo_______",ar="TVs_Son_of_TVs_Frank_",nr=(o.a(Fe.$$Set.fromArray,y.j([[Un,ar],[er,Vn],[Zn,Vn],[Zn,er]],(function(e){return Fe.make(e[0],e[1])}))),new Date("1970-01-01T00:00:00.000Z"),Ae.fromArray([[Jn,{firstName:"Cambot",id:Jn,lastName:"",matchCount:25,rating:1500,type_:0}],[Fn,{firstName:"Crow T",id:Fn,lastName:"Robot",matchCount:5,rating:1700,type_:0}],[Vn,{firstName:"Clayton",id:Vn,lastName:"Forrester",matchCount:40,rating:2100,type_:0}],[Qn,{firstName:"Grandy",id:Qn,lastName:"McMaster",matchCount:100,rating:2600,type_:0}],[Wn,{firstName:"Gypsy",id:Wn,lastName:"",matchCount:15,rating:1600,type_:0}],[Hn,{firstName:"Joel",id:Hn,lastName:"Robinson",matchCount:70,rating:2400,type_:0}],[Kn,{firstName:"Jonah",id:Kn,lastName:"Heston",matchCount:50,rating:2200,type_:0}],[Zn,{firstName:"Kinga",id:Zn,lastName:"Forrester",matchCount:20,rating:1900,type_:0}],[Yn,{firstName:"Larry",id:Yn,lastName:"Erhardt",matchCount:45,rating:1300,type_:0}],[$n,{firstName:"Mike",id:$n,lastName:"Nelson",matchCount:60,rating:2300,type_:0}],[zn,{firstName:"Newbie",id:zn,lastName:"McNewberson",matchCount:0,rating:800,type_:0}],[Xn,{firstName:"Brain",id:Xn,lastName:"Guy",matchCount:55,rating:1200,type_:0}],[er,{firstName:"Pearl",id:er,lastName:"Forrester",matchCount:30,rating:2e3,type_:0}],[tr,{firstName:"Bobo",id:tr,lastName:"Professor",matchCount:75,rating:1e3,type_:0}],[Un,{firstName:"TV's",id:Un,lastName:"Frank",matchCount:35,rating:1400,type_:0}],[ar,{firstName:"TV's",id:ar,lastName:"Max",matchCount:65,rating:1100,type_:0}],[qn,{firstName:"Tom",id:qn,lastName:"Servo",matchCount:10,rating:1800,type_:0}]]),Ae.fromArray([["Bye_Round_Tourney____",{id:"Bye_Round_Tourney____",name:"Bye Round Tourney",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:{hd:Hn,tl:{hd:Fn,tl:{hd:qn,tl:{hd:Wn,tl:{hd:Jn,tl:{hd:zn,tl:{hd:Qn,tl:0}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:jt}],["Bye_Round_Tourney_2__",{id:"Bye_Round_Tourney_2__",name:"Bye Round Tourney 2",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:{hd:Hn,tl:{hd:Fn,tl:{hd:qn,tl:{hd:Wn,tl:{hd:Jn,tl:{hd:zn,tl:{hd:Qn,tl:0}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"xTXxZHB0sTt__xIAg45fm",whiteId:Qn,blackId:Fn,whiteNewRating:2592,blackNewRating:1833,whiteOrigRating:2600,blackOrigRating:1700,result:1},{id:"zQcf9RWXK7iuU6ibPzrhU",whiteId:Hn,blackId:Wn,whiteNewRating:2400,blackNewRating:1600,whiteOrigRating:2400,blackOrigRating:1600,result:0},{id:"Vw_X0c7O4vshrYEO-oSzR",whiteId:qn,blackId:Jn,whiteNewRating:1738,blackNewRating:1526,whiteOrigRating:1800,blackOrigRating:1500,result:1},{id:"iSDujOVkOTrcLv_KJmd7s",whiteId:zn,blackId:ye,whiteNewRating:800,blackNewRating:0,whiteOrigRating:800,blackOrigRating:0,result:0}])]}],["Bye_Tourney_3________",{id:"Bye_Tourney_3________",name:"Bye Tourney 3",date:new Date("2019-06-17T23:00:29.603Z"),playerIds:{hd:Zn,tl:{hd:zn,tl:{hd:Kn,tl:0}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"KkFr4B7FDqiHRWmACgApf",whiteId:Zn,blackId:Kn,whiteNewRating:1894,blackNewRating:2202,whiteOrigRating:1900,blackOrigRating:2200,result:1},{id:"R_BTsGSziwgyvFZM3yc5u",whiteId:zn,blackId:ye,whiteNewRating:793,blackNewRating:0,whiteOrigRating:793,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"rcyCfpZU6olav5kdVac44",whiteId:Kn,blackId:zn,whiteNewRating:2187,blackNewRating:953,whiteOrigRating:2202,blackOrigRating:793,result:1},{id:"Nc0Om5fEuwSuzFls9wmME",whiteId:Zn,blackId:ye,whiteNewRating:1894,blackNewRating:0,whiteOrigRating:1894,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"uawjKwbiA38RP8pA--tlw",whiteId:zn,blackId:Zn,whiteNewRating:952,blackNewRating:1894,whiteOrigRating:953,blackOrigRating:1894,result:1},{id:"-kwIDxjPhWVRbqxtRZ26_",whiteId:Kn,blackId:ye,whiteNewRating:2187,blackNewRating:0,whiteOrigRating:2187,blackOrigRating:0,result:0}])]}],["Simple_Pairing_______",{id:"Simple_Pairing_______",name:"Simple Pairing",date:new Date("2019-06-14T11:40:34.407Z"),playerIds:{hd:zn,tl:{hd:Qn,tl:{hd:Hn,tl:{hd:Vn,tl:{hd:Un,tl:{hd:Fn,tl:{hd:qn,tl:{hd:Wn,tl:0}}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"KdLva8hWqYHdaU9KnFTe2",whiteId:Fn,blackId:Qn,whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"WDPFsNF1yADs4qofFwCY0",whiteId:Wn,blackId:Hn,whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"R5sXfTOJw5vrJ4IytAjSi",whiteId:Un,blackId:Vn,whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"2YOsn_JJFnaUMhRBAc9KY",whiteId:zn,blackId:qn,whiteNewRating:1597,blackNewRating:1728,whiteOrigRating:800,blackOrigRating:1800,result:0}]),Dt.empty]}],["Pairing_With_Draws___",{id:"Pairing_With_Draws___",name:"Pairing with draws",date:new Date("2019-06-14T14:18:06.686Z"),playerIds:{hd:zn,tl:{hd:Qn,tl:{hd:Hn,tl:{hd:Vn,tl:{hd:Un,tl:{hd:Fn,tl:{hd:qn,tl:{hd:Wn,tl:0}}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"ryWXwvFGwBKQqGBbMYeps",whiteId:Fn,blackId:Qn,whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"2KKVbi0AfNxfJAJobTgP5",whiteId:Wn,blackId:Hn,whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"zdlBHBAqgV2qabn2oBa2a",whiteId:Un,blackId:Vn,whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"8fGxU3tLpd8GibuSQr9-Y",whiteId:zn,blackId:qn,whiteNewRating:1197,blackNewRating:1764,whiteOrigRating:800,blackOrigRating:1800,result:2}]),Dt.empty]}],["WY_AzAeDDZeHMbhgUVuum",{id:"WY_AzAeDDZeHMbhgUVuum",name:"Score testing",date:new Date("2020-06-28T12:42:46.347Z"),playerIds:{hd:Hn,tl:{hd:$n,tl:{hd:tr,tl:{hd:qn,tl:{hd:ar,tl:{hd:Un,tl:{hd:Jn,tl:{hd:Vn,tl:{hd:Fn,tl:{hd:er,tl:{hd:Xn,tl:{hd:Zn,tl:{hd:Kn,tl:0}}}}}}}}}}}}},scoreAdjustments:Ae.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Dt.fromArray([{id:"IPRs48UZ3ubxbyzs9-Aj8",whiteId:Hn,blackId:qn,whiteNewRating:2400,blackNewRating:1798,whiteOrigRating:2400,blackOrigRating:1800,result:0},{id:"tcrk4_Eze6YB1jfgFxMg2",whiteId:Fn,blackId:$n,whiteNewRating:1695,blackNewRating:2300,whiteOrigRating:1700,blackOrigRating:2300,result:1},{id:"g30WVQazEVlyFZoB_iKNP",whiteId:Jn,blackId:Kn,whiteNewRating:1531,blackNewRating:2184,whiteOrigRating:1500,blackOrigRating:2200,result:0},{id:"z6z2X8Al9iNDmx2rc6iSd",whiteId:Vn,blackId:Un,whiteNewRating:2080,blackNewRating:1422,whiteOrigRating:2100,blackOrigRating:1400,result:1},{id:"_wRcKBpFnPspJeiglbv42",whiteId:Xn,blackId:er,whiteNewRating:1214,blackNewRating:1974,whiteOrigRating:1200,blackOrigRating:2e3,result:0},{id:"g35wmUfw3--3dZvF4Dxai",whiteId:Zn,blackId:ar,whiteNewRating:1860,blackNewRating:1112,whiteOrigRating:1900,blackOrigRating:1100,result:1},{id:"ZFwPgPSrdR0dsiROQpZmq",whiteId:tr,blackId:ye,whiteNewRating:1e3,blackNewRating:0,whiteOrigRating:1e3,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"gvr8PMNdqVwvMHpQZhxKW",whiteId:Un,blackId:Hn,whiteNewRating:1444,blackNewRating:2389,whiteOrigRating:1422,blackOrigRating:2400,result:0},{id:"n02yWL6MNgkS19IREj_Df",whiteId:$n,blackId:Xn,whiteNewRating:2287,blackNewRating:1228,whiteOrigRating:2300,blackOrigRating:1214,result:1},{id:"Luic7R_pGjZmSYxN1uNmc",whiteId:ar,blackId:Jn,whiteNewRating:1123,blackNewRating:1503,whiteOrigRating:1112,blackOrigRating:1531,result:0},{id:"Ew_xdm0tKHE1423CYoApT",whiteId:er,blackId:tr,whiteNewRating:1949,blackNewRating:1010,whiteOrigRating:1974,blackOrigRating:1e3,result:1},{id:"steThF-oNT-fBZe4AUHjc",whiteId:Kn,blackId:Zn,whiteNewRating:2186,blackNewRating:1855,whiteOrigRating:2184,blackOrigRating:1860,result:0},{id:"3QPqo0tMvKVzgaQOFjezL",whiteId:qn,blackId:Vn,whiteNewRating:1786,blackNewRating:2083,whiteOrigRating:1798,blackOrigRating:2080,result:1},{id:"BsbnpljVf9OagbfT8sUhJ",whiteId:Fn,blackId:ye,whiteNewRating:1695,blackNewRating:0,whiteOrigRating:1695,blackOrigRating:0,result:0}]),Dt.fromArray([{id:"lqRRkcPXADxNcZoYNUs4O",whiteId:tr,blackId:Un,whiteNewRating:1019,blackNewRating:1425,whiteOrigRating:1010,blackOrigRating:1444,result:0},{id:"tFw25nJzFa1DNC3kEBlvL",whiteId:Xn,blackId:ar,whiteNewRating:1219,blackNewRating:1130,whiteOrigRating:1228,blackOrigRating:1123,result:1},{id:"4s3IVU-DxR2itlDt6Pbry",whiteId:Vn,blackId:Kn,whiteNewRating:2095,blackNewRating:2176,whiteOrigRating:2083,blackOrigRating:2186,result:0},{id:"-J00pFQGNydkCVJ9IY57T",whiteId:Jn,blackId:$n,whiteNewRating:1503,blackNewRating:2287,whiteOrigRating:1503,blackOrigRating:2287,result:1},{id:"aN_Nzb1GFvoIT1Dlu3bn9",whiteId:Hn,blackId:er,whiteNewRating:2390,blackNewRating:1947,whiteOrigRating:2389,blackOrigRating:1949,result:0},{id:"taKyrpJg9XpACuWq16bum",whiteId:Zn,blackId:Fn,whiteNewRating:1829,blackNewRating:1790,whiteOrigRating:1855,blackOrigRating:1695,result:1},{id:"Rh_UVxVKowtjSpeH-4Xwc",whiteId:qn,blackId:ye,whiteNewRating:1786,blackNewRating:0,whiteOrigRating:1786,blackOrigRating:0,result:0}]),Dt.fromArray([])]}]]),a(19));function rr(e){var t=new Date;return fe.concat({hd:String(t.getFullYear()),tl:{hd:p.a(t.getMonth()+1).format("00"),tl:{hd:p.a(t.getDate()).format("00"),tl:0}}},"-")}function ir(e){var t=Ee.g("players",(function(e){return Ee.f(ya,e)}),e),a=Ee.g("tournaments",(function(e){return Ee.f(Sa,e)}),e);return{config:Ee.g("config",Me,e),players:Ae.fromStringArray(Pn.a(t)),tournaments:Ae.fromStringArray(Pn.a(a))}}function sr(e){var t=f.k(e.players,Na),a=f.k(e.tournaments,Ra);return Ce.d({hd:["config",Pe(e.config)],tl:{hd:["players",Pn.b(Ae.toStringArray(t))],tl:{hd:["tournaments",Pn.b(Ae.toStringArray(a))],tl:0}}})}function or(e){var t=e.date;return 0===t.getTime()?"Never":n.createElement(ge,{date:t})}var lr=function(e){var t=e.windowDispatch,a=void 0!==t?t:function(e){},r=Ma(),i=r.dispatch,s=r.items,l=La(),c=l.dispatch,u=l.items,d=n.useState((function(){return""})),m=d[1],f=d[0],h=xa(),v=h[1],b=h[0];n.useEffect((function(){return o.a(a,{TAG:2,_0:"Options"}),function(e){return o.a(a,{TAG:2,_0:""})}}),[a]);var p=n.useMemo((function(){return{config:b,players:u,tournaments:s}}),[b,s,u]),E=encodeURIComponent(Mn.b(sr(p)));n.useEffect((function(){var e=sr(p),t=JSON.stringify(e,null,4);o.a(m,(function(e){return t}))}),[p,m]);var N=function(e,t,a){return o.a(i,{TAG:2,_0:e}),o.a(v,{TAG:5,_0:a}),o.a(c,{TAG:2,_0:t}),B("Data loaded.")},w=b.byeValue,_=b.byeValue;return n.createElement(En,{children:n.createElement("div",{className:"content-area"},n.createElement("h2",void 0,"Bye  settings"),n.createElement("form",void 0,n.createElement("p",{className:"caption-30"},"Select the default score for a bye round."),n.createElement("label",{className:"monospace body-30"},"1 ",n.createElement("input",{checked:!w,type:"radio",onChange:function(e){return o.a(v,{TAG:4,_0:0})}})),n.createElement("label",{className:"monospace body-30"},"\xbd ",n.createElement("input",{checked:!!_,type:"radio",onChange:function(e){return o.a(v,{TAG:4,_0:1})}}))),n.createElement("h2",void 0,"Manage data"),n.createElement("p",{className:"caption-20"},"Last export: ",n.createElement(or,{date:b.lastBackup})),n.createElement("p",void 0,n.createElement("a",{download:"coronate-"+rr()+".json",href:"data:application/json,"+E,onClick:function(e){return o.a(v,{TAG:6,_0:new Date})}},n.createElement(xn.a,{})," Export all data")),n.createElement("label",{htmlFor:"file"},"Load data file:"),n.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t,a=e.target.result,n=Mn.a(a);if(void 0===n)return B("That data is invalid! A more helpful error message could not be written yet.");try{t=ir(g.d(n))}catch(i){var r=nr.b(i);if(r.RE_EXN_ID===Ee.c)return B("That data is invalid! A more helpful error message could not be written yet.");throw r}return N(t.tournaments,t.players,t.config)},t.readAsText(y.g(e.currentTarget.files,0)),e.currentTarget.value=""}}),n.createElement("h2",void 0,"Danger zone"),n.createElement("p",{className:"caption-30"},"I hope you know what you're doing..."),n.createElement("button",{onClick:function(e){return e.preventDefault(),N(ha,fa,ma)}},"Reset demo data (this erases everything else)")," ",null,n.createElement("h3",void 0,"Advanced: manually edit data"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a=Mn.a(f);if(void 0===a)return B("That data is invalid! A more helpful error message could not be written yet.");try{t=ir(g.d(a))}catch(r){var n=nr.b(r);if(n.RE_EXN_ID===Ee.c)return B("That data is invalid! A more helpful error message could not be written yet.");throw n}return N(t.tournaments,t.players,t.config)}},n.createElement("textarea",{className:"json",spellCheck:!1,cols:50,name:"playerdata",rows:25,value:f,onChange:function(e){var t=e.currentTarget.value;return o.a(m,(function(e){return t}))}}),n.createElement("p",void 0,n.createElement("input",{type:"submit",value:"Load"}))))})},cr=a(26),ur=a(112),dr=a(113),mr=a(114),fr=a(68);function hr(e,t){return 1/(1+Math.pow(10,(t-e|0)/400))}function gr(e,t,a,n){return 0|Math.round(n+e*(a-t))}function vr(e){var t=e>0?e:1;return fr.a(800,t)}function br(e){return e>100?e:100}var pr={getKFactor:vr},Er=a(50),yr={TAG:0,_0:function(e){return e.firstName}},Nr={TAG:1,_0:function(e){return e.rating}},wr={TAG:1,_0:function(e){return e.matchCount}},_r={strategy:3,validate:function(e){var t=l.a(e.matchCount);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Match count must be a number"}}},kr={strategy:3,validate:function(e){var t=l.a(e.rating);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Rating must be a number"}}},Sr={strategy:3,validate:function(e){var t=e.lastName;return""===t?{TAG:1,_0:"Last name is required"}:{TAG:0,_0:t}}},Rr={strategy:3,validate:function(e){var t=e.firstName;return""===t?{TAG:1,_0:"First name is required"}:{TAG:0,_0:t}}},Ar={matchCount:_r,rating:kr,lastName:Sr,firstName:Rr};function Ir(e){return{input:e,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:void 0,formStatus:0,submissionStatus:0}}function Cr(e,t,a){var n,r=a.matchCount,i=r?r._0:o.a(t.matchCount.validate,e),s=a.rating,l=s?s._0:o.a(t.rating.validate,e),c=a.lastName,u=c?c._0:o.a(t.lastName.validate,e),d=a.firstName,m=d?d._0:o.a(t.firstName.validate,e),f=i;if(f.TAG)n=f;else{var h=l;if(h.TAG)n=f;else{var g=u;if(g.TAG)n=f;else{var v=m;if(!v.TAG)return{TAG:0,output:{firstName:v._0,lastName:g._0,rating:h._0,matchCount:f._0},fieldsStatuses:{matchCount:{_0:f,_1:0},rating:{_0:h,_1:0},lastName:{_0:g,_1:0},firstName:{_0:v,_1:0}},collectionsStatuses:void 0};n=f}}}return{TAG:1,fieldsStatuses:{matchCount:{_0:n,_1:0},rating:{_0:l,_1:0},lastName:{_0:u,_1:0},firstName:{_0:m,_1:0}},collectionsStatuses:void 0}}function Tr(e,t){var a,r=n.useMemo((function(){return Ir(e)}),[e]),i=Er.a(r,(function(a,n){if("number"===typeof n)switch(n){case 0:var r=cr.b(a.input,a.fieldsStatuses.matchCount,_r,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}}));return void 0!==r?{TAG:0,_0:{input:a.input,fieldsStatuses:r,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 1:var i=cr.b(a.input,a.fieldsStatuses.rating,kr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}}));return void 0!==i?{TAG:0,_0:{input:a.input,fieldsStatuses:i,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 2:var s=cr.b(a.input,a.fieldsStatuses.lastName,Sr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}}));return void 0!==s?{TAG:0,_0:{input:a.input,fieldsStatuses:s,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 3:var l=cr.b(a.input,a.fieldsStatuses.firstName,Rr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}}));return void 0!==l?{TAG:0,_0:{input:a.input,fieldsStatuses:l,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 4:var c=a.formStatus;if("number"!==typeof c&&!c.TAG)return 0;var u=Cr(a.input,Ar,a.fieldsStatuses);if(u.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:u.fieldsStatuses,collectionsStatuses:u.collectionsStatuses,formStatus:0,submissionStatus:1}};var d,m=u.output,f=a.formStatus;return d="number"===typeof f||1!==f.TAG?void 0:g.b(f._0),{TAG:1,_0:{input:a.input,fieldsStatuses:u.fieldsStatuses,collectionsStatuses:u.collectionsStatuses,formStatus:{TAG:0,_0:d},submissionStatus:1},_1:function(e){var a=e.dispatch;return o.b(t,m,{notifyOnSuccess:function(e){return o.a(a,{TAG:4,_0:e})},notifyOnFailure:function(e){return o.a(a,{TAG:5,_0:e})},reset:function(e){return o.a(a,7)},dismissSubmissionResult:function(e){return o.a(a,6)}})}};case 5:var h=a.formStatus;return"number"===typeof h||1!==h.TAG?0:{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 6:var v=a.formStatus;if("number"===typeof v){if(0===v)return 0}else if(!v.TAG)return 0;return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 7:return{TAG:0,_0:Ir(e)}}else switch(0|n.TAG){case 0:var b=o.a(n._0,a.input);return{TAG:0,_0:{input:b,fieldsStatuses:cr.c(b,a.fieldsStatuses.matchCount,a.submissionStatus,_r,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 1:var p=o.a(n._0,a.input);return{TAG:0,_0:{input:p,fieldsStatuses:cr.c(p,a.fieldsStatuses.rating,a.submissionStatus,kr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 2:var E=o.a(n._0,a.input);return{TAG:0,_0:{input:E,fieldsStatuses:cr.c(E,a.fieldsStatuses.lastName,a.submissionStatus,Sr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 3:var y=o.a(n._0,a.input);return{TAG:0,_0:{input:y,fieldsStatuses:cr.c(y,a.fieldsStatuses.firstName,a.submissionStatus,Rr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 4:var N=n._0;return void 0!==N?{TAG:0,_0:{input:N,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}}:{TAG:0,_0:{input:a.input,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}};case 5:return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:n._0},submissionStatus:a.submissionStatus}};case 6:var w=n._0,_=a.formStatus;if("number"===typeof _)return 0;if(_.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:o.a(w,_._0)},submissionStatus:a.submissionStatus}};var k=_._0;return void 0!==k?{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:0,_0:g.b(o.a(w,g.d(k)))},submissionStatus:a.submissionStatus}}:0}})),s=i[1],l=i[0],c=l.formStatus;return a="number"!==typeof c&&!c.TAG,{updateMatchCount:function(e,t){return o.a(s,{TAG:0,_0:function(a){return o.b(e,a,t)}})},updateRating:function(e,t){return o.a(s,{TAG:1,_0:function(a){return o.b(e,a,t)}})},updateLastName:function(e,t){return o.a(s,{TAG:2,_0:function(a){return o.b(e,a,t)}})},updateFirstName:function(e,t){return o.a(s,{TAG:3,_0:function(a){return o.b(e,a,t)}})},blurMatchCount:function(e){return o.a(s,0)},blurRating:function(e){return o.a(s,1)},blurLastName:function(e){return o.a(s,2)},blurFirstName:function(e){return o.a(s,3)},matchCountResult:cr.a(l.fieldsStatuses.matchCount),ratingResult:cr.a(l.fieldsStatuses.rating),lastNameResult:cr.a(l.fieldsStatuses.lastName),firstNameResult:cr.a(l.fieldsStatuses.firstName),input:l.input,status:l.formStatus,dirty:function(e){var t=l.fieldsStatuses;return!!(t.matchCount||t.rating||t.lastName||t.firstName)},valid:function(e){return!Cr(l.input,Ar,l.fieldsStatuses).TAG},submitting:a,submit:function(e){return o.a(s,4)},dismissSubmissionError:function(e){return o.a(s,5)},dismissSubmissionResult:function(e){return o.a(s,6)},mapSubmissionError:function(e){return o.a(s,{TAG:6,_0:e})},reset:function(e){return o.a(s,7)}}}function Or(e){return void 0!==e&&e.TAG?n.createElement(ve,{children:e._0,kind:2}):null}function Gr(e){var t=e.dispatch,a=e.addPlayerCallback,r=Tr({firstName:"",lastName:"",rating:"1200",matchCount:"0"},(function(e,n){var r=we();return o.a(t,{TAG:1,_0:r,_1:{firstName:e.firstName,id:r,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:0}}),void 0!==a&&o.a(a,r),o.a(n.notifyOnSuccess,void 0),o.a(n.reset,void 0)}));return n.createElement("form",{onSubmit:function(e){return e.preventDefault(),o.a(r.submit,void 0)}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Register a new player"),n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",required:!0,type:"text",value:r.input.firstName,onBlur:function(e){return o.a(r.blurFirstName,void 0)},onChange:function(e){return o.b(r.updateFirstName,(function(e,t){return{firstName:t,lastName:e.lastName,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Or(r.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",required:!0,type:"text",value:r.input.lastName,onBlur:function(e){return o.a(r.blurLastName,void 0)},onChange:function(e){return o.b(r.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:t,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Or(r.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"form-newplayer-rating"},"Rating"),n.createElement("input",{id:"form-newplayer-rating",name:"rating",required:!0,type:"number",value:r.input.rating,onBlur:function(e){return o.a(r.blurRating,void 0)},onChange:function(e){return o.b(r.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:t,matchCount:e.matchCount}}),e.target.value)}})),Or(r.ratingResult),n.createElement("p",void 0,n.createElement("button",{disabled:r.submitting||!o.a(r.valid,void 0)},"Add"))))}var Br=Gr;function Dr(e){var t=e.sorted,a=e.sortDispatch,r=e.players,i=e.playersDispatch,s=e.configDispatch,l=e.windowDispatch,c=void 0!==l?l:function(e){},u=ft(!1);return n.useEffect((function(){return o.a(c,{TAG:2,_0:"Players"}),function(e){return o.a(c,{TAG:2,_0:""})}}),[c]),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return o.a(u.setTrue,void 0)}},n.createElement(ur.a,{})," Add a new player")),n.createElement("table",{style:{margin:"auto"}},n.createElement("caption",void 0,"Player roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(vt,{children:"Name",sortColumn:yr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(vt,{children:"Rating",sortColumn:Nr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(vt,{children:"Matches",sortColumn:wr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(dt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(t.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",{className:"table__player"},n.createElement(sn,{children:fe.concat({hd:e.firstName,tl:{hd:e.lastName,tl:0}}," "),to_:{TAG:1,_0:e.id}})),n.createElement("td",{className:"table__number"},String(e.rating)),n.createElement("td",{className:"table__number"},String(e.matchCount)),n.createElement("td",void 0,n.createElement("button",{className:"danger button-ghost",onClick:function(t){var a=e.id;t.preventDefault();var n=f.c(r,a);if(void 0!==n){var l=fe.concat({hd:"Are you sure you want to delete ",tl:{hd:n.firstName,tl:{hd:" ",tl:{hd:n.lastName,tl:{hd:"?",tl:0}}}}},"");return window.confirm(l)?(o.a(i,{TAG:0,_0:a}),o.a(s,{TAG:2,_0:a})):void 0}}},n.createElement(dr.a,{}),n.createElement(dt.a,{children:fe.concat({hd:"Delete",tl:{hd:e.firstName,tl:{hd:e.lastName,tl:0}}}," ")}))))})))),n.createElement(ln,{isOpen:u.state,onDismiss:function(e){return o.a(u.setFalse,void 0)},ariaLabel:"New player form",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(u.setFalse,void 0)}},"Close"),n.createElement(Gr,{dispatch:i})))}function jr(e){var t=e.player,a=e.players,r=e.playersDispatch,i=e.config,s=e.configDispatch,l=e.windowDispatch,c=void 0!==l?l:function(e){},u=t.type_,d=t.matchCount,m=t.id,h=Tr({firstName:t.firstName,lastName:t.lastName,rating:String(t.rating),matchCount:String(d)},(function(e,t){return o.a(r,{TAG:1,_0:m,_1:{firstName:e.firstName,id:m,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:u}}),o.a(t.notifyOnSuccess,void 0),o.a(t.reset,void 0)})),v=fe.concat({hd:h.input.firstName,tl:{hd:h.input.lastName,tl:0}}," ");n.useEffect((function(){return o.a(c,{TAG:2,_0:"Profile for "+v}),function(e){return o.a(c,{TAG:2,_0:""})}}),[c,v]);var b,p=o.a(Fe.$$Set.toMap,i.avoidPairs),N=f.c(p,m),w=void 0!==N?N:0,_=E.g(E.c(f.i(a)),(function(e){return!E.f(w,e,Se)&&!Se(e,m)})),k=n.useState((function(){if(_)return g.b(_.hd)})),S=k[1],R=k[0],A=h.matchCountResult;return b=void 0!==A?A.TAG?"":String(pr.getKFactor(A._0)):String(pr.getKFactor(d)),n.createElement("div",{className:"content-area",style:{margin:"auto",width:"650px"}},n.createElement(sn,{children:null,to_:2,onClick:function(e){!o.a(h.dirty,void 0)||window.confirm("Discard changes?")||e.preventDefault()}},n.createElement(mr.a,{})," Back"),n.createElement("h2",void 0,"Profile for "+v),n.createElement("form",{onSubmit:function(e){return e.preventDefault(),o.a(h.submit,void 0)}},n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",type:"text",value:h.input.firstName,onBlur:function(e){return o.a(h.blurFirstName,void 0)},onChange:function(e){return o.b(h.updateFirstName,(function(e,t){return{firstName:t,lastName:e.lastName,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Or(h.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",type:"text",value:h.input.lastName,onBlur:function(e){return o.a(h.blurLastName,void 0)},onChange:function(e){return o.b(h.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:t,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Or(h.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"matchCount"},"Matches played"),n.createElement("input",{name:"matchCount",type:"number",value:h.input.matchCount,onBlur:function(e){return o.a(h.blurMatchCount,void 0)},onChange:function(e){return o.b(h.updateMatchCount,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:e.rating,matchCount:t}}),e.target.value)}})),Or(h.matchCountResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{name:"rating",type:"number",value:h.input.rating,onBlur:function(e){return o.a(h.blurRating,void 0)},onChange:function(e){return o.b(h.updateRating,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:t,matchCount:e.matchCount}}),e.target.value)}})),Or(h.ratingResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"Kfactor"},"K factor"),n.createElement("input",{disabled:!0,name:"kfactor",readOnly:!0,type:"number",value:b})),n.createElement("p",void 0,n.createElement("button",{disabled:h.submitting||!o.a(h.valid,void 0)},o.a(h.dirty,void 0)?"Save":"Saved"))),n.createElement("h3",void 0,"Players to avoid"),n.createElement("ul",void 0,y.l(y.q(E.p(w)),(function(e){return n.createElement("li",{key:e},_a(a,e).firstName," ",_a(a,e).lastName,n.createElement("button",{"aria-label":fe.concat({hd:"Remove",tl:{hd:_a(a,e).firstName,tl:{hd:_a(a,e).lastName,tl:{hd:"from avoid list.",tl:0}}}}," "),className:"danger button-ghost",title:fe.concat({hd:"Remove",tl:{hd:_a(a,e).firstName,tl:{hd:_a(a,e).lastName,tl:{hd:"from avoid list.",tl:0}}}}," "),onClick:function(t){var a=Fe.make(m,e);if(void 0!==a)return o.a(s,{TAG:1,_0:g.d(a)})}},n.createElement(dr.a,{})))})),w?null:n.createElement("li",void 0,"None")),n.createElement("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==R){var t=g.d(R),a=Fe.make(m,t);if(void 0!==a){var n;if(o.a(s,{TAG:0,_0:g.d(a)}),_){var r=_.tl,i=_.hd;n=Se(i,t)?r?g.b(r.hd):void 0:g.b(i)}else n=void 0;return o.a(S,(function(e){return n}))}}}},n.createElement("label",{htmlFor:"avoid-select"},"Select a new player to avoid."),void 0!==R?n.createElement(n.Fragment,void 0,n.createElement("select",{id:"avoid-select",value:g.d(R),onBlur:function(e){var t=e.currentTarget.value;return o.a(S,(function(e){return t}))},onChange:function(e){var t=e.currentTarget.value;return o.a(S,(function(e){return t}))}},y.l(E.p(_),(function(e){return n.createElement("option",{key:e,value:e},_a(a,e).firstName," ",_a(a,e).lastName)})))," ",n.createElement("input",{className:"button-micro",type:"submit",value:"Add"})):"No players are available to avoid."))}var Lr=function(e){var t=e.id,a=e.windowDispatch,r=La(),i=r.dispatch,s=r.items,l=gt(f.u(s),yr,!1),c=l[1];n.useEffect((function(){o.a(c,{TAG:2,_0:f.u(s)})}),[s,c]);var u,d=xa(),m=d[1];if(void 0!==t){var h=f.c(s,g.d(t));if(void 0!==h){var v={player:h,players:s,playersDispatch:i,config:d[0],configDispatch:m};void 0!==a&&(v.windowDispatch=g.d(a)),u=n.createElement(jr,v)}else u=n.createElement("div",void 0,"Loading...")}else{var b={sorted:l[0],sortDispatch:c,players:s,playersDispatch:i,configDispatch:m};void 0!==a&&(b.windowDispatch=g.d(a)),u=n.createElement(Dr,b)}return n.createElement(En,{children:u})},Mr=a(125),Pr=a(126),xr=a(123),Fr=a(127),Vr=a(30),Qr=a(119),Wr=a(120),Hr=a(118),zr=a(121),qr=a(122),Ur=a(117),Jr=a(54);function Kr(e){return E.j(e,0,(function(e,t){return e+t}))}function Zr(e){return 8/e}function Yr(e){return 0}var $r=Kr({hd:Zr(1),tl:{hd:4,tl:{hd:16,tl:{hd:32,tl:0}}}});function Xr(e,t){if(Se(e.id,t.id))return 0;var a=E.f(e.opponents,t.id,Se),n=E.f(e.avoidIds,t.id,Se),r=e.colors,i=t.colors,s=!r||!i||r.hd!==i.hd,o=Math.abs(e.score-t.score)+1,l=u.b(e.halfPos-t.halfPos|0)+1|0;return Kr({hd:s?4:0,tl:{hd:16/o,tl:{hd:(e.isUpperHalf!==t.isUpperHalf&&e.score===t.score?Zr:Yr)(l),tl:{hd:a||n?0:32,tl:0}}}})}function ei(e,t){return O(k.f,(function(e){return e.rating}),e,t)}function ti(e){var t=f.u(e);return f.k(e,(function(e){var a=function(e){var t=e.length/2|0;return[y.u(e,0,t),y.v(e,t)]}(_.a(y.i(t,(function(t){return t.score===e.score})),ei)),n=function(t){return y.h(t,(function(t){return t===e}))},r=n(a[0]),i=n(a[1]),s=void 0!==r?[r,!0]:void 0!==i?[i,!1]:[0,!1];return{id:e.id,avoidIds:e.avoidIds,colorScores:e.colorScores,colors:e.colors,halfPos:s[0],isUpperHalf:s[1],opponents:e.opponents,rating:e.rating,score:e.score}}))}function ai(e,t){var a=k.d(e.score,t.score);return 0!==a?a:k.f(e.rating,t.rating)}function ni(e){var t=e[1],a=e[0];return Kr(a.colorScores)<Kr(t.colorScores)?[t.id,a.id]:[a.id,t.id]}function ri(e){return e[0].score+e[1].score}function ii(e){return e[0].rating+e[1].rating|0}function si(e,t){var a=k.d(ri(t),ri(e));return 0!==a?a:k.f(ii(t),ii(e))}function oi(e,t){var a=t[1],n=t[0],r=e[1],i=e[0];return i===n&&r===a||r===n&&i===a}function li(e,t,a,n,r,i,s){var o=f.c(e,t),l=void 0!==o?o:Ze(a,t),c=Ne(i)?l.resultsNoByes:{hd:r,tl:l.resultsNoByes},u={hd:[i,r],tl:l.opponentResults};return{colorScores:{hd:Ue.toScore(s),tl:l.colorScores},colors:{hd:s,tl:l.colors},id:l.id,isDummy:Ne(t),opponentResults:u,ratings:{hd:n,tl:l.ratings},firstRating:l.firstRating,results:{hd:r,tl:l.results},resultsNoByes:c,adjustment:l.adjustment}}function ci(e,t){return f.k((a=Vt(e),y.n(a,Ae.make(void 0),(function(e,t){if(t.result>=3)return e;var a=li(e,t.whiteId,t.whiteOrigRating,t.whiteNewRating,kt.toScoreWhite(t.result),t.blackId,0),n=li(e,t.blackId,t.blackOrigRating,t.blackNewRating,kt.toScoreBlack(t.result),t.whiteId,1);return f.r(f.r(e,t.whiteId,a),t.blackId,n)}))),(function(e){var a=f.c(t,e.id);return void 0!==a?{colorScores:e.colorScores,colors:e.colors,id:e.id,isDummy:e.isDummy,opponentResults:e.opponentResults,ratings:e.ratings,firstRating:e.firstRating,results:e.results,resultsNoByes:e.resultsNoByes,adjustment:a}:e}));var a}var ui=a(115),di=a(116);function mi(e){var t=e.tourney,a=e.setTourney,r=e.players,i=e.playersDispatch,s=t.playerIds,l=function(e){var n=e.target.value;return e.target.checked?o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:{hd:n,tl:s},scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList}):o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:E.g(s,(function(e){return!Se(e,n)})),scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})};return n.createElement("div",void 0,n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:E.c(f.i(r)),scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select all"),n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:0,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select none")),n.createElement("table",void 0,n.createElement("caption",void 0,"Select players"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"First name"),n.createElement("th",void 0,"Last name"),n.createElement("th",void 0,"Select"))),n.createElement("tbody",void 0,y.l(f.u(r),(function(e){var t=e.lastName,a=e.id,r=e.firstName;return n.createElement("tr",{key:a},n.createElement("td",void 0,r),n.createElement("td",void 0,t),n.createElement("td",void 0,n.createElement(dt.a,{children:n.createElement("label",{htmlFor:"select-"+a},fe.concat({hd:"Select",tl:{hd:r,tl:{hd:t,tl:0}}}," "))}),n.createElement("input",{id:"select-"+a,checked:E.f(s,a,Se),type:"checkbox",value:a,onChange:l})))})))),n.createElement(Br,{dispatch:i,addPlayerCallback:function(e){return o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:{hd:e,tl:s},scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}}))}var fi=mi;function hi(e,t){return e.filter((function(e){return[e.whiteId,e.blackId].includes(t)})).reduce((function(e,t){return e.concat([t.whiteId,t.blackId])}),[]).includes(ye)}var gi={scoreAdjustment:{strategy:3,validate:function(e){var t=c.a(e.scoreAdjustment);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Score adjustment must be a number."}}}};function vi(e){return{input:e,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:void 0,formStatus:0,submissionStatus:0}}function bi(e,t,a){var n=a.scoreAdjustment,r=n?n._0:o.a(t.scoreAdjustment.validate,e);return r.TAG?{TAG:1,fieldsStatuses:{scoreAdjustment:{_0:r,_1:0}},collectionsStatuses:void 0}:{TAG:0,output:{scoreAdjustment:r._0},fieldsStatuses:{scoreAdjustment:{_0:r,_1:0}},collectionsStatuses:void 0}}function pi(e){var t,a=e.setTourney,r=e.dialog,i=e.tourney,s=e.p,l=function(e,t){var a,r=n.useMemo((function(){return vi(e)}),[e]),i=Er.a(r,(function(a,n){if("number"===typeof n)switch(n){case 0:var r=cr.b(a.input,a.fieldsStatuses.scoreAdjustment,gi.scoreAdjustment,(function(e){return{scoreAdjustment:e}}));return void 0!==r?{TAG:0,_0:{input:a.input,fieldsStatuses:r,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 1:var i=a.formStatus;if("number"!==typeof i&&!i.TAG)return 0;var s=bi(a.input,gi,a.fieldsStatuses);if(s.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:s.fieldsStatuses,collectionsStatuses:s.collectionsStatuses,formStatus:0,submissionStatus:1}};var l,c=s.output,u=a.formStatus;return l="number"===typeof u||1!==u.TAG?void 0:g.b(u._0),{TAG:1,_0:{input:a.input,fieldsStatuses:s.fieldsStatuses,collectionsStatuses:s.collectionsStatuses,formStatus:{TAG:0,_0:l},submissionStatus:1},_1:function(e){var a=e.dispatch;return o.b(t,c,{notifyOnSuccess:function(e){return o.a(a,{TAG:1,_0:e})},notifyOnFailure:function(e){return o.a(a,{TAG:2,_0:e})},reset:function(e){return o.a(a,4)},dismissSubmissionResult:function(e){return o.a(a,3)}})}};case 2:var d=a.formStatus;return"number"===typeof d||1!==d.TAG?0:{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 3:var m=a.formStatus;if("number"===typeof m){if(0===m)return 0}else if(!m.TAG)return 0;return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 4:return{TAG:0,_0:vi(e)}}else switch(0|n.TAG){case 0:var f=o.a(n._0,a.input);return{TAG:0,_0:{input:f,fieldsStatuses:cr.c(f,a.fieldsStatuses.scoreAdjustment,a.submissionStatus,gi.scoreAdjustment,(function(e){return{scoreAdjustment:e}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 1:var h=n._0;return void 0!==h?{TAG:0,_0:{input:h,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}}:{TAG:0,_0:{input:a.input,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}};case 2:return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:n._0},submissionStatus:a.submissionStatus}};case 3:var v=n._0,b=a.formStatus;if("number"===typeof b)return 0;if(b.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:o.a(v,b._0)},submissionStatus:a.submissionStatus}};var p=b._0;return void 0!==p?{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:0,_0:g.b(o.a(v,g.d(p)))},submissionStatus:a.submissionStatus}}:0}})),s=i[1],l=i[0],c=l.formStatus;return a="number"!==typeof c&&!c.TAG,{updateScoreAdjustment:function(e,t){return o.a(s,{TAG:0,_0:function(a){return o.b(e,a,t)}})},blurScoreAdjustment:function(e){return o.a(s,0)},scoreAdjustmentResult:cr.a(l.fieldsStatuses.scoreAdjustment),input:l.input,status:l.formStatus,dirty:function(e){return!!l.fieldsStatuses.scoreAdjustment},valid:function(e){return!bi(l.input,gi,l.fieldsStatuses).TAG},submitting:a,submit:function(e){return o.a(s,1)},dismissSubmissionError:function(e){return o.a(s,2)},dismissSubmissionResult:function(e){return o.a(s,3)},mapSubmissionError:function(e){return o.a(s,{TAG:3,_0:e})},reset:function(e){return o.a(s,4)}}}({scoreAdjustment:d.h(f.c(i.scoreAdjustments,s.id),"0",(function(e){return String(e)}))},(function(e,t){var n=e.scoreAdjustment;return 0!==n?o.a(a,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:f.r(i.scoreAdjustments,s.id,n),byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:i.roundList}):o.a(a,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:f.p(i.scoreAdjustments,s.id),byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:i.roundList}),o.a(t.notifyOnSuccess,void 0),o.a(r.setFalse,void 0)}));return n.createElement(n.Fragment,void 0,n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return o.a(r.setFalse,void 0)}},"close"),n.createElement("h2",void 0,fe.concat({hd:"Options for",tl:{hd:s.firstName,tl:{hd:s.lastName,tl:0}}}," ")),n.createElement("form",{onSubmit:function(e){return e.preventDefault(),o.a(l.submit,void 0)}},n.createElement("h3",void 0,n.createElement("label",{className:"title-30",htmlFor:s.id+"-scoreAdjustment"},"Score adjustment")),n.createElement("p",{className:"caption-30",id:s.id+"-scoreAdjustment-description"},"Score adjustment will be added to this player's actual score.\n              It can be negative."),n.createElement("p",void 0,n.createElement("input",{"aria-describedby":s.id+"-scoreAdjustment-description",id:s.id+"-scoreAdjustment",disabled:l.submitting,size:3,step:.5,type:"number",value:l.input.scoreAdjustment,onBlur:function(e){return o.a(l.blurScoreAdjustment,void 0)},onChange:function(e){return o.b(l.updateScoreAdjustment,(function(e,t){return{scoreAdjustment:t}}),e.target.value)}})," ",n.createElement("button",{className:"button-micro",onClick:function(e){return e.preventDefault(),o.b(l.updateScoreAdjustment,(function(e,t){return{scoreAdjustment:t}}),"0")}},"Reset")),void 0!==(t=l.scoreAdjustmentResult)&&t.TAG?n.createElement(ve,{children:t._0,kind:2}):null,n.createElement("p",void 0,n.createElement("input",{disabled:l.submitting||!o.a(l.valid,void 0),type:"submit",value:"Save"}))))}function Ei(e){var t=e.setTourney,a=e.tourney,r=e.byeQueue,i=e.p,s=ft(!1);return n.createElement(n.Fragment,void 0,n.createElement("button",{className:"button-micro",disabled:r.includes(i.id),onClick:function(e){return o.a(t,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:y.b(r,[i.id]),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Bye signup")," ",n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(s.setTrue,void 0)}},n.createElement("span",{"aria-hidden":!0},n.createElement(ui.a,{})),n.createElement(dt.a,{children:fe.concat({hd:"More options for",tl:{hd:i.firstName,tl:{hd:i.lastName,tl:0}}}," ")})),n.createElement(ln,{isOpen:s.state,onDismiss:s.setFalse,ariaLabel:fe.concat({hd:"Options for",tl:{hd:i.firstName,tl:{hd:i.lastName,tl:0}}}," "),children:n.createElement(pi,{setTourney:t,dialog:s,tourney:a,p:i})}))}function yi(e){var t=e.players,a=e.tourney,r=e.setTourney,s=e.byeQueue;return n.createElement(n.Fragment,void 0,y.l(f.u(t),(function(e){return n.createElement("tr",{key:e.id,className:i.a(Ea.toString(e.type_),"player")},n.createElement("td",void 0,e.firstName),n.createElement("td",void 0,e.lastName),n.createElement("td",void 0,n.createElement(Ei,{setTourney:r,tourney:a,byeQueue:s,p:e})))})))}var Ni=function(e){var t=e.tournament,a=t.tourney,r=a.byeQueue,s=a.playerIds,l=t.setTourney,c=t.activePlayers,u=n.useState((function(){return!s})),d=u[1],m=Vt(a.roundList);return n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{onClick:function(e){return o.a(d,(function(e){return!0}))}},n.createElement(di.a,{})," Edit player roster")),n.createElement(Q,{children:null},n.createElement(V,{children:n.createElement("table",void 0,n.createElement("caption",void 0,"Current roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{colSpan:2},"Name"),n.createElement("th",void 0,"Options"))),n.createElement("tbody",{className:"content"},n.createElement(yi,{players:c,tourney:a,setTourney:l,byeQueue:r}))),style:{flexShrink:"0"}}),n.createElement(V,{children:null},n.createElement("h3",void 0,"Bye queue"),0===r.length?n.createElement("p",void 0,"No players have signed up for a bye round."):null,n.createElement("ol",void 0,y.l(r,(function(e){return n.createElement("li",{key:e,className:i.a("buttons-on-hover",i.c("disabled",hi(m,e)))},fe.concat({hd:_a(c,e).firstName,tl:{hd:_a(c,e).lastName,tl:0}}," ")," ",n.createElement("button",{className:"button-micro",onClick:function(t){return o.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:r.filter((function(t){return!Se(e,t)})),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Remove"))})))),n.createElement(ln,{isOpen:u[0],onDismiss:function(e){return o.a(d,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return o.a(d,(function(e){return!1}))}},"Done"),n.createElement(mi,{tourney:a,setTourney:l,players:t.players,playersDispatch:t.playersDispatch}))))};function wi(e,t,a,n){var r=f.h(e,(function(e,t){return f.f(a,e)})),i=function(e,t,a){if(f.s(a)%2===0)return[a,void 0];var n,r=E.n(E.g(E.c(f.u(a)),(function(e){return!E.f(e.opponents,t,Se)})),ai),i=E.i(r,(function(e){return e.id})),s=E.g(E.c(e),(function(e){return E.f(i,e,Se)}));if(s){var o=f.c(a,s.hd);n=void 0!==o?o:E.e(r,0)}else n=r?r.hd:E.e(E.n(E.c(f.u(a)),ai),0);return[f.p(a,n.id),n]}(n,ye,r),s=i[1],o=function(e){return E.i(E.n(E.h(Jr.b(Jr.a.make(void 0,f.n(e,0,(function(t,a,n){return f.n(e,t,(function(e,t,r){return{hd:[a,t,Xr(n,r)],tl:e}}))}))),0,(function(e,t,a){return E.f(e,[t,a],oi)?e:{hd:[t,a],tl:e}})),(function(t){var a=t[0],n=t[1],r=f.c(e,a),i=f.c(e,n);if(void 0!==r&&void 0!==i)return[r,i]})),si),ni)}(i[0]),l=void 0!==s?E.k(E.a(E.k(o),[s.id,ye])):o;return E.i(l,(function(e){var n=e[1],r=e[0];return At({id:we(),whiteId:r,blackId:n,whiteNewRating:_a(a,r).rating,blackNewRating:_a(a,n).rating,whiteOrigRating:_a(a,r).rating,blackOrigRating:_a(a,n).rating,result:3},t)}))}var _i={TAG:0,_0:function(e){return e.player.firstName}},ki={TAG:2,_0:function(e){return e.ideal}};function Si(e){var t=e.pairData,a=e.stagedPlayers,r=e.setStagedPlayers,i=e.unmatched,s=a[1],l=a[0],c=gt(y.l(f.u(i),(function(e){return{player:e,ideal:0}})),_i,!1),u=c[1],d=c[0],m=l!==s&&(void 0===l||void 0===s),h=function(e){var t=a[0];if(void 0!==t)return void 0===a[1]&&!Se(g.d(t),e);var n=a[1];return void 0===n||!Se(g.d(n),e)};return n.useEffect((function(){var e=function(e){var n,r=a[0];if(void 0!==r)n=void 0!==a[1]?void 0:g.b(g.d(r));else{var i=a[1];n=void 0!==i?g.b(g.d(i)):void 0}if(void 0===n)return 0;var s=f.c(t,g.d(n));return void 0!==s&&void 0!==e?Xr(s,e)/$r:0},n=y.l(f.u(i),(function(a){return{player:a,ideal:e(f.c(t,a.id))}}));o.a(u,{TAG:2,_0:n})}),[i,t,u,a]),0===f.s(i)?null:n.createElement("table",{className:"content"},n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(dt.a,{children:"Controls"})),n.createElement("th",void 0,n.createElement(vt,{children:"Name",sortColumn:_i,data:d,dispatch:u})),n.createElement("th",void 0,n.createElement(vt,{children:"Ideal",sortColumn:ki,data:d,dispatch:u})))),n.createElement("tbody",void 0,y.l(d.table,(function(e){var t=e.player;return n.createElement("tr",{key:t.id},n.createElement("td",void 0,n.createElement("button",{className:"button-ghost",disabled:!h(t.id),onClick:function(e){var n=t.id,i=a[0];if(void 0!==i){if(void 0!==a[1])return;var s=g.d(i);return o.a(r,(function(e){return[g.b(s),g.b(n)]}))}var l=a[1];if(void 0===l)return o.a(r,(function(e){return[g.b(n),void 0]}));var c=g.d(l);return o.a(r,(function(e){return[g.b(n),g.b(c)]}))}},n.createElement(ur.a,{}),n.createElement(dt.a,{children:fe.concat({hd:"Add",tl:{hd:t.firstName,tl:{hd:t.lastName,tl:0}}}," ")}))),n.createElement("td",void 0,t.firstName+" "+t.lastName),n.createElement("td",void 0,m?p.a(e.ideal).format("%"):"-"))}))))}function Ri(e){var t,a,r=e.getPlayer,i=e.pairData,s=e.roundId,l=e.stagedPlayers,c=e.setStagedPlayers,u=e.setTourney,d=e.byeValue,m=e.tourney,h=e.round,v=m.roundList,b=l[1],E=l[0],y=void 0===l[0]&&void 0===l[1],N=void 0!==l[0]&&void 0!==l[1];if(void 0!==E){var w=g.d(E);t=o.a(r,w).firstName+" "+o.a(r,w).lastName}else t="";if(void 0!==b){var _=g.d(b);a=o.a(r,_).firstName+" "+o.a(r,_).lastName}else a="";var k,S=function(e){return e?o.a(c,(function(e){return[e[0],void 0]})):o.a(c,(function(e){return[void 0,e[1]]}))},A=l[0];if(void 0!==A){var I=l[1];if(void 0!==I){var C=f.c(i,g.d(A)),T=f.c(i,g.d(I));if(void 0!==C&&void 0!==T){var O=Xr(C,T);k=p.a(O/$r).format("%")}else k=""}else k=""}else k="";return n.createElement("div",void 0,n.createElement("h2",void 0,"Selected for matching:"),n.createElement("div",{className:"content"},n.createElement("p",void 0,"White: ",void 0!==E?n.createElement(n.Fragment,void 0,t+" ",n.createElement("button",{"aria-label":"remove "+t,className:"button-micro",onClick:function(e){return S(0)}},n.createElement(Ur.a,{})," Remove")):null),n.createElement("p",void 0,"Black: ",void 0!==b?n.createElement(n.Fragment,void 0,a+" ",n.createElement("button",{"aria-label":"remove "+a,className:"button-micro",onClick:function(e){return S(1)}},n.createElement(Ur.a,{})," Remove")):null),n.createElement("p",void 0,"Match ideal: "+k)),n.createElement("div",{className:"toolbar"},n.createElement("button",{disabled:y,onClick:function(e){return o.a(c,(function(e){return[e[1],e[0]]}))}},n.createElement(Hr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-primary",disabled:!N,onClick:function(e){var t=l[0];if(void 0!==t){var a=l[1];if(void 0!==a){var n=o.b(Dt.addMatches,h,[It([o.a(r,g.d(t)),o.a(r,g.d(a))],d)]),i=xt(v,s,n);return void 0!==i&&o.a(u,{id:m.id,name:m.name,date:m.date,playerIds:m.playerIds,scoreAdjustments:m.scoreAdjustments,byeQueue:m.byeQueue,tieBreaks:m.tieBreaks,roundList:g.d(i)}),o.a(c,(function(e){return[void 0,void 0]}))}}}},n.createElement(R.a,{})," Match selected")))}function Ai(e){var t=e.player,a=e.scoreData,r=e.players,i=e.avoidPairs,s=e.origRating,o=e.newRating,l=e.getPlayer,c=pt(t,a,g.b(i),l,r,s,o),u=c.player,d=u.firstName+" "+u.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,d),n.createElement("p",void 0,"Score: ",c.score),n.createElement("p",{id:"rating-"+u.id},"Rating: ",c.rating),n.createElement("p",void 0,"Color balance: "+c.colorBalance),n.createElement("p",void 0,"Has had a bye round: "+(c.hasBye?"Yes":"No")),n.createElement("p",void 0,"Opponent history:"),n.createElement("ol",void 0,c.opponentResults),n.createElement("p",void 0,"Players to avoid:"),c.avoidListHtml)}var Ii=function(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=e.unmatched,s=e.unmatchedCount,l=e.unmatchedWithDummy,c=n.useState((function(){return[void 0,void 0]})),u=c[0],d=u[1],m=u[0],h=c[1],v=xa(),b=a.tourney,p=b.roundList,N=b.byeQueue,w=a.setTourney,_=a.players,k=a.getPlayer,S=a.activePlayers,R=v[0],A=R.byeValue,I=R.avoidPairs,C=qt(p,t),T=ft(!1),O=n.useMemo((function(){return ti(function(e,t,a){var n=o.a(Fe.$$Set.toMap,a);return f.n(t,Ae.make(void 0),(function(t,a,r){var i=f.c(e,a),s=void 0!==i?i:Ze(void 0,a),l=f.c(n,a),c=void 0!==l?l:0,u={id:r.id,avoidIds:c,colorScores:E.i(s.colorScores,ct.toFloat),colors:s.colors,halfPos:0,isUpperHalf:!1,opponents:E.i(s.opponentResults,(function(e){return e[0]})),rating:r.rating,score:o.a(ct.Sum.toFloat,ct.calcScore(s.results,s.adjustment))};return f.r(t,a,u)}))}(r,S,I))}),[S,I,r]);if(n.useEffect((function(){void 0!==m&&(void 0!==f.c(l,g.d(m))||o.a(h,(function(e){return[void 0,e[1]]})));void 0!==d&&(void 0!==f.c(l,g.d(d))||o.a(h,(function(e){return[e[0],void 0]})))}),[l,m,d,h]),void 0===C)return n.createElement("div",void 0,"No round available.");var G=g.d(C);return n.createElement("div",{className:"content-area",style:{width:"720px"}},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-primary",disabled:0===s,onClick:function(e){var a=o.b(Dt.addMatches,G,E.p(wi(O,A,i,N))),n=xt(p,t,a);if(void 0!==n)return o.a(w,{id:b.id,name:b.name,date:b.date,playerIds:b.playerIds,scoreAdjustments:b.scoreAdjustments,byeQueue:b.byeQueue,tieBreaks:b.tieBreaks,roundList:g.d(n)})}},"Auto-pair unmatched players")," ",n.createElement("button",{onClick:function(e){return o.a(T.setTrue,void 0)}},"Add or remove players from the roster.")),n.createElement(Q,{children:null},n.createElement(V,{children:n.createElement(Si,{pairData:O,stagedPlayers:u,setStagedPlayers:h,unmatched:l})}),n.createElement(V,{children:null,style:{flexGrow:"1"}},n.createElement(Ri,{getPlayer:k,pairData:O,roundId:t,stagedPlayers:u,setStagedPlayers:h,setTourney:w,byeValue:A,tourney:b,round:G}),n.createElement(Q,{children:y.l([m,d],(function(e){if(void 0===e)return null;var t=g.d(e);return n.createElement(V,{children:n.createElement(Ai,{player:o.a(k,t),scoreData:r,players:_,avoidPairs:I,origRating:o.a(k,t).rating,newRating:void 0,getPlayer:k}),key:t})}))}))),n.createElement(ln,{isOpen:T.state,onDismiss:T.setFalse,ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(T.setFalse,void 0)}},"Done"),n.createElement(fi,{tourney:b,setTourney:w,players:_,playersDispatch:a.playersDispatch})))};function Ci(e){var t,a=Math.ceil((t=e,Math.log(t)/Math.log(2)));return a!==u.e?0|a:0}var Ti=ka(we(),"");function Oi(e,t){return t}var Gi=function(e){var t=e.children,a=e.tourneyId,r=e.windowDispatch,i=void 0!==r?r:function(e){},s=a,l=n.useReducer(Oi,Ti),c=l[0],u=c.roundList,d=c.playerIds,h=c.name,g=l[1],v=La(),b=v.loaded,p=v.items,y=n.useState((function(){return 0})),N=y[1],w=y[0];switch(bt(0!==w&&b),n.useEffect((function(){return o.a(i,{TAG:2,_0:h}),function(e){return o.a(i,{TAG:2,_0:""})}}),[h,i]),n.useEffect((function(){var e={contents:!1};return m.c(m.f(m.a.toResult(m.a.fromBsPromise(yt.b(Ba,s))),(function(t){return e.contents?void 0:void 0!==t?(o.a(g,t),o.a(N,(function(e){return 1}))):o.a(N,(function(e){return 2}))})),(function(t){if(!e.contents)return o.a(N,(function(e){return 2}))})),function(t){e.contents=!0}}),[s]),n.useEffect((function(){1===w&&Se(s,c.id)&&yt.f(Ba,s,c)}),[w,s,c]),w){case 0:break;case 1:if(b){var _=f.h(p,(function(e,t){return E.f(d,e,Se)})),k=Ci(f.s(_)),S=Mt(u)>=k,R=0===Mt(u)||Qt(u,_,Mt(u)-1|0);return o.a(t,{activePlayers:_,getPlayer:function(e){return _a(p,e)},isItOver:S,isNewRoundReady:R,players:p,playersDispatch:v.dispatch,roundCount:k,tourney:c,setTourney:g})}break;case 2:return n.createElement(En,{children:"Error: tournament couldn't be loaded."})}return n.createElement(En,{children:"Loading..."})},Bi=o.a(s.G,{hd:s.K({NAME:"percent",VAL:100}),tl:{hd:s.q({NAME:"em",VAL:1}),tl:0}}),Di=o.a(s.G,{hd:s.K({NAME:"percent",VAL:100}),tl:{hd:s.F(" tr:not(:last-of-type)",{hd:s.d("solid"),tl:{hd:s.i({NAME:"px",VAL:1}),tl:{hd:s.f(ee),tl:0}}}),tl:0}}),ji=o.a(s.G,{hd:s.C({NAME:"px",VAL:8},{NAME:"px",VAL:4}),tl:0}),Li=o.a(s.G,{hd:s.K({NAME:"px",VAL:20}),tl:{hd:s.B({NAME:"px",VAL:4}),tl:{hd:s.H("center"),tl:0}}}),Mi=o.a(s.G,{hd:s.K({NAME:"px",VAL:72}),tl:0}),Pi=o.a(s.G,{hd:s.K({NAME:"px",VAL:140}),tl:0}),xi=o.a(s.G,{hd:s.K({NAME:"px",VAL:32}),tl:{hd:s.H("center"),tl:0}});function Fi(e){var t=e.player,a=e.origRating,r=e.newRating,i=e.getPlayer,s=pt(t,e.scoreData,void 0,i,e.players,a,r),o=s.player,l=o.firstName+" "+o.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,l),n.createElement("dt",void 0,"Score"),n.createElement("dd",void 0,s.score),n.createElement("dt",void 0,"Rating"),n.createElement(ue,{children:n.createElement("dd",{"aria-label":"Rating for "+l},s.rating),testId:"rating-"+o.id}),n.createElement("dt",void 0,"Color balance"),n.createElement("dd",void 0,s.colorBalance),n.createElement("dt",void 0,"Has had a bye round"),n.createElement("dd",void 0,s.hasBye?"Yes":"No"),n.createElement("dt",void 0,"Opponent history"),n.createElement("dd",void 0,n.createElement("ol",void 0,s.opponentResults)),n.createElement("p",void 0,"Players to avoid:"),s.avoidListHtml)}function Vi(e){var t,a=e.isCompact,r=e.pos,l=e.m,c=e.roundId,u=e.selectedMatch,m=e.setSelectedMatch,h=e.scoreData,v=e.tournament,b=e.className,p=void 0!==a&&a,E=void 0!==b?b:"",y=v.tourney,N=y.roundList,w=v.setTourney,_=v.playersDispatch,k=v.players,S=v.getPlayer,R=ft(!1),A=o.a(S,l.whiteId),C=o.a(S,l.blackId),T=Ne(l.whiteId)||Ne(l.blackId),O=fe.concat({hd:A.firstName,tl:{hd:A.lastName,tl:0}}," "),G=fe.concat({hd:C.firstName,tl:{hd:C.lastName,tl:0}}," "),B=function(e){var t=n.createElement($a.a,{className:o.a(s.G,{hd:s.j(Y),tl:0})}),a=n.createElement(dt.a,{children:"Lost"});switch(l.result){case 0:return e?a:t;case 1:return e?t:a;case 2:return n.createElement("span",{"aria-label":"Draw",role:"img",style:{filter:"grayscale(70%)"}},"\ud83e\udd1d");case 3:return n.createElement(dt.a,{children:"Not set"})}},D=function(e){var t=kt.fromString(e),a=l.whiteId,n=l.blackId;if(l.result!==t){var r,i=f.c(k,a),s=f.c(k,n),u=0;void 0!==i&&void 0!==s&&t<3?r=function(e,t,a,n,r){var i=vr(a),s=vr(n),o=hr(e,t),l=hr(t,e),c=ct.toFloat(kt.toScoreWhite(r)),u=ct.toFloat(kt.toScoreBlack(r));return[br(gr(i,o,c,e)),br(gr(s,l,u,t))]}(l.whiteOrigRating,l.blackOrigRating,i.matchCount,s.matchCount,t):u=1,1===u&&(r=[l.whiteOrigRating,l.blackOrigRating]);var m=r[1],h=r[0],g=d.f(i,(function(e){return{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount,rating:h,type_:e.type_}})),v=d.f(s,(function(e){return{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount,rating:m,type_:e.type_}}));l.result>=3?(d.b(g,(function(e){return o.a(_,{TAG:1,_0:a,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount+1|0,rating:e.rating,type_:e.type_}})})),d.b(v,(function(e){return o.a(_,{TAG:1,_0:n,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount+1|0,rating:e.rating,type_:e.type_}})}))):3===t?(d.b(g,(function(e){return o.a(_,{TAG:1,_0:a,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount-1|0,rating:e.rating,type_:e.type_}})})),d.b(v,(function(e){return o.a(_,{TAG:1,_0:n,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount-1|0,rating:e.rating,type_:e.type_}})}))):(d.b(g,(function(e){return o.a(_,{TAG:1,_0:a,_1:e})})),d.b(v,(function(e){return o.a(_,{TAG:1,_0:n,_1:e})})));var b=l.id,p=l.whiteId,E=l.blackId,S=l.whiteOrigRating,R=l.blackOrigRating,A={id:b,whiteId:p,blackId:E,whiteNewRating:h,blackNewRating:m,whiteOrigRating:S,blackOrigRating:R,result:t};d.f(Ft(N,c,A),(function(e){return o.a(w,{id:y.id,name:y.name,date:y.date,playerIds:y.playerIds,scoreAdjustments:y.scoreAdjustments,byeQueue:y.byeQueue,tieBreaks:y.tieBreaks,roundList:e})}))}};if(p||void 0===m)t=null;else{var j;if(void 0!==h){var L=g.d(h);j=n.createElement(ln,{isOpen:R.state,onDismiss:function(e){return o.a(R.setFalse,void 0)},ariaLabel:"Match information",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return o.a(R.setFalse,void 0)}},"close"),n.createElement("p",void 0,y.name),n.createElement("p",void 0,fe.concat({hd:"Round",tl:{hd:String(c+1|0),tl:{hd:"match",tl:{hd:String(r+1|0),tl:0}}}}," ")),n.createElement(Q,{children:null},n.createElement(V,{children:n.createElement(Fi,{player:o.a(S,l.whiteId),origRating:l.whiteOrigRating,newRating:l.whiteNewRating,getPlayer:S,scoreData:L,players:k})}),n.createElement(V,{children:n.createElement(Fi,{player:o.a(S,l.blackId),origRating:l.blackOrigRating,newRating:l.blackNewRating,getPlayer:S,scoreData:L,players:k})})))}else j=null;t=n.createElement("td",{className:i.a(Mi,"data__input")},d.h(u,!0,(function(e){return!Se(e,l.id)}))?n.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(e){return o.a(m,(function(e){return g.b(l.id)}))}},n.createElement(Qr.a,{}),n.createElement(dt.a,{children:fe.concat({hd:"Edit match for",tl:{hd:O,tl:{hd:"versus",tl:{hd:G,tl:0}}}}," ")})):n.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(e){return o.a(m,(function(e){}))}},n.createElement(Wr.a,{})),n.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(e){return o.a(R.setTrue,void 0)}},n.createElement(I.a,{}),n.createElement(dt.a,{children:fe.concat({hd:"View information for match:",tl:{hd:O,tl:{hd:"versus",tl:{hd:G,tl:0}}}}," ")})),j)}return n.createElement("tr",{className:i.a(E,d.h(u,"",(function(e){return Se(l.id,e)?"selected":"buttons-on-hover"})))},n.createElement("th",{className:i.a(Li,"table__number"),scope:"row"},String(r+1|0)),n.createElement("td",{className:xi},B(0)),n.createElement(ue,{children:n.createElement("td",{className:i.a("table__player row__player",Ea.toString(A.type_)),id:"match-"+String(r)+"-white"},O),testId:"match-"+String(r)+"-white"}),n.createElement("td",{className:xi},B(1)),n.createElement(ue,{children:n.createElement("td",{className:i.a("table__player row__player",Ea.toString(C.type_)),id:"match-"+String(r)+"-black"},G),testId:"match-"+String(r)+"-black"}),n.createElement("td",{className:i.a(Pi,"data__input row__controls")},n.createElement("select",{className:Bi,disabled:T,value:kt.toString(l.result),onBlur:function(e){return D(e.target.value)},onChange:function(e){return D(e.target.value)}},n.createElement("option",{value:kt.toString(3)},"Select winner"),n.createElement("option",{value:kt.toString(0)},"White won"),n.createElement("option",{value:kt.toString(1)},"Black won"),n.createElement("option",{value:kt.toString(2)},"Draw"))),t)}function Qi(e){var t=e.isCompact,a=e.roundId,r=e.matches,i=e.selectedMatch,s=e.setSelectedMatch,o=e.tournament,l=e.scoreData,c=void 0!==t&&t;return n.createElement("table",{className:Di},0===r.length?null:n.createElement(n.Fragment,void 0,n.createElement("caption",{className:c?"title-30":"title-40"},"Round ",a+1|0),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{className:Li,scope:"col"},"#"),n.createElement("th",{scope:"col"},n.createElement(dt.a,{children:"White result"})),n.createElement("th",{className:"row__player",scope:"col"},"White"),n.createElement("th",{scope:"col"},n.createElement(dt.a,{children:"Black result"})),n.createElement("th",{className:"row__player",scope:"col"},"Black"),n.createElement("th",{className:"row__result",scope:"col"},"Match result"),c?null:n.createElement("th",{className:"row__controls",scope:"col"},n.createElement(dt.a,{children:"Controls"}))))),n.createElement("tbody",{className:"content"},y.m(r,(function(e,t){var r={isCompact:c,pos:e,m:t,roundId:a,setSelectedMatch:s,scoreData:l,tournament:o,className:ji,key:t.id};return void 0!==i&&(r.selectedMatch=g.d(i)),n.createElement(Vi,r)}))))}var Wi=Qi;function Hi(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=a.tourney,s=i.roundList,l=a.setTourney,c=a.playersDispatch,u=a.players,m=n.useState((function(){})),h=m[1],v=m[0],b=function(e,a,n){var r=Dt.moveMatch(n,e,a);if(void 0!==r){var c=xt(s,t,g.d(r));return void 0!==c?o.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:g.d(c)}):void 0}},p=qt(i.roundList,t);if(void 0===p)return n.createElement(Bn,{});var y=g.d(p),N={roundId:t,matches:Dt.toArray(y),setSelectedMatch:h,tournament:a,scoreData:r};return void 0!==v&&(N.selectedMatch=g.d(v)),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===v,onClick:function(e){d.f(v,(function(e){var a=Dt.getMatchById(y,e);void 0!==a&&3!==a.result&&E.b({hd:[a.whiteId,a.whiteOrigRating],tl:{hd:[a.blackId,a.blackOrigRating],tl:0}},(function(e){var t=f.c(u,e[0]);if(void 0!==t)return o.a(c,{TAG:1,_0:t.id,_1:{firstName:t.firstName,id:t.id,lastName:t.lastName,matchCount:t.matchCount-1|0,rating:e[1],type_:t.type_}})}));var n=Dt.removeMatchById(y,e),r=xt(s,t,n);return void 0!==r&&o.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:g.d(r)}),o.a(h,(function(e){}))}))}},n.createElement(dr.a,{})," Unmatch")," ",n.createElement("button",{className:"button-micro",disabled:void 0===v,onClick:function(e){d.f(v,(function(e){var a=Dt.getMatchById(y,e);if(void 0!==a){var n=function(e){var t;switch(e.result){case 0:t=1;break;case 1:t=0;break;case 2:t=2;break;case 3:t=3}return{id:e.id,whiteId:e.blackId,blackId:e.whiteId,whiteNewRating:e.blackNewRating,blackNewRating:e.whiteNewRating,whiteOrigRating:e.blackOrigRating,blackOrigRating:e.whiteOrigRating,result:t}}(a);d.f(Ft(s,t,n),(function(e){return o.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:e})}))}}))}},n.createElement(Hr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-micro",disabled:void 0===v,onClick:function(e){d.f(v,(function(e){return b(e,-1,y)}))}},n.createElement(zr.a,{})," Move up")," ",n.createElement("button",{className:"button-micro",disabled:void 0===v,onClick:function(e){d.f(v,(function(e){return b(e,1,y)}))}},n.createElement(qr.a,{})," Move down")),0===Dt.size(y)?n.createElement("p",void 0,"No players matched yet."):null,n.createElement(Qi,N))}var zi=function(e){var t=e.roundId,a=e.tournament,r=function(e,t){var a,r=t.tourney,i=r.roundList,s=r.scoreAdjustments,o=t.activePlayers,l=n.useMemo((function(){return ci(i,s)}),[i,s]),c=e===Pt(i),u=qt(i,e);if(void 0!==u&&c){var d=Dt.getMatched(g.d(u));a=f.q(o,d)}else a=Ae.make(void 0);var m=f.s(a),h=m%2!==0?f.r(a,ye,wa):a;return{activePlayersCount:f.s(o),scoreData:l,unmatched:a,unmatchedCount:m,unmatchedWithDummy:h}}(t,a),i=r.unmatchedCount,s=r.scoreData,l=r.activePlayersCount,c=i===l?1:0,u=n.useState((function(){return c})),d=u[1];return n.useEffect((function(){i===l&&o.a(d,(function(e){return 1})),0===i&&o.a(d,(function(e){return 0}))}),[i,l,d]),n.createElement(Vr.e,{index:u[0],onChange:function(e){return o.a(d,(function(t){return e}))},children:null},n.createElement(Vr.b,{children:null},n.createElement(Vr.a,{disabled:i===l,children:null},n.createElement(xr.a,{})," Matches"),n.createElement(Vr.a,{disabled:0===i,children:null},n.createElement(Xa.a,{}),fe.concat({hd:" Unmatched players (",tl:{hd:String(i),tl:{hd:")",tl:0}}},""))),n.createElement(Vr.d,{children:null},n.createElement(Vr.c,{children:n.createElement(Hi,{roundId:t,tournament:a,scoreData:s})}),n.createElement(Vr.c,{children:n.createElement("div",void 0,0!==i?n.createElement(Ii,{roundId:t,tournament:a,scoreData:s,unmatched:r.unmatched,unmatchedCount:i,unmatchedWithDummy:r.unmatchedWithDummy}):null)})))},qi=a(70);function Ui(e){var t=String(e.getFullYear()),a=e.getMonth(),n=e.getDate(),r=a<9?"0"+String(a+1):String(a+1),i=n<10?"0"+String(n):String(n);return fe.concat({hd:t,tl:{hd:r,tl:{hd:i,tl:0}}},"-")}var Ji=function(e){var t=e.tournament,a=t.tourney,r=a.roundList,i=a.date,s=a.name,l=t.setTourney,u=n.useState((function(){return 2})),m=u[1],f=u[0],h=n.useRef(null),v=n.useRef(null),b=function(e){d.f(d.a(g.a(e.current),qi.a),(function(e){e.focus()}))};return n.useEffect((function(){switch(f){case 0:b(h);break;case 1:b(v)}}),[f]),n.createElement("div",{className:"content-area"},0!==f?n.createElement("h1",{style:{textAlign:"left"}},n.createElement("span",{className:"inputPlaceholder"},s)," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return o.a(m,(function(e){return 0}))}},n.createElement(di.a,{}),n.createElement(dt.a,{children:"Edit name"}))):n.createElement("form",{className:"display-20",style:{textAlign:"left"},onSubmit:function(e){return o.a(m,(function(e){return 2}))}},n.createElement("input",{ref:h,className:"display-20",style:{textAlign:"left"},type:"text",value:s,onChange:function(e){return o.a(l,{id:a.id,name:e.currentTarget.value,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return o.a(m,(function(e){return 2}))}},n.createElement(R.a,{}))),1!==f?n.createElement("p",{className:"caption-30"},n.createElement(he,{date:i})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return o.a(m,(function(e){return 1}))}},n.createElement(di.a,{}),n.createElement(dt.a,{children:"Edit date"}))):n.createElement("form",{className:"caption-30",onSubmit:function(e){return o.a(m,(function(e){return 2}))}},n.createElement("input",{ref:v,className:"caption-30",type:"date",value:Ui(i),onChange:function(e){var t,n=e.currentTarget.value,r=fe.split(n,"-");3!==r.length?t=["2000","01","01"]:t=[r[0],r[1],r[2]];var i=c.a(t[0]),s=c.a(t[1]),u=c.a(t[2]);if(void 0!==i&&void 0!==s&&void 0!==u)return o.a(l,{id:a.id,name:a.name,date:new Date(i,s-1,u),playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return o.a(m,(function(e){return 2}))}},n.createElement(R.a,{}))),n.createElement("h2",void 0,"Change bye scores"),n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return o.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:zt(r,0)}),B("Bye scores updated to 1.")}},"Change byes to 1")," ",n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return o.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:zt(r,1)}),B("Bye scores updated to \xbd.")}},"Change byes to \xbd"),n.createElement("p",{className:"caption-30",id:"score-desc"},"This will update all bye matches which have been previously\n          scored in this tournament. To change the default bye value in\n          future matches, go to the ",n.createElement(sn,{children:"app options",to_:4}),"."))},Ki=a(124),Zi=o.a(s.G,{hd:s.e("collapse"),tl:{hd:s.I("width","min-content"),tl:0}}),Yi=o.a(s.G,{hd:s.J("bottom"),tl:0}),$i=o.a(s.G,0),Xi=o.a(s.G,{hd:s.F(":nth-of-type(even)",{hd:s.c(ne),tl:0}),tl:{hd:s.F(":nth-of-type(odd)",{hd:s.c(X),tl:0}),tl:0}}),es=o.a(s.G,{hd:s.i({NAME:"px",VAL:1}),tl:{hd:s.f(ee),tl:{hd:s.h("solid"),tl:0}}}),ts=o.a(s.G,{hd:s.d("solid"),tl:{hd:s.i({NAME:"px",VAL:1}),tl:{hd:s.f(ee),tl:{hd:s.c(ne),tl:0}}}}),as=o.a(s.G,{hd:s.H("left"),tl:{hd:s.j(te),tl:0}}),ns=o.a(s.G,{hd:s.H("center"),tl:{hd:s.j(te),tl:0}}),rs=o.a(s.G,{hd:s.B({NAME:"px",VAL:4}),tl:0});function is(e){var t=e.size,a=e.tourney,r=e.getPlayer,s=e.title,l=void 0!==t?t:1,c=a.tieBreaks,u=y.l(c,ut.toPrettyString),d=lt(E.g(ot(ci(a.roundList,a.scoreAdjustments),c),(function(e){return!Ne(e.id)})));return n.createElement("table",{className:i.a(Zi,i.c($i,!l))},n.createElement("caption",{className:i.a(i.c("title-30",!l),i.c("title-40",!!l))},s),n.createElement("thead",void 0,n.createElement("tr",{className:Yi},n.createElement("th",{className:"title-10",scope:"col"},"Rank"),n.createElement("th",{className:"title-10",scope:"col"},"Name"),n.createElement("th",{className:"title-10",scope:"col"},"Score"),l?y.m(u,(function(e,t){return n.createElement("th",{key:String(e),className:"title-10",scope:"col"},t)})):null)),n.createElement("tbody",void 0,y.m(y.q(E.p(d)),(function(e,t){return y.m(y.q(E.p(t)),(function(a,s){return n.createElement("tr",{key:s.id,className:Xi},0===a?n.createElement("th",{className:i.a(i.a(i.a("table__number",rs),ns),ts),rowSpan:E.l(t),scope:"row"},e+1|0):null,l?n.createElement(ue,{children:n.createElement("th",{className:i.a(ts,as),scope:"row"},o.a(r,s.id).firstName,j,o.a(r,s.id).lastName),testId:"rank-"+String(e+1|0)+"."+String(a)}):n.createElement("td",{className:i.a(es,as)},o.a(r,s.id).firstName,j,o.a(r,s.id).lastName),n.createElement("td",{className:i.a(i.a(rs,es),"table__number")},o.a(ct.Sum.toNumeral,s.score).format("1/2")),l?y.l(E.p(s.tieBreaks),(function(e){return n.createElement("td",{key:ut.toString(e[0]),className:i.a(es,"table__number")},o.a(ct.Sum.toNumeral,e[1]).format("1/2"))})):null)}))}))))}var ss=is;function os(e){var t=e.tourney,a=e.setTourney,r=t.tieBreaks,s=n.useState((function(){})),l=s[1],c=s[0],u=function(e){return void 0!==e?e:void 0!==c?c:0},d=function(e){return r.includes(u(e))?(o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.filter((function(t){return!ut.eq(u(e),t)})),roundList:t.roundList}),o.a(l,(function(e){}))):o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.concat([u(e)]),roundList:t.roundList})},m=function(e){if(void 0!==c){var n=r.indexOf(c);return o.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:G.swap(t.tieBreaks,n,n+e|0),roundList:t.roundList})}};return n.createElement(Q,{children:null,className:"content-area"},n.createElement(V,{children:null},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return d(void 0)}},"Toggle"),n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return m(-1)}},n.createElement(zr.a,{})," Move up"),n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return m(1)}},n.createElement(qr.a,{})," Move down"),n.createElement("button",{className:i.a("button-micro",i.d("button-primary",c)),disabled:void 0===c,onClick:function(e){return o.a(l,(function(e){}))}},"Done")),n.createElement("table",void 0,n.createElement("caption",{className:"title-30"},"Selected tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(dt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(r,(function(e){return n.createElement("tr",{key:ut.toString(e),className:i.b(c,(function(t){return t===e?"selected":""}))},n.createElement("td",void 0,ut.toPrettyString(e)),n.createElement("td",{style:{width:"48px"}},n.createElement("button",{className:"button-micro",disabled:void 0!==c&&c!==e,onClick:function(t){return void 0!==c&&ut.eq(c,e)?o.a(l,(function(e){})):o.a(l,(function(t){return e}))}},void 0!==c&&ut.eq(c,e)?"Done":"Edit")))}))))),n.createElement(V,{children:null},n.createElement("div",{className:"toolbar"},j),n.createElement("table",{style:{marginTop:"16px"}},n.createElement("caption",{className:"title-30"},"Available tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(dt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l([0,1,2,3,4],(function(e){return n.createElement("tr",{key:ut.toString(e)},n.createElement("td",void 0,n.createElement("span",{className:r.includes(e)?"disabled":"enabled"},ut.toPrettyString(e))),n.createElement("td",void 0,r.includes(e)?null:n.createElement("button",{className:"button-micro",onClick:function(t){return d(e)}},"Add")))}))))))}function ls(e,t,a){if(Se(t,a))return n.createElement(Ki.a,{className:"disabled"});var r=f.c(e,t);if(void 0===r)return null;var i,s,l=(i=r,s=a,E.j(i.opponentResults,void 0,(function(e,t){var a=t[1];return Se(s,t[0])?void 0!==e?g.b(g.d(e)+He(a)):g.b(0+He(a)):e})));return void 0!==l?o.a(ct.Sum.toNumeral,g.d(l)).format("1/2"):null}var cs=function(e){var t=e.tournament,a=t.tourney;return n.createElement(Vr.e,{children:null},n.createElement(Vr.b,{children:null},n.createElement(Vr.a,{children:null},n.createElement(xr.a,{})," Scores"),n.createElement(Vr.a,{children:null},n.createElement(en.a,{})," Edit tiebreak rules")),n.createElement(Vr.d,{children:null},n.createElement(Vr.c,{children:n.createElement(is,{tourney:a,getPlayer:t.getPlayer,title:"Score detail"})}),n.createElement(Vr.c,{children:n.createElement(os,{tourney:a,setTourney:t.setTourney})})))},us=function(e){var t=e.tournament,a=t.tourney,r=t.getPlayer,s=ci(a.roundList,a.scoreAdjustments),l=ot(s,a.tieBreaks);return n.createElement("table",{className:Zi},n.createElement("caption",void 0,"Crosstable"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"#"),n.createElement("th",void 0,"Name"),y.m(E.p(l),(function(e,t){return n.createElement("th",{key:String(e)},e+1|0)})),n.createElement("th",void 0,"Score"),n.createElement("th",{colSpan:2},"Rating"))),n.createElement("tbody",void 0,y.m(E.p(l),(function(e,t){return n.createElement("tr",{key:String(e),className:Xi},n.createElement("th",{className:i.a(ts,ns),scope:"col"},e+1|0),n.createElement("th",{className:i.a(ts,as),scope:"row"},o.a(r,t.id).firstName,j,o.a(r,t.id).lastName),y.m(E.p(l),(function(e,a){return n.createElement("td",{key:String(e),className:i.a(es,"table__number")},ls(s,t.id,a.id))})),n.createElement("td",{className:i.a(es,"table__number")},o.a(ct.Sum.toNumeral,t.score).format("1/2")),function(e,t){var a=f.d(e,t).firstRating,r=f.d(e,t).ratings,s=r?r.hd:a,o=p.a(s-a|0).format("+0");return n.createElement(n.Fragment,void 0,n.createElement("td",{className:i.a(es,"table__number")},s),n.createElement("td",{className:i.a(es,"table__number body-10")},o))}(s,t.id))}))))};var ds=function(e){var t,a=e.tournament,r=a.tourney,i=Pt(r.roundList),s=qt(r.roundList,i);if(void 0!==s){var o=g.d(s);t=0===Dt.size(o)?n.createElement("p",void 0,"Matched players in the current round will be shown here."):n.createElement(Wi,{isCompact:!0,roundId:i,matches:Dt.toArray(o),tournament:a})}else t=n.createElement("p",void 0,"No rounds played yet.");return n.createElement(n.Fragment,void 0,n.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),n.createElement(Q,{children:null,style:{justifyContent:"center"}},n.createElement(V,{children:t}),n.createElement(V,{children:n.createElement(ss,{size:0,tourney:r,getPlayer:a.getPlayer,title:"Rankings"})})))};function ms(e){var t=e.tournament,a=t.isNewRoundReady?t.isItOver?[j+" All rounds have completed.",1]:[j+" Ready to begin a new round.",0]:[j+"Round in progress.",3],r=a[0];return n.createElement(n.Fragment,void 0,n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Rounds: ",Mt(t.tourney.roundList),n.createElement("small",void 0," out of "),t.roundCount),n.createElement("hr",{className:"win__footer-divider"}),n.createElement(ve,{children:r,kind:a[1],tooltip:r,className:"win__footer-block",style:{backgroundColor:"transparent",color:"initial",display:"inline-flex",margin:"0",minHeight:"initial"}}),n.createElement("hr",{className:"win__footer-divider"}),n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Registered players: ",f.s(t.activePlayers)))}function fs(e){e.preventDefault()}function hs(e){var t=e.tournament,a=t.tourney,r=a.roundList,s=t.setTourney,l=t.playersDispatch,c=t.players,u=t.isItOver,d=t.activePlayers;return n.createElement("div",void 0,n.createElement("nav",void 0,n.createElement("ul",{style:{marginTop:"0"}},n.createElement("li",void 0,n.createElement(sn,{children:null,to_:1,onDragStart:fs},n.createElement(mr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Back")))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:3},onDragStart:fs},n.createElement(en.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Setup"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:0},onDragStart:fs},n.createElement(Xa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Players"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:4},onDragStart:fs},n.createElement(Mr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Status"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:2},onDragStart:fs},n.createElement(Pr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Crosstable"))),n.createElement("li",void 0,n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:1},onDragStart:fs},n.createElement(xr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Score detail")))),n.createElement("hr",void 0),n.createElement("h5",{className:"sidebar__hide-on-close sidebar__header"},"Rounds"),n.createElement("ul",{className:"center-on-close"},y.m(r,(function(e,t){return n.createElement("li",{key:String(e)},n.createElement(sn,{children:null,to_:{TAG:0,_0:a.id,_1:{_0:e}},onDragStart:fs},e+1|0,Qt(r,d,e)?n.createElement("span",{className:i.a("sidebar__hide-on-close","caption-20")}," Complete ",n.createElement(R.a,{})):n.createElement("span",{className:i.a("sidebar__hide-on-close","caption-20")}," Not complete ",n.createElement(A.a,{}))))})))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement("button",{className:"sidebar-button",style:{width:"100%"},disabled:!t.isNewRoundReady,onClick:function(e){if(e.preventDefault(),!(u&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?")))return o.a(s,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Wt(r)})}},n.createElement(Fr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," New round"))),n.createElement("li",{style:{textAlign:"center"}},n.createElement("button",{className:"button-micro sidebar-button",style:{marginTop:"8px"},disabled:0===Mt(r),onClick:function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete the last round?")){an.a("#/tourneys/"+a.id);var t=Pt(r),n=qt(r,t);return void 0!==n&&y.c(Dt.toArray(g.d(n)),(function(e){return e.result>=3?void 0:E.b({hd:[e.whiteId,e.whiteOrigRating],tl:{hd:[e.blackId,e.blackOrigRating],tl:0}},(function(e){var t=f.c(c,e[0]);if(void 0!==t){var a=t.matchCount-1|0;return o.a(l,{TAG:1,_0:t.id,_1:{firstName:t.firstName,id:t.id,lastName:t.lastName,matchCount:a,rating:e[1],type_:t.type_}})}}))})),o.a(s,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Ht(r)}),0===Mt(r)?o.a(s,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Wt(r)}):void 0}}},n.createElement(dr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Remove last round")))))}var gs=function(e){var t=e.tourneyId,a=e.subPage,r=e.windowDispatch,i={children:function(e){var t;if("number"===typeof a)switch(a){case 0:t=n.createElement(Ni,{tournament:e});break;case 1:t=n.createElement(cs,{tournament:e});break;case 2:t=n.createElement(us,{tournament:e});break;case 3:t=n.createElement(Ji,{tournament:e});break;case 4:t=n.createElement(ds,{tournament:e})}else t=n.createElement(zi,{roundId:a._0,tournament:e});return n.createElement(En,{children:t,footerFunc:function(t){return n.createElement(ms,{tournament:e})},sidebarFunc:function(t){return n.createElement(hs,{tournament:e})}})},tourneyId:t};return void 0!==r&&(i.windowDispatch=g.d(r)),n.createElement(Gi,i)},vs={TAG:3,_0:function(e){return e.date}},bs={TAG:0,_0:function(e){return e.name}};var ps=function(e){var t=e.windowDispatch,a=void 0!==t?t:function(e){},r=Ma(),i=r.dispatch,s=r.items,l=gt(f.u(s),vs,!0),c=l[1],u=l[0],d=n.useState((function(){return""})),m=d[1],h=d[0],g=ft(!1);return n.useEffect((function(){return o.a(a,{TAG:2,_0:"Tournament list"}),function(e){return o.a(a,{TAG:2,_0:""})}}),[a]),n.useEffect((function(){o.a(c,{TAG:2,_0:f.u(s)})}),[s,c]),n.createElement(En,{children:n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return o.a(g.setTrue,void 0)}},n.createElement(Fr.a,{})," Add tournament")),f.g(s)?n.createElement("p",void 0,"No tournaments are added yet."):n.createElement("table",void 0,n.createElement("caption",void 0,"Tournament list"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(vt,{children:"Name",sortColumn:bs,data:u,dispatch:c})),n.createElement("th",void 0,n.createElement(vt,{children:"Date",sortColumn:vs,data:u,dispatch:c})),n.createElement("th",void 0,n.createElement(dt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(u.table,(function(e){var t=e.name,a=e.id;return n.createElement("tr",{key:a,className:"buttons-on-hover"},n.createElement("td",void 0,n.createElement(sn,{children:t,to_:{TAG:0,_0:a,_1:0}})),n.createElement("td",void 0,n.createElement(he,{date:e.date})),n.createElement("td",void 0,n.createElement("button",{"aria-label":"Delete \u201c"+t+"\u201d",className:"danger button-ghost",title:"Delete "+t,onClick:function(e){var n="Are you sure you want to delete \u201c"+t+"\u201d?";if(window.confirm(n))return o.a(i,{TAG:0,_0:a})}},n.createElement(dr.a,{}))))})))),n.createElement(ln,{isOpen:g.state,onDismiss:g.setFalse,ariaLabel:"Create new tournament",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return o.a(g.setFalse,void 0)}},"Close"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=we();return o.a(i,{TAG:1,_0:t,_1:ka(t,h)}),o.a(m,(function(e){return""})),o.a(g.setFalse,void 0)}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Make a new tournament"),n.createElement("label",{htmlFor:"tourney-name"},"Name:"),n.createElement("input",{id:"tourney-name",name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:h,onChange:function(e){return o.a(m,e.currentTarget.value)}})," ",n.createElement("input",{className:"button-primary",type:"submit",value:"Create"})))))})};function Es(e){var t=rn();return n.createElement(yn,{children:function(e){var a;if("number"===typeof t)switch(t){case 0:a=n.createElement(Dn,{});break;case 1:a=n.createElement(ps,{windowDispatch:e});break;case 2:a=n.createElement(Lr,{windowDispatch:e});break;case 3:a=n.createElement(jn,{});break;case 4:a=n.createElement(lr,{windowDispatch:e});break;case 5:a=n.createElement(En,{children:n.createElement(Bn,{})})}else a=t.TAG?n.createElement(Lr,{id:t._0,windowDispatch:e}):n.createElement(gs,{tourneyId:t._0,subPage:t._1,windowDispatch:e});return n.createElement("main",{className:"app__main"},a)},className:"app"})}Ln(),r.a(n.createElement(Es,{}),"root")}},[[76,1,2]]]);
//# sourceMappingURL=main.9b0fa6c6.chunk.js.map