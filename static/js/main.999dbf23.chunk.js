(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e){e.exports={byeValue:1,avoidPairs:[["BarbaraGordon_cL6SpI2","JamesGordon_1ts9xICT3"],["Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH"],["HelenaWayne_fE6O0DJcE","BruceWayne_lv_ZsUHTU9"]]}},129:function(e){e.exports={BruceWayne_lv_ZsUHTU9:{id:"BruceWayne_lv_ZsUHTU9",type:"person",firstName:"Bruce",lastName:"Wayne",rating:1998,matchCount:9},DickGrayson_1C2rCokHH:{id:"DickGrayson_1C2rCokHH",type:"person",firstName:"Dick",lastName:"Grayson",rating:1909,matchCount:9},AlfredPennyworth_y4dW:{id:"AlfredPennyworth_y4dW",type:"person",firstName:"Alfred",lastName:"Pennyworth",rating:1999,matchCount:9},BarbaraGordon_cL6SpI2:{id:"BarbaraGordon_cL6SpI2",type:"person",firstName:"Barbara",lastName:"Gordon",rating:1345,matchCount:7},KateKane_klFW6gDfUOTX:{id:"KateKane_klFW6gDfUOTX",type:"person",firstName:"Kate",lastName:"Kane",rating:1538,matchCount:9},"SelinaKyle_rJBH-45Xoy":{id:"SelinaKyle_rJBH-45Xoy",type:"person",firstName:"Selina",lastName:"Kyle",rating:1495,matchCount:9},"JasonTodd_fc9CeOa-Luw":{id:"JasonTodd_fc9CeOa-Luw",type:"person",firstName:"Jason",lastName:"Todd",rating:1101,matchCount:7},JamesGordon_1ts9xICT3:{id:"JamesGordon_1ts9xICT3",type:"person",firstName:"James",lastName:"Gordon",rating:1167,matchCount:7},HelenaWayne_fE6O0DJcE:{id:"HelenaWayne_fE6O0DJcE",type:"person",firstName:"Helena",lastName:"Wayne",rating:1087,matchCount:7},Joker_v0z2416fpAZ9o2c:{id:"Joker_v0z2416fpAZ9o2c",type:"person",firstName:"Joker",lastName:"",rating:1538,matchCount:1},"HarleyQuinn_-10-02VPH":{id:"HarleyQuinn_-10-02VPH",type:"person",firstName:"Harley",lastName:"Quinn",rating:1648,matchCount:1},VictorFries_cWaQoW014:{id:"VictorFries_cWaQoW014",type:"person",firstName:"Victor",lastName:"Fries",rating:862,matchCount:1},OswaldCobblepot_lfCro:{id:"OswaldCobblepot_lfCro",type:"person",firstName:"Oswald",lastName:"Cobblepot",rating:1812,matchCount:1},RasAlGhul_k9n8k852bHr:{id:"RasAlGhul_k9n8k852bHr",type:"person",firstName:"Ra's",lastName:"al Ghul",rating:1404,matchCount:1},PamelaIsley_vH5vD8uPB:{id:"PamelaIsley_vH5vD8uPB",type:"person",firstName:"Pamela",lastName:"Isley",rating:965,matchCount:1},EdwardNigma_j80JfWOZq:{id:"EdwardNigma_j80JfWOZq",type:"person",firstName:"Edward",lastName:"Nigma",rating:948,matchCount:1},JonathanCrane_R4Q8tVW:{id:"JonathanCrane_R4Q8tVW",type:"person",firstName:"Jonathan",lastName:"Crane",rating:899,matchCount:1},HarveyDent_0eYIiP_Ij5:{id:"HarveyDent_0eYIiP_Ij5",type:"person",firstName:"Harvey",lastName:"Dent",rating:1649,matchCount:1},HugoStrange_az43f9mtS:{id:"HugoStrange_az43f9mtS",type:"person",firstName:"Hugo",lastName:"Strange",rating:800,matchCount:0}}},130:function(e){e.exports={CaouTNel9k70jUJ0h6SYM:{date:"2019-05-22T12:14:47.670Z",id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",tieBreaks:[0,1,2,3],byeQueue:[],playerIds:["BruceWayne_lv_ZsUHTU9","DickGrayson_1C2rCokHH","AlfredPennyworth_y4dW","BarbaraGordon_cL6SpI2","KateKane_klFW6gDfUOTX","SelinaKyle_rJBH-45Xoy","JasonTodd_fc9CeOa-Luw","JamesGordon_1ts9xICT3","HelenaWayne_fE6O0DJcE"],roundList:[[{id:"FUASEeyES6ez_ROoT6qmU",playerIds:["JasonTodd_fc9CeOa-Luw","DickGrayson_1C2rCokHH"],result:[0,1],origRating:[1238,2108],newRating:[1236,2109]},{id:"gqPyD66QMPF-pup41xsB2",playerIds:["JamesGordon_1ts9xICT3","AlfredPennyworth_y4dW"],result:[0,1],origRating:[1049,2260],newRating:[1049,2260]},{id:"KpS1lQSzsQWQ3VVWJyA2P",playerIds:["KateKane_klFW6gDfUOTX","BarbaraGordon_cL6SpI2"],result:[.5,.5],origRating:[1527,1755],newRating:[1553,1722]},{id:"OgFuy-wq8mz378EWat46u",playerIds:["SelinaKyle_rJBH-45Xoy","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[1284,1881],newRating:[1278,1887]},{id:"f8Ps3GUmd0ZRsBBY8rZOp",playerIds:["HelenaWayne_fE6O0DJcE","________DUMMY________"],result:[1,0],origRating:[831,0],newRating:[831,0]}],[{id:"6seKrw7ehbhL766g6L2PF",playerIds:["DickGrayson_1C2rCokHH","KateKane_klFW6gDfUOTX"],result:[1,0],origRating:[2109,1685],newRating:[2122,1672]},{id:"TCSjz48ZXqjamtYUFNg0B",playerIds:["BruceWayne_lv_ZsUHTU9","HelenaWayne_fE6O0DJcE"],result:[1,0],origRating:[1887,831],newRating:[1887,830]},{id:"zF64DEsN8sHydpDDsg37E",playerIds:["AlfredPennyworth_y4dW","SelinaKyle_rJBH-45Xoy"],result:[0,1],origRating:[2260,1278],newRating:[2101,1437]},{id:"qVGt1EJq9y0MmvFtumM0A",playerIds:["BarbaraGordon_cL6SpI2","JasonTodd_fc9CeOa-Luw"],result:[1,0],origRating:[1545,1236],newRating:[1574,1207]},{id:"UhfHaRWr_-BtVo22xAuJu",playerIds:["JamesGordon_1ts9xICT3","________DUMMY________"],result:[1,0],origRating:[1049,0],newRating:[1049,0]}],[{id:"odrOOnZJUe0YAwkfUDqUb",playerIds:["AlfredPennyworth_y4dW","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[2101,1887],newRating:[1998,1990]},{id:"qzCMqUwNIDAcFSAuA5yCm",playerIds:["HelenaWayne_fE6O0DJcE","DickGrayson_1C2rCokHH"],result:[1,0],origRating:[830,2122],newRating:[990,2008]},{id:"6QgVqdtcJPjfVp3UZ8S9g",playerIds:["SelinaKyle_rJBH-45Xoy","BarbaraGordon_cL6SpI2"],result:[1,0],origRating:[1437,1574],newRating:[1529,1464]},{id:"as45gODKMLC5-3_UsTyx5",playerIds:["KateKane_klFW6gDfUOTX","JamesGordon_1ts9xICT3"],result:[0,1],origRating:[1672,1049],newRating:[1542,1244]},{id:"Pc0CWecSfeGNfvBPjyEIj",playerIds:["JasonTodd_fc9CeOa-Luw","________DUMMY________"],result:[1,0],origRating:[1207,0],newRating:[1207,0]}],[{id:"xj0y_Iqkb-g3MDGgmYx2-",playerIds:["BruceWayne_lv_ZsUHTU9","KateKane_klFW6gDfUOTX"],result:[1,0],origRating:[1990,1542],newRating:[1998,1534]},{id:"HWYWtsyaqUkHRExM6kQrt",playerIds:["DickGrayson_1C2rCokHH","JamesGordon_1ts9xICT3"],result:[1,0],origRating:[2008,1244],newRating:[2009,1243]},{id:"uAzHZVMC71liQZ-6fWWeD",playerIds:["HelenaWayne_fE6O0DJcE","SelinaKyle_rJBH-45Xoy"],result:[0,1],origRating:[990,1529],newRating:[983,1534]},{id:"_tCBn9YNIyto-vXpxm7WI",playerIds:["JasonTodd_fc9CeOa-Luw","AlfredPennyworth_y4dW"],result:[0,1],origRating:[1207,1998],newRating:[1205,1999]},{id:"L7yatE2oVKlV7LOY6-d7Y",playerIds:["BarbaraGordon_cL6SpI2","________DUMMY________"],result:[1,0],origRating:[1464,0],newRating:[1464,0]}]]},tvAdS4YbSOznrBgrg0ITA:{date:"2019-05-29T12:15:20.593Z",id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",tieBreaks:[0,1,2,3],byeQueue:[],playerIds:["BruceWayne_lv_ZsUHTU9","DickGrayson_1C2rCokHH","AlfredPennyworth_y4dW","BarbaraGordon_cL6SpI2","KateKane_klFW6gDfUOTX","SelinaKyle_rJBH-45Xoy","JasonTodd_fc9CeOa-Luw","JamesGordon_1ts9xICT3","HelenaWayne_fE6O0DJcE","Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH","VictorFries_cWaQoW014","OswaldCobblepot_lfCro","RasAlGhul_k9n8k852bHr","PamelaIsley_vH5vD8uPB","EdwardNigma_j80JfWOZq","JonathanCrane_R4Q8tVW","HarveyDent_0eYIiP_Ij5"],roundList:[[{id:"5f8GYcR8V44NYvTN1cZle",playerIds:["EdwardNigma_j80JfWOZq","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[950,1998],newRating:[948,1998]},{id:"GPTct4sL368SryTLFUu8E",playerIds:["JonathanCrane_R4Q8tVW","AlfredPennyworth_y4dW"],result:[0,1],origRating:[900,1999],newRating:[899,1999]},{id:"AxtoztZ6O19nyrLfZ4YaU",playerIds:["HarveyDent_0eYIiP_Ij5","DickGrayson_1C2rCokHH"],result:[1,0],origRating:[850,2009],newRating:[1649,1909]},{id:"bUM_tWQsAtPe1gqRzlXd1",playerIds:["RasAlGhul_k9n8k852bHr","SelinaKyle_rJBH-45Xoy"],result:[.5,.5],origRating:[1050,1534],newRating:[1404,1495]},{id:"bAOVlP-M5xaPk1qofNReb",playerIds:["OswaldCobblepot_lfCro","BarbaraGordon_cL6SpI2"],result:[1,0],origRating:[1100,1464],newRating:[1812,1345]},{id:"4omlgiGSaE1BmrHdABSym",playerIds:["PamelaIsley_vH5vD8uPB","KateKane_klFW6gDfUOTX"],result:[0,1],origRating:[1e3,1534],newRating:[965,1538]},{id:"ysdEVYS2AyuKyOAwLLpTF",playerIds:["HarleyQuinn_-10-02VPH","JamesGordon_1ts9xICT3"],result:[1,0],origRating:[1200,1242],newRating:[1648,1167]},{id:"YoJ9WGokAYrmJjfxCCf87",playerIds:["VictorFries_cWaQoW014","Joker_v0z2416fpAZ9o2c"],result:[0,1],origRating:[1150,1250],newRating:[862,1538]},{id:"Az7SBl3cs7rbwKPBI0IsU",playerIds:["HelenaWayne_fE6O0DJcE","JasonTodd_fc9CeOa-Luw"],result:[1,0],origRating:[983,1205],newRating:[1087,1101]}],[]]}}},143:function(e,t,a){e.exports=a(197)},144:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);a(144),a(145),a(146),a(147),a(148),a(149),a(150),a(151),a(152),a(153),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),l=a(14),c=a.n(l);c.a.register("format","fraction",{format:function(e,t,a){var n=Math.floor(e),r=e-n,l=function(){switch(r){case.25:return"\xbc";case.5:return"\xbd";case.75:return"\xbe";default:return""}}();return(0===n&&r?"":String(n))+l},regexps:{format:/(1\/2)/,unformat:/(1\/2)/},unformat:function(e){return Number(e)}});var o=a(7),u=a(2),i=a(1),s=a.n(i),m=s.a.refinement(s.a.String,function(e){return/^[A-Za-z0-9_-]{21}$/.test(e)},"NanoId"),d=s.a.tuple([m,m],"AvoidPair"),E=s.a.interface({firstName:s.a.String,id:m,lastName:s.a.String,matchCount:s.a.Number,rating:s.a.Number,type:s.a.String},"Player"),f=s.a.interface({avoidList:s.a.list(m),colorBalance:s.a.Number,dueColor:s.a.maybe(s.a.Number),hasHadBye:s.a.Boolean,id:m,isDueBye:s.a.Boolean,opponentHistory:s.a.list(m),profile:E,rating:s.a.Number,score:s.a.Number,upperHalf:s.a.Boolean},"PlayerStats"),p=s.a.interface({id:m,newRating:s.a.tuple([s.a.Number,s.a.Number]),origRating:s.a.tuple([s.a.Number,s.a.Number]),playerIds:s.a.tuple([m,m]),result:s.a.tuple([s.a.Number,s.a.Number])},"Match"),b=s.a.list(s.a.list(p),"Round list"),y=s.a.interface({byeQueue:s.a.list(s.a.String),date:Date,id:m,name:s.a.String,playerIds:s.a.list(s.a.String),roundList:b,tieBreaks:s.a.list(s.a.Number)},"Tournament"),_=s.a.func([m,s.a.list(p)],s.a.Number,"ScoreCalulator"),h=s.a.interface({id:m,score:s.a.Number,tieBreaks:s.a.list(s.a.Number)},"Standing"),g=1,N=0,O="________DUMMY________",v=a(39),j=a.n(v);function I(e){return p({id:e.id||j()(),newRating:e.newRating,origRating:e.origRating,playerIds:e.playerIds,result:e.result||[0,0]})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({firstName:e.firstName||"",id:e.id||j()(),lastName:e.lastName||"",matchCount:e.matchCount||0,rating:e.rating||0,type:e.type||"person"})}var A=C({firstName:"Bye",id:O,lastName:"Player",type:"dummy"}),R=function(e){return C({firstName:"Anonymous",id:e,lastName:"Player",type:"missing"})},T=a(77),S=a.n(T);function w(e){return 800/(s.a.Number(e)||1)}var D=a(55),k=function(e){return e!==O};function L(e,t){if(s.a.dict(m,E)(e),m(t),t===O)return A;var a=e[t];return a||R(t)}var P=function(e){return!e.playerIds.includes(O)};function B(e,t){return s.a.list(p)(t),t.filter(function(t){return t.playerIds.includes(e)})}function H(e,t){return s.a.list(p)(t),t.filter(function(t){return t.playerIds.includes(e)&&P(t)})}function U(e,t){m(e),p(t);var a=t.playerIds.indexOf(e);return{color:a,newRating:t.newRating[a],origRating:t.origRating[a],result:t.result[a]}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return b(e),s.a.maybe(s.a.Number)(t),(null===t?e:e.slice(0,t+1)).reduce(function(e,t){return e.concat(t)},[])}function x(e){s.a.list(p)(e);var t=e.reduce(function(e,t){return e.concat(t.playerIds)},[]);return Array.from(new Set(t))}function W(e,t,a){y(e),s.a.dict(m,E)(t),s.a.Number(a);var n=(e.roundList[a]||[]).reduce(function(e,t){return e.concat(t.playerIds)},[]);return Object.values(t).reduce(function(e,t){return n.includes(t.id)?e:Object(D.a)(t.id,t,e)},{})}function J(e,t){return s.a.list(d)(t),m(e),t.filter(function(t){return t.includes(e)}).reduce(function(e,t){return t.concat(e)},[]).filter(function(t){return t!==e})}var Y=a(201),V=a(203),G=a(98),K=a(219),F=a(223),Q=a(222),Z=a(204),X=a(96),q=a(199),z=a(200),$=a(202),ee=a(97),te=a(49);function ae(e,t){m(e),s.a.list(p)(t);var a=Object(q.a)(B(e,t));return a?U(e,a).color===N?g:N:null}function ne(e,t){return m(e),s.a.list(p)(t),B(e,t).reduce(function(e,t){return e.concat(t.playerIds)},[]).includes(O)}function re(e,t){return m(e),s.a.list(p)(t),B(e,t).reduce(function(e,t){return e.concat(t.playerIds)},[]).filter(function(t){return t!==e})}function le(e,t){return m(e),s.a.list(p)(t),re(e,t).filter(k).map(function(e){return ce(e,t)})}var ce=_.of(function(e,t){var a=function(e,t){return m(e),s.a.list(p)(t),B(e,t).map(function(t){return U(e,t).result})}(e,t);return Object(z.a)(a)}),oe=_.of(function(e,t){var a=function(e,t){return m(e),s.a.list(p)(t),H(e,t).map(function(t){return U(e,t).result})}(e,t).reduce(function(e,t){return e.concat([Object(q.a)(e)+t])},[0]);return Object(z.a)(a)}),ue=_.of(function(e,t){var a=re(e,t).filter(k).map(function(e){return oe(e,t)});return Object(z.a)(a)}),ie=_.of(function(e,t){var a=H(e,t).reduce(function(t,a){return a.playerIds[N]===e?t.concat(-1):t.concat(1)},[0]);return Object(z.a)(a)}),se={0:{func:_.of(function(e,t){var a=le(e,t);return Object(Q.a)(Object(Y.a)(function(e,t){return e-t}),$.a,ee.a,z.a)(a)}),id:0,name:"Modified median"},1:{func:_.of(function(e,t){var a=le(e,t);return Object(z.a)(a)}),id:1,name:"Solkoff"},2:{func:oe,id:2,name:"Cumulative score"},3:{func:ue,id:3,name:"Cumulative of opposition"},4:{func:ie,id:4,name:"Most black"}};function me(e,t,a){s.a.list(s.a.Number)(e),s.a.list(s.a.Array)(t),s.a.maybe(s.a.Number)(a);var n,r=M(t,a),l=e.map(function(e){return se[e]}),c=l.map(function(e){return e.name}),o=x(r).map(function(e){return h({id:e,score:ce(e,r),tieBreaks:l.map(function(t){return(0,t.func)(e,r)})})}),u=(n=l,Object.keys(n).reduce(function(e,t){return e.thenBy(function(e,a){return a.tieBreaks[t]-e.tieBreaks[t]})},Object(te.firstBy)(function(e,t){return t.score-e.score})));return[Object(Y.a)(u,o),c]}function de(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s.a.list(s.a.Number)(e),b(t),s.a.maybe(s.a.Number)(a);var n=me(e,t,a),r=Object(u.a)(n,2),l=r[0],c=r[1];return[l.filter(k).reduce(function(e,t,a,n){var r,l,c=n[a-1];return 0===a||(l=c,h(r=t),h(l),!(r.score===l.score&&!r.tieBreaks.reduce(function(e,t,a){return e.concat(t!==l.tieBreaks[a])},[]).includes(!0)))?Object(V.a)([t],e):Object(G.a)(Object(K.a)(e.length-1),Object(V.a)(t),e)},[]),c]}function Ee(e){var t=e.avoidList,a=e.id,n=e.players,r=e.roundList,l=e.roundId;m(a),s.a.Number(l),s.a.dict(m,E)(n),s.a.list(d)(t),b(r);var c=M(r,l);return f({avoidList:J(a,t),colorBalance:ie(a,c),dueColor:ae(a,c),hasHadBye:ne(a,c),id:a,isDueBye:!1,opponentHistory:re(a,c),profile:n[a],rating:n[a].rating,score:ce(a,c),upperHalf:!1})}Object.freeze(se);var fe,pe=a(221),be=a(137),ye=a(205),_e=a(139),he=a(224),ge=a(206),Ne=a(207),Oe=a(99),ve=a.n(Oe),je=function(e){return function(t){return t?e:0}},Ie=je(20),Ce=(fe=16,function(e){return fe/e}),Ae=je(2),Re=je(1),Te=Object(Q.a)(Object(X.a)(Ae(!0)),Object(X.a)(Re(!0)),Object(X.a)(Ce(1)),Object(X.a)(Ie(!0)))(0);function Se(e,t){if(f(e),f(t),e.id===t.id)return 0;var a=e.opponentHistory.includes(t.id),n=e.avoidList.includes(t.id);return Object(Q.a)(Object(X.a)(Ae(e.upperHalf!==t.upperHalf&&e.score===t.score)),Object(X.a)(Re(null===e.dueColor||e.dueColor!==t.dueColor)),Object(X.a)(Ce(Math.abs(e.score-t.score)+1)),Object(X.a)(Ie(!a&&!n)))(0)}function we(e){s.a.list(f)(e);var t=function(e){return Object(pe.a)(e.length/2,e)};return e.reduce(function(e,a,n,r){var l=Object(Q.a)(Object(be.a)(function(e){return e.score===a.score}),t,Object(ye.a)(Object(K.a)(0)),Object(_e.a)(function(e){return e.id}))(r).includes(a.id);return e.concat([Object(D.a)("upperHalf",l,a)])},[])}function De(e,t){if(s.a.list(s.a.Number)(e),s.a.list(f)(t),t.length%2===0)return t;var a=t.filter(function(e){return!e.hasHadBye}).map(function(e){return e.id}),n=e.filter(function(e){return a.includes(e)})[0],r=n?Object(he.a)(function(e){return e.id===n},t):Object(he.a)(function(e){return!e.hasHadBye},t),l=-1===r?t.length-1:r;return Object(G.a)(Object(K.a)(l),Object(D.a)("isDueBye",!0),t)}function ke(e){return s.a.list(f)(e),Object(Y.a)(Object(te.firstBy)(function(e,t){return t.score-e.score}).thenBy(function(e,t){return t.rating-e.rating}),e)}var Le=a(100),Pe=a.n(Le),Be=a(101),He=a.n(Be),Ue=a(102),Me=a.n(Ue),xe=a(103),We=a.n(xe),Je=a(104),Ye=a.n(Je),Ve=a(105),Ge=a.n(Ve),Ke=a(106),Fe=a.n(Ke),Qe=a(107),Ze=a.n(Qe),Xe=a(108),qe=a.n(Xe),ze=a(109),$e=a.n(ze),et=a(110),tt=a.n(et),at=a(111),nt=a.n(at),rt=a(112),lt=a.n(rt),ct=a(113),ot=a.n(ct),ut=a(114),it=a.n(ut),st=a(115),mt=a.n(st),dt=a(116),Et=a.n(dt),ft=a(117),pt=a.n(ft),bt=a(118),yt=a.n(bt),_t=a(119),ht=a.n(_t),gt=a(120),Nt=a.n(gt),Ot=a(121),vt=a.n(Ot),jt=a(122),It=a.n(jt),Ct=a(123),At=a.n(Ct),Rt=a(124),Tt=a.n(Rt),St=a(125),wt=a.n(St),Dt=a(126),kt=a.n(Dt),Lt=function(e){return function(t){return r.a.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:e.svg},"aria-label":e.title,role:"img",style:{fill:"#"+e.hex}},t))}},Pt={Activity:Pe.a,Alert:He.a,ArrowDown:Me.a,ArrowUp:We.a,ArrowUpLeft:Ye.a,Award:Ge.a,Check:Fe.a,CheckCircle:Ze.a,ChevronLeft:qe.a,ChevronRight:$e.a,Circle:tt.a,Download:nt.a,Edit:lt.a,Info:ot.a,Javascript:Lt(it.a),Layers:mt.a,List:Et.a,Minus:pt.a,Plus:yt.a,React:Lt(ht.a),Repeat:Nt.a,Settings:vt.a,Trash:It.a,UserMinus:At.a,UserPlus:Tt.a,Users:wt.a,X:kt.a},Bt=a(20),Ht=a.n(Bt),Ut=(a(186),a(208)),Mt=a(209),xt=s.a.interface({state:s.a.Any}),Wt=s.a.interface({id:s.a.String}),Jt=s.a.interface({item:s.a.Any}),Yt=s.a.interface({name:s.a.String}),Vt=s.a.interface({firstName:s.a.String,lastName:s.a.String,rating:s.a.Number}),Gt=s.a.interface({firstName:s.a.String,id:m,lastName:s.a.String,matchCount:s.a.Number,rating:s.a.Number}),Kt=s.a.union([xt,Wt,Jt,Vt,Yt,Gt]);function Ft(e,t){Kt(t);var a,n=j()();switch(t.type){case"ADD_ITEM":return console.warn("Use a more specific action instead, please."),Object(D.a)(n,t.item,e);case"ADD_TOURNEY":return Object(D.a)(n,(a={id:n,name:t.name},y({byeQueue:a.byeQueue||[],date:a.date||new Date,id:a.id||j()(),name:a.name||"",playerIds:a.playerIds||[],roundList:a.roundList||[],tieBreaks:a.tieBreaks||[0,1,2,3]})),e);case"ADD_PLAYER":return Object(D.a)(n,C({firstName:t.firstName,id:n,lastName:t.lastName,rating:t.rating}),e);case"DEL_ITEM":return Object(Ut.a)(t.id,e);case"SET_PLAYER":return Object(G.a)(Object(F.a)(t.id),Object(Mt.a)({firstName:t.firstName,lastName:t.lastName,matchCount:t.matchCount,rating:t.rating}),e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type")}}Kt.dispatch=function(e){return{ADD_ITEM:Jt,ADD_PLAYER:Vt,ADD_TOURNEY:Yt,DEL_ITEM:Wt,LOAD_STATE:xt,SET_PLAYER:Gt}[e.type]};var Qt=s.a.interface({state:s.a.Any}),Zt=s.a.interface({option:s.a.String,value:s.a.union([s.a.Number,s.a.list(d)])}),Xt=s.a.interface({pair:d}),qt=s.a.interface({id:m}),zt=s.a.union([Qt,Xt,qt]);function $t(e,t){switch(zt(t),t.type){case"ADD_AVOID_PAIR":return Object(G.a)(Object(F.a)("avoidPairs"),Object(V.a)(t.pair),e);case"DEL_AVOID_PAIR":return Object(G.a)(Object(F.a)("avoidPairs"),Object(be.a)(function(e){return!(e.includes(t.pair[0])&&e.includes(t.pair[1]))}),e);case"DEL_AVOID_SINGLE":return Object(G.a)(Object(F.a)("avoidPairs"),Object(be.a)(function(e){return!e.includes(t.id)}),e);case"SET_OPTION":return Object(D.a)(t.option,t.value,e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type.")}}zt.dispatch=function(e){return{ADD_AVOID_PAIR:Xt,DEL_AVOID_PAIR:Xt,DEL_AVOID_SINGLE:qt,LOAD_STATE:Qt,SET_OPTION:Zt}[e.type]};var ea=a(218),ta=a(210),aa=s.a.interface({firstName:s.a.String,id:m,lastName:s.a.String,matchCount:s.a.Number,rating:s.a.Number}),na=s.a.interface({firstName:s.a.String,lastName:s.a.String,rating:s.a.Number}),ra=s.a.interface({id:m}),la=s.a.interface({id:m,matchCount:s.a.Number}),ca=s.a.interface({id:m,rating:s.a.Number}),oa=s.a.interface({state:s.a.Any}),ua=s.a.union([aa,na,ra,la,ca,oa]);function ia(e,t){ua(t);var a=j()();switch(t.type){case"ADD_PLAYER":return Object(D.a)(a,C({firstName:t.firstName,id:a,lastName:t.lastName,rating:t.rating}),e);case"SET_PLAYER":return Object(G.a)(Object(F.a)(t.id),Object(Mt.a)({firstName:t.firstName,lastName:t.lastName,matchCount:t.matchCount,rating:t.rating}),e);case"DEL_PLAYER":return Object(Ut.a)(Object(ea.a)(t.id),e);case"SET_PLAYER_MATCHCOUNT":return Object(ta.a)(Object(ea.a)([t.id,"matchCount"]),t.matchCount,e);case"SET_PLAYER_RATING":return Object(ta.a)(Object(ea.a)([t.id,"rating"]),t.rating,e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type")}}ua.dispatch=function(e){return{ADD_PLAYER:na,DEL_PLAYER:ra,LOAD_STATE:oa,SET_PLAYER:aa,SET_PLAYER_MATCHCOUNT:la,SET_PLAYER_RATING:ca}[e.type]};var sa=a(211),ma=a(212),da=a(136),Ea=a(213),fa=a(220),pa=a(214),ba=a(215);function ya(e){var t=e.avoidList,a=e.byeValue,n=e.players,r=e.roundId,l=e.tourney;s.a.list(d)(t),s.a.Number(a),y(l),s.a.dict(m,E)(n),s.a.Number(r);var c=l.roundList,o=function(e){var t=e.players,a=e.roundId,n=e.roundList,r=e.avoidList,l=e.byeQueue;s.a.Number(a),s.a.dict(m,E)(t),s.a.list(s.a.Number)(l),b(n),s.a.list(d)(r);var c=Object.keys(t),o=Object(Q.a)(Object(_e.a)(function(e){return Ee({avoidList:r,id:e,players:t,roundId:a,roundList:n})}),ke,we,Object(ge.a)(De)(l))(c),u=o.filter(function(e){return!e.isDueBye}).reduce(function(e,t,a,n){var r=n.map(function(e){return[c.indexOf(t.id),c.indexOf(e.id),Se(t,e)]});return e.concat(r)},[]),i=ve()(u).reduce(function(e,t,a){if(-1!==t){var n=c[t],r=c[a],l=o.filter(function(e){return e.id===n})[0],u=o.filter(function(e){return e.id===r})[0],i=e.map(function(e){return e[0]});if(!i.includes(l)&&!i.includes(u))return e.concat([[l,u]])}return e},[]),f=Object(Y.a)(Object(te.firstBy)(function(e,t){return t[0].score+t[1].score-e[0].score-e[1].score}).thenBy(function(e,t){return t[0].rating+t[1].rating-e[0].rating-e[1].rating}),i).map(function(e){var t=e[0],a=e[1],n=[t.id,a.id];return t.colorBalance<a.colorBalance?Object(Ne.a)(n):n}),p=o.filter(function(e){return e.isDueBye})[0];return p?f.concat([[p.id,O]]):f}({avoidList:t,byeQueue:l.byeQueue,players:n,roundId:r,roundList:c});console.log("pairs",o),console.log("players",n);var u=function(e){return L(n,e)};return o.map(function(e){return I({newRating:[u(e[N]).rating,u(e[g]).rating],origRating:[u(e[N]).rating,u(e[g]).rating],playerIds:[e[N],e[g]]})}).reduce(function(e,t){return t.playerIds[N]===O?e.concat([Object(D.a)("result",[0,a],t)]):t.playerIds[g]===O?e.concat([Object(D.a)("result",[a,0],t)]):e.concat([t])},[])}var _a=s.a.interface({}),ha=s.a.interface({}),ga=s.a.interface({id:s.a.Number}),Na=s.a.interface({newIndex:s.a.Number,oldIndex:s.a.Number}),Oa=s.a.interface({playerIds:s.a.list(m)}),va=s.a.interface({byeQueue:s.a.list(m)}),ja=s.a.interface({avoidList:s.a.list(d),byeValue:s.a.Number,players:s.a.dict(m,E),roundId:s.a.Number}),Ia=s.a.interface({byeValue:s.a.Number,pair:s.a.tuple([E,E]),roundId:s.a.Number}),Ca=s.a.interface({matchId:s.a.String,newRating:s.a.tuple([s.a.Number,s.a.Number]),result:s.a.tuple([s.a.Number,s.a.Number]),roundId:s.a.Number}),Aa=s.a.interface({matchId:s.a.String,roundId:s.a.Number}),Ra=s.a.interface({newIndex:s.a.Number,oldIndex:s.a.Number,roundId:s.a.Number}),Ta=s.a.interface({name:s.a.String}),Sa=s.a.interface({date:Date}),wa=s.a.interface({state:s.a.Any}),Da=s.a.union([_a,ha,ga,ga,Na,Ta,Oa,va,Sa,ja,Ia,Ca,Aa,Ra]);function ka(e,t){switch(Da(t),t.type){case"ADD_ROUND":return Object(G.a)(Object(F.a)("roundList"),Object(V.a)([]),e);case"DEL_LAST_ROUND":return Object(G.a)(Object(F.a)("roundList"),Object(sa.a)(-1,1),e);case"ADD_TIEBREAK":return Object(G.a)(Object(F.a)("tieBreaks"),Object(V.a)(t.id),e);case"DEL_TIEBREAK":return Object(G.a)(Object(F.a)("tieBreaks"),Object(be.a)(function(e){return e!==t.id}),e);case"MOVE_TIEBREAK":return Object(G.a)(Object(F.a)("tieBreaks"),Object(ma.a)(t.oldIndex,t.newIndex),e);case"SET_TOURNEY_PLAYERS":return Object(D.a)("playerIds",t.playerIds,e);case"SET_BYE_QUEUE":return Object(D.a)("byeQueue",t.byeQueue,e);case"SET_NAME":return Object(D.a)("name",t.name,e);case"AUTO_PAIR":return Object(G.a)(Object(ea.a)(["roundList",t.roundId]),Object(da.a)(Ea.a,ya({avoidList:t.avoidList,byeValue:t.byeValue,players:t.players,roundId:t.roundId,tourney:e})),e);case"MANUAL_PAIR":return Object(G.a)(Object(ea.a)(["roundList",t.roundId]),Object(V.a)(function(e,t){s.a.tuple([E,E])(e);var a=I({newRating:[e[N].rating,e[g].rating],origRating:[e[N].rating,e[g].rating],playerIds:[e[N].id,e[g].id]});return e[N].id===O?Object(D.a)("result",[0,t],a):e[g].id===O?Object(D.a)("result",[t,0],a):a}(t.pair,t.byeValue)),e);case"SET_DATE":return Object(D.a)("date",t.date,e);case"SET_MATCH_RESULT":return Object(Q.a)(Object(ta.a)(Object(ea.a)(["roundList",t.roundId,Object(fa.a)(Object(pa.a)("id",t.matchId),e.roundList[t.roundId]),"result"]),t.result),Object(ta.a)(Object(ea.a)(["roundList",t.roundId,Object(fa.a)(Object(pa.a)("id",t.matchId),e.roundList[t.roundId]),"newRating"]),t.newRating))(e);case"DEL_MATCH":return Object(G.a)(Object(ea.a)(["roundList",t.roundId]),Object(be.a)(function(e){return e.id!==t.matchId}),e);case"SWAP_COLORS":return Object(G.a)(Object(ea.a)(["roundList",t.roundId,Object(fa.a)(Object(pa.a)("id",t.matchId),e.roundList[t.roundId])]),function(e){return Object(ba.a)(e,{newRating:Object(Ne.a)(e.newRating),origRating:Object(Ne.a)(e.origRating),playerIds:Object(Ne.a)(e.playerIds),result:Object(Ne.a)(e.result)})},e);case"MOVE_MATCH":return Object(G.a)(Object(ea.a)(["roundList",t.roundId]),Object(ma.a)(t.oldIndex,t.newIndex),e);case"SET_STATE":return console.log("setting state:",t.state),t.state;default:throw new Error("Unexpected action type "+t.type)}}Da.dispatch=function(e){return{ADD_ROUND:_a,ADD_TIEBREAK:ga,AUTO_PAIR:ja,DEL_LAST_ROUND:ha,DEL_MATCH:Aa,DEL_TIEBREAK:ga,MANUAL_PAIR:Ia,MOVE_MATCH:Ra,MOVE_TIEBREAK:Na,SET_BYE_QUEUE:va,SET_DATE:Sa,SET_MATCH_RESULT:Ca,SET_NAME:Ta,SET_STATE:wa,SET_TOURNEY_PLAYERS:Oa,SWAP_COLORS:Aa}[e.type]};var La=a(127),Pa=a.n(La),Ba=a(128),Ha=a(129),Ua=a(130),Ma={options:Ba,players:s.a.dict(m,E)(Ha),tournaments:Pa()(Ua,s.a.dict(s.a.String,y))},xa=a(83),Wa=a(35),Ja=a.n(Wa),Ya=a(131),Va=a(132);Object(Va.extendPrototype)(Ja.a),Object(Ya.extendPrototype)(Ja.a);var Ga=Ja.a.createInstance({name:"Chessahoochee",storeName:"Options"}),Ka=Ja.a.createInstance({name:"Chessahoochee",storeName:"Players"}),Fa=Ja.a.createInstance({name:"Chessahoochee",storeName:"Tournaments"});function Qa(e){var t=Object(n.useReducer)(Ft,{}),a=Object(u.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)(function(){document.body.style.cursor="wait",e.getItems().then(function(t){console.log("loaded items from",e._config.storeName),l({state:t,type:"LOAD_STATE"}),s(!0),document.body.style.cursor="auto"}).catch(function(){document.body.style.cursor="auto"})},[e]),Object(n.useEffect)(function(){i&&(e.setItems(r).then(function(){console.log("saved items to",e._config.storeName)}),e.keys().then(function(t){var a=Object(xa.a)(t,Object.keys(r));a.length>0&&e.removeItems(a).then(function(){console.log("Deleted "+a.length+" items.")})}))},[e,r,i]),[r,l]}function Za(){return Qa(Ka)}function Xa(){return Qa(Fa)}function qa(){var e=Object(n.useReducer)($t,Ma.options),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(u.a)(l,2),o=c[0],i=c[1];return Object(n.useEffect)(function(){document.body.style.cursor="wait",Ga.iterate(function(e,t){r({option:t,type:"SET_OPTION",value:e})}).then(function(){i(!0),document.body.style.cursor="auto"}).catch(function(){document.body.style.cursor="auto"})},[]),Object(n.useEffect)(function(){o&&Ga.setItems(a)},[a,o]),[a,r]}var za=a(216),$a=Object(n.createContext)(null);function en(){return Object(n.useContext)($a)}function tn(e){var t=e.children,a=e.tourneyId,l=Object(n.useReducer)(ka,{}),c=Object(u.a)(l,2),o=c[0],i=c[1],s=Object(n.useReducer)(ia,{}),m=Object(u.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),b=p[0],y=p[1],_=Object(n.useState)(!1),h=Object(u.a)(_,2),g=h[0],N=h[1];Object(n.useEffect)(function(){document.body.style.cursor="wait",Fa.getItem(a).then(function(e){console.log("loaded:",a),i({state:e,type:"SET_STATE"}),y(!0),document.body.style.cursor="auto"}).catch(function(){document.body.style.cursor="auto"})},[a]),Object(n.useEffect)(function(){if(o.roundList&&o.playerIds){var e=x(M(o.roundList)).concat(o.playerIds);if(0===e.length)return 0!==Object.keys(d).length&&E({state:{},type:"LOAD_STATE"}),void N(!0);document.body.style.cursor="wait",Ka.getItems(e).then(function(e){var t=Object(za.a)(Object.keys(e),Object.keys(d));console.log("unchanged players:",t),0!==t.length&&(console.log("hydrated player data"),E({state:e,type:"LOAD_STATE"})),N(!0),document.body.style.cursor="auto"}).catch(function(t){console.error("Couldn't load ids:",e),console.error(t),document.body.style.cursor="auto"})}},[o.roundList,d,o.playerIds]),Object(n.useEffect)(function(){b&&Fa.setItem(a,o).catch(function(e){console.log("error saving tourney:",a,e)})},[a,o,b]),Object(n.useEffect)(function(){g&&Ka.setItems(d).then(function(e){console.log("saved player changes to DB:",e)}).catch(function(e){console.log("couldn't save players to DB:",e)})},[d,g]);return b&&g?r.a.createElement($a.Provider,{value:{getPlayer:function(e){return L(d,e)},players:d,playersDispatch:E,tourney:o,tourneyDispatch:i}},t):r.a.createElement("div",null,"Loading...")}function an(e){Object(n.useEffect)(function(){var t=document.title;return document.title="Chessahoochee: "+e,function(){document.title=t}},[e])}function nn(e){var t=en(),a=t.tourney,n=t.getPlayer,l=a.tieBreaks,o=a.roundList,i=M(o),d=function(e){return t=i,m(a=e),s.a.list(p)(t),B(a,t).reduce(function(e,t){var n=t.playerIds.filter(function(e){return e!==a})[0],r=U(a,t).result;return Object(G.a)(Object(F.a)(n),Object(Q.a)(Object(Z.a)(0),Object(X.a)(r)),e)},{});var t,a},E=me(l,o),f=Object(u.a)(E,1)[0],b=f.reduce(function(e,t){var a=t.id;return Object(D.a)(a,d(a),e)},{});function y(e){var t=function(e,t){m(t),s.a.list(p)(e);var a=B(t,e),n=a[0],r=Object(q.a)(a);return[U(t,n).origRating,U(t,r).newRating]}(i,e),a=Object(u.a)(t,2),n=a[0],l=a[1],o=c()(l-n).format("+0");return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"table__number"},l),r.a.createElement("td",{className:"table__number body-10"},"(",o,")"))}return r.a.createElement("table",{className:Ht.a.table},r.a.createElement("caption",null,"Crosstable"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),Object.keys(f).map(function(e){return r.a.createElement("th",{key:e},Number(e)+1)}),r.a.createElement("th",null,"Score"),r.a.createElement("th",{colSpan:2},"Rating"))),r.a.createElement("tbody",null,f.map(function(e,t){return r.a.createElement("tr",{key:t,className:Ht.a.row},r.a.createElement("th",{className:Ht.a.rank,scope:"col"},t+1),r.a.createElement("th",{className:Ht.a.playerName,scope:"row"},n(e.id).firstName,"\xa0",n(e.id).lastName),f.map(function(t,a){return r.a.createElement("td",{key:a,className:"table__number"},function(e,t){if(e===t)return r.a.createElement(Pt.X,{className:"disabled"});var a=b[e][t];return void 0===a?null:c()(a).format("1/2")}(e.id,t.id))}),r.a.createElement("td",{className:"table__number"},c()(e.score).format("1/2")),y(e.id))})))}var rn=a(138),ln=a(217),cn=a(78),on=a.n(cn);function un(e){var t=e.children,a=e.style;return r.a.createElement("div",{className:on.a.panel,style:Object(rn.a)({},a)},t)}function sn(e){return r.a.createElement("div",Object.assign({},e,{className:on.a.panels+" "+e.className}),e.children)}function mn(e){var t=new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"short",year:"numeric"}),a=Object(ln.a)(["date"],e);return r.a.createElement("time",Object.assign({dateTime:e.date.toISOString()},a),t.format(e.date))}function dn(e){var t=e.success?[r.a.createElement(Pt.Check,null),"notification__success"]:e.warning?[r.a.createElement(Pt.Alert,null),"notification__warning"]:e.error?[r.a.createElement(Pt.X,null),"notification__error"]:[r.a.createElement(Pt.Info,null),"notification__generic"],a=Object(u.a)(t,2),n=a[0],l=a[1],c=Object(ln.a)(["warning","error","success"],e);return r.a.createElement("div",Object.assign({},c,{className:"notification "+l}),r.a.createElement("div",{className:"notification__icon"},n),r.a.createElement("div",{className:"notification__text"},e.children))}function En(e,t){return t.filter(function(t){return t.id===e})[0]}var fn=a(29);function pn(e){var t=e.dispatch,a={firstName:"",lastName:"",rating:1200},l=Object(n.useState)(a),c=Object(u.a)(l,2),o=c[0],i=c[1],s=function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.value;i(function(e){return Object(D.a)(a,n,e)})};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=o.firstName,r=o.lastName,l=o.rating;i(a),t({firstName:n,lastName:r,rating:l,type:"ADD_PLAYER"})}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Register a new player"),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{name:"firstName",type:"text",value:o.firstName,required:!0,onChange:s})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{name:"lastName",type:"text",value:o.lastName,required:!0,onChange:s})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"rating"},"Rating"),r.a.createElement("input",{name:"rating",type:"number",value:o.rating,required:!0,onChange:s})),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Add"}))))}function bn(e){var t=en(),a=t.tourney,n=t.tourneyDispatch,l=Za(),c=Object(u.a)(l,2),o=c[0],i=c[1];function s(e){var t=e.target.value;e.target.checked?n({playerIds:a.playerIds.concat([t]),type:"SET_TOURNEY_PLAYERS"}):n({playerIds:a.playerIds.filter(function(e){return e!==t}),type:"SET_TOURNEY_PLAYERS"})}return r.a.createElement("div",null,r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",onClick:function(){return n({playerIds:Object.keys(o),type:"SET_TOURNEY_PLAYERS"})}},"Select all"),r.a.createElement("button",{className:"button-micro",onClick:function(){return n({playerIds:[],type:"SET_TOURNEY_PLAYERS"})}},"Select none")),r.a.createElement("table",null,r.a.createElement("caption",null,"Select players"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Select"))),r.a.createElement("tbody",null,Object.values(o).map(function(e){var t=e.id,n=e.firstName,l=e.lastName;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement("input",{checked:a.playerIds.includes(t),type:"checkbox",value:t,onChange:s})))}))),r.a.createElement(pn,{dispatch:i}))}function yn(e){var t=en(),a=t.tourney,l=t.tourneyDispatch,c=t.players,o=a.playerIds,i=a.roundList,s=a.byeQueue,m=l,d=Object(n.useState)(0===o.length),E=Object(u.a)(d,2),f=E[0],p=E[1],b=M(i);return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{onClick:function(){return p(!0)}},r.a.createElement(Pt.Edit,null)," Edit player roster")),r.a.createElement(sn,null,r.a.createElement(un,{style:{flexShrink:"0"}},r.a.createElement("table",null,r.a.createElement("caption",null,"Current roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2},"Name"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",{className:"content"},Object.values(c).map(function(e){return r.a.createElement("tr",{key:e.id,className:e.type+" player"},r.a.createElement("td",null,e.firstName),r.a.createElement("td",null,e.lastName),r.a.createElement("td",null,r.a.createElement("button",{className:"button-micro",disabled:s.includes(e.id),onClick:function(){return m({byeQueue:s.concat([e.id]),type:"SET_BYE_QUEUE"})}},"Bye signup")))})))),r.a.createElement(un,null,r.a.createElement("h3",null,"Bye queue"),0===s.length&&r.a.createElement("p",null,"No players have signed up for a bye round."),r.a.createElement("ol",null,s.map(function(e){return r.a.createElement("li",{key:e,className:ne(e,b)?"disabled buttons-on-hover":"buttons-on-hover"},c[e].firstName," ",c[e].lastName," ",r.a.createElement("button",{className:"button-micro",onClick:function(){return m({byeQueue:s.filter(function(t){return e!==t}),type:"SET_BYE_QUEUE"})}},"Remove"))}))),r.a.createElement(fn.a,{isOpen:f},r.a.createElement("button",{className:"button-micro button-primary",onClick:function(){return p(!1)}},"Done"),r.a.createElement(bn,null))))}var _n=a(15);function hn(e){var t=e.playerId,a=e.roundId,n=en(),l=n.tourney,c=n.players,o=qa(),i=Ee({avoidList:Object(u.a)(o,1)[0].avoidPairs,id:t,players:c,roundId:a,roundList:l.roundList}),s=i.profile,m=i.rating,d=i.score,E=i.colorBalance,f=i.hasHadBye,p=i.opponentHistory,b=i.avoidList,y=E<0?"White +"+Math.abs(E):E>0?"Black +"+E:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,s.firstName," ",s.lastName),r.a.createElement("p",null,"Score: ",d),r.a.createElement("p",null,"Rating: ",m),r.a.createElement("p",null,"Color balance: ",y),r.a.createElement("p",null,"Has had a bye round: ",f?"Yes":"No"),r.a.createElement("p",null,"Opponent history:"),r.a.createElement("ol",null,p.map(function(e){return r.a.createElement("li",{key:e},c[e].firstName," ",c[e].lastName)})),r.a.createElement("p",null,"Players to avoid:"),r.a.createElement("ol",null,b.map(function(e){return r.a.createElement("li",{key:e},c[e].firstName," ",c[e].lastName)})))}var gn=a(10);function Nn(e){var t=e.roundId,a=e.stagedPlayers,n=e.setStagedPlayers,l=en(),c=l.tourney,o=l.players,u=t===c.roundList.length-1?W(c,o,t):{};var i=Object.keys(u).length,s=i%2!==0?Object(D.a)(O,A,u):u;return 0===i?null:r.a.createElement("div",null,r.a.createElement("ul",{className:"content plain-list"},Object.values(s).map(function(e){var t=e.id,l=e.firstName,c=e.lastName;return r.a.createElement("li",{key:t},r.a.createElement("button",{className:"button-ghost",disabled:!a.includes(null)||a.includes(t),onClick:function(){return function(e){null===a[N]?n(function(t){return Object(ta.a)(Object(K.a)(N),e,t)}):null===a[g]&&n(function(t){return Object(ta.a)(Object(K.a)(g),e,t)})}(t)}},r.a.createElement(Pt.UserPlus,null),r.a.createElement(gn.a,null,"Select ",l," ",c))," ",l," ",c)})))}function On(e){var t=e.roundId,a=e.stagedPlayers,l=e.setStagedPlayers,c=en(),o=c.tourneyDispatch,i=c.players,s=o,m=qa(),d=Object(u.a)(m,1)[0],E=Object(u.a)(a,2),f=E[0],p=E[1];function b(e){l(function(t){return Object(ta.a)(Object(K.a)(e),null,t)})}return r.a.createElement("div",null,r.a.createElement("h2",null,"Selected for matching:"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"White:"," ",null!==f&&r.a.createElement(n.Fragment,null,i[f].firstName," ",i[f].lastName," ",r.a.createElement("button",{className:"button-micro",onClick:function(){return b(N)}},r.a.createElement(Pt.UserMinus,null)," Remove"))),r.a.createElement("p",null,"Black:"," ",null!==p&&r.a.createElement(n.Fragment,null,i[p].firstName," ",i[p].lastName," ",r.a.createElement("button",{className:"button-micro",onClick:function(){return b(g)}},r.a.createElement(Pt.UserMinus,null)," Remove")))),r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{disabled:a.every(function(e){return null===e}),onClick:function(){return l(function(e){return[e[g],e[N]]})}},r.a.createElement(Pt.Repeat,null)," Swap colors")," ",r.a.createElement("button",{className:"button-primary",disabled:a.includes(null),onClick:function(){s({byeValue:d.byeValue,pair:[i[f],i[p]],roundId:t,type:"MANUAL_PAIR"}),l([null,null])}},r.a.createElement(Pt.Check,null)," Match selected")))}function vn(e){var t=e.roundId,a=Object(n.useState)([null,null]),l=Object(u.a)(a,2),o=l[0],i=l[1],s=qa(),m=Object(u.a)(s,1)[0],d=en(),E=d.tourney,f=d.players,p=d.tourneyDispatch,b=Object(n.useState)(!1),y=Object(u.a)(b,2),_=y[0],h=y[1],g=r.a.useMemo(function(){return Object(Q.a)(Object.values,Object(_e.a)(function(e){return Ee({avoidList:m.avoidPairs,id:e.id,players:f,roundId:t,roundList:E.roundList})}),ke,we)(f)},[E.roundList,t,m.avoidPairs,f]),N=r.a.useMemo(function(){if(o.includes(null))return null;var e=Se(En(o[0],g),En(o[1],g));return c()(e/Te).format("%")},[o,g]),O=t===E.roundList.length-1?W(E,f,t):{},v=Object.keys(O).length;return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-primary",disabled:0===v,onClick:function(){return p({avoidList:m.avoidPairs,byeValue:m.byeValue,players:O,roundId:t,type:"AUTO_PAIR"})}},"Auto-pair unmatched players")," ",r.a.createElement("button",{onClick:function(){return h(!0)}},"Add or remove players from the roster.")),r.a.createElement(sn,null,r.a.createElement(un,null,r.a.createElement(Nn,{roundId:t,setStagedPlayers:i,stagedPlayers:o})),r.a.createElement(un,{style:{flexGrow:"1"}},r.a.createElement(On,{roundId:t,setStagedPlayers:i,stagedPlayers:o}),r.a.createElement(sn,null,o.map(function(e){return null!==e&&r.a.createElement(un,{key:e},r.a.createElement(hn,{playerId:e,roundId:t}))})),!o.includes(null)&&r.a.createElement("span",null,"Match ideal: ",N))),r.a.createElement(fn.a,{isOpen:_},r.a.createElement("button",{className:"button-micro",onClick:function(){return h(!1)}},"Done"),r.a.createElement(bn,null)))}a(191);function jn(e){var t=e.matchId,a=e.color,n=e.roundId,l=en(),o=l.tourney,i=l.players,s=l.getPlayer,m=o.roundList[n],d=qa(),E=Object(u.a)(d,1)[0],f=En(t,m),p=Ee({avoidList:E.avoidPairs,id:f.playerIds[a],players:i,roundId:n,roundList:o.roundList}),b=p.colorBalance,y=b<0?"White +"+Math.abs(b):b>0?"Black +"+b:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,p.profile.firstName," ",p.profile.lastName),r.a.createElement("dt",null,"Score"),r.a.createElement("dd",null,p.score),r.a.createElement("dt",null,"Rating"),r.a.createElement("dd",{"data-testid":"rating-".concat(p.id)},f.origRating[a]," (",c()(f.newRating[a]-f.origRating[a]).format("+0"),")"),r.a.createElement("dt",null,"Color balance"),r.a.createElement("dd",null,y),r.a.createElement("dt",null,"Has had a bye round"),r.a.createElement("dd",null,p.hasHadBye?"Yes":"No"),r.a.createElement("dt",null,"Opponent history"),r.a.createElement("dd",null,r.a.createElement("ol",null,p.opponentHistory.map(function(e){return r.a.createElement("li",{key:e},s(e).firstName," ",s(e).lastName)}))))}var In=a(25),Cn=a.n(In);function An(e){var t=e.compact,a=e.pos,l=e.match,c=e.roundId,o=e.selectedMatch,i=e.setSelectedMatch,m=en(),d=m.tourney,E=m.tourneyDispatch,f=m.players,p=m.getPlayer,b=m.playersDispatch,y=E,_=Object(n.useState)(!1),h=Object(u.a)(_,2),v=h[0],j=h[1],I=l.result[0]>l.result[1]?"WHITE":l.result[1]>l.result[0]?"BLACK":l.result.every(function(e){return.5===e})?"DRAW":"NOTSET",C=p(l.playerIds[N]),A=p(l.playerIds[g]),R=C.firstName+" "+C.lastName,T=A.firstName+" "+A.lastName;function D(e){return"NOTSET"===I?r.a.createElement(gn.a,null,"Not set"):"DRAW"===I?r.a.createElement(Pt.Minus,{"aria-label":"Draw"}):I===e?r.a.createElement(Pt.Award,{"aria-label":"Won"}):r.a.createElement(gn.a,null,"Lost")}function k(e){var t=function(){switch(e.target.value){case"WHITE":return[1,0];case"BLACK":return[0,1];case"DRAW":return[.5,.5];case"NOTSET":return[0,0];default:throw new Error}}(),a=f[l.playerIds[N]],n=f[l.playerIds[g]],r="NOTSET"===e.currentTarget.value?l.origRating:function(e,t,a){s.a.tuple([s.a.Number,s.a.Number])(e),s.a.tuple([s.a.Number,s.a.Number])(t),s.a.tuple([s.a.Number,s.a.Number])(a);var n=new S.a(w(t[N])),r=new S.a(w(t[g])),l=[n.getExpected(e[N],e[g]),r.getExpected(e[g],e[N])];return[n.updateRating(l[N],a[N],e[N]),r.updateRating(l[g],a[g],e[g])].map(function(e){return e<100?100:e})}(l.origRating,[a.matchCount,n.matchCount],t);b({id:a.id,rating:r[N],type:"SET_PLAYER_RATING"}),b({id:n.id,rating:r[g],type:"SET_PLAYER_RATING"}),0===l.result.reduce(function(e,t){return e+t})&&(b({id:a.id,matchCount:a.matchCount+1,type:"SET_PLAYER_MATCHCOUNT"}),b({id:n.id,matchCount:n.matchCount+1,type:"SET_PLAYER_MATCHCOUNT"})),y({matchId:l.id,newRating:r,result:t,roundId:c,type:"SET_MATCH_RESULT"})}return r.a.createElement("tr",{className:l.id===o?"selected":"buttons-on-hover"},r.a.createElement("th",{className:"table__number "+Cn.a.rowId,scope:"row"},a+1),r.a.createElement("td",{className:Cn.a.playerResult},D("WHITE")),r.a.createElement("td",{className:"table__player row__player "+C.type,"data-testid":"match-".concat(a,"-white")},R),r.a.createElement("td",{className:Cn.a.playerResult},D("BLACK")),r.a.createElement("td",{className:"table__player row__player "+A.type,"data-testid":"match-".concat(a,"-black")},T),r.a.createElement("td",{className:Cn.a.matchResult+" data__input row__controls"},r.a.createElement("select",{className:Cn.a.winnerSelect,disabled:l.playerIds.includes(O),value:I,onBlur:k,onChange:k},r.a.createElement("option",{value:"NOTSET"},"Select winner"),r.a.createElement("option",{value:"WHITE"},"White won"),r.a.createElement("option",{value:"BLACK"},"Black won"),r.a.createElement("option",{value:"DRAW"},"Draw"))),!t&&r.a.createElement("td",{className:Cn.a.controls+" data__input"},o!==l.id?r.a.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(){return i(l.id)}},r.a.createElement(Pt.Circle,null)):r.a.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(){return i(null)}},r.a.createElement(Pt.CheckCircle,null)),r.a.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(){return j(!0)}},r.a.createElement(Pt.Info,null),r.a.createElement(gn.a,null,"View information for match:"," ",R," versus ",T)),r.a.createElement(fn.a,{isOpen:v},r.a.createElement("button",{className:"button-micro button-primary",onClick:function(){return j(!1)}},"close"),r.a.createElement("p",null,d.name),r.a.createElement("p",null,"Round ",c+1,", match ",a+1),r.a.createElement(sn,null,r.a.createElement(un,null,r.a.createElement(jn,{color:0,matchId:l.id,roundId:c})),r.a.createElement(un,null,r.a.createElement(jn,{color:1,matchId:l.id,roundId:c}))))))}function Rn(e){var t=e.compact,a=e.roundId,n=e.selectedMatch,l=e.setSelectedMatch,c=en().tourney.roundList[a];return r.a.createElement("table",{className:Cn.a.table},c.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("caption",{className:t?"title-30":"title-40"},"Round ",a+1," matches"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Cn.a.rowId,scope:"col"},"#"),r.a.createElement("th",{scope:"col"},r.a.createElement(gn.a,null,"White result")),r.a.createElement("th",{className:"row__player",scope:"col"},"White"),r.a.createElement("th",{scope:"col"},r.a.createElement(gn.a,null,"Black result")),r.a.createElement("th",{className:"row__player",scope:"col"},"Black"),r.a.createElement("th",{className:"row__result",scope:"col"},"Match result"),!t&&r.a.createElement("th",{className:"row__controls",scope:"col"},r.a.createElement(gn.a,null,"Controls"))))),r.a.createElement("tbody",{className:Cn.a.tbody+" content"},c.map(function(e,c){return r.a.createElement(An,{key:e.id,compact:t,match:e,pos:c,roundId:a,selectedMatch:n,setSelectedMatch:l})})))}function Tn(e){var t=e.roundId,a=en(),l=a.tourney,c=a.players,o=a.tourneyDispatch,i=a.playersDispatch,s=l.roundList[t],m=Object(n.useState)(null),d=Object(u.a)(m,2),E=d[0],f=d[1];if(!s)throw new Error("Round "+t+" does not exist.");function p(e,a){var n,r,l=(n=e,(r=s).indexOf(En(n,r)));o({newIndex:l+a>=0?l+a:0,oldIndex:l,roundId:t,type:"MOVE_MATCH"})}return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",disabled:null===E,onClick:function(){return function(e){var a=En(e,s);0!==a.result.reduce(function(e,t){return e+t})&&a.playerIds.forEach(function(e,t){i({id:e,matchCount:c[e].matchCount-1,type:"SET_PLAYER_MATCHCOUNT"}),i({id:e,rating:a.origRating[t],type:"SET_PLAYER_RATING"})}),o({matchId:e,roundId:t,type:"DEL_MATCH"}),f(null)}(E)}},r.a.createElement(Pt.Trash,null)," Unmatch")," ",r.a.createElement("button",{className:"button-micro",disabled:null===E,onClick:function(){o({matchId:E,roundId:t,type:"SWAP_COLORS"})}},r.a.createElement(Pt.Repeat,null)," Swap colors")," ",r.a.createElement("button",{className:"button-micro",disabled:null===E,onClick:function(){return p(E,-1)}},r.a.createElement(Pt.ArrowUp,null)," Move up")," ",r.a.createElement("button",{className:"button-micro",disabled:null===E,onClick:function(){return p(E,1)}},r.a.createElement(Pt.ArrowDown,null)," Move down")),0===s.length&&r.a.createElement("p",null,"No players matched yet."),r.a.createElement(Rn,{roundId:t,selectedMatch:E,setSelectedMatch:f}))}function Sn(e){var t=Number(e.roundId),a=en(),l=a.tourney,c=a.players,o=t===l.roundList.length-1?W(l,c,t):{},i=Object.keys(o).length,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],E=m[1];return Object(n.useEffect)(function(){E(i>0?1:0)},[i]),r.a.createElement(_n.e,{index:d,onChange:function(e){return E(e)}},r.a.createElement(_n.b,null,r.a.createElement(_n.a,null,r.a.createElement(Pt.List,null)," Matches"),r.a.createElement(_n.a,{disabled:0===i},r.a.createElement(Pt.Users,null)," Unmatched players")),r.a.createElement(_n.d,null,r.a.createElement(_n.c,null,r.a.createElement(Tn,{roundId:t})),r.a.createElement(_n.c,null,r.a.createElement(vn,{roundId:t}))))}var wn=a(80),Dn=a.n(wn);function kn(e){var t=e.compact,a=e.title,n=en(),l=n.tourney,o=n.getPlayer,i=de(l.tieBreaks,l.roundList),s=Object(u.a)(i,2),m=s[0],d=s[1];return r.a.createElement("table",{className:Ht.a.table},r.a.createElement("caption",{className:t?"title-30":"title-40"},a),r.a.createElement("thead",null,r.a.createElement("tr",{className:Ht.a.topHeader},r.a.createElement("th",{className:"title-10",scope:"col"},"Rank"),r.a.createElement("th",{className:"title-10",scope:"col"},"Name"),r.a.createElement("th",{className:"title-10",scope:"col"},"Score"),!t&&d.map(function(e,t){return r.a.createElement("th",{key:t,className:"title-10",scope:"col"},e)}))),r.a.createElement("tbody",null,m.map(function(e,a){return e.map(function(e,n,l){return r.a.createElement("tr",{key:e.id,className:Ht.a.row},0===n&&r.a.createElement("th",{className:"table__number "+Ht.a.rank,rowSpan:l.length,scope:"row"},c()(a+1).format("0o")),t?r.a.createElement("td",{className:Ht.a.playerName},o(e.id).firstName,"\xa0",o(e.id).lastName):r.a.createElement("th",{className:Ht.a.playerName,"data-testid":a,scope:"row"},o(e.id).firstName,"\xa0",o(e.id).lastName),r.a.createElement("td",{className:"table__number","data-testid":Dn()(o(e.id).firstName+o(e.id).lastName+" score")},c()(e.score).format("1/2")),!t&&e.tieBreaks.map(function(t,a){return r.a.createElement("td",{key:a,className:"table__number","data-testid":Dn()(o(e.id).firstName+o(e.id).lastName+d[a])},c()(t).format("1/2"))}))})})))}function Ln(e){var t=en(),a=t.tourney,l=t.tourneyDispatch,c=a.tieBreaks,o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1];function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(Z.a)(s);c.includes(t(e))?(l({id:t(e),type:"DEL_TIEBREAK"}),m(null)):l({id:t(e),type:"ADD_TIEBREAK"})}function E(e){var t=c.indexOf(s);l({newIndex:t+e,oldIndex:t,type:"MOVE_TIEBREAK"})}return r.a.createElement(sn,{className:"content-area"},r.a.createElement(un,null,r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",disabled:null===s,onClick:function(){return d()}},"Toggle"),r.a.createElement("button",{className:"button-micro",disabled:null===s,onClick:function(){return E(-1)}},r.a.createElement(Pt.ArrowUp,null)," Move up"),r.a.createElement("button",{className:"button-micro",disabled:null===s,onClick:function(){return E(1)}},r.a.createElement(Pt.ArrowDown,null)," Move down"),r.a.createElement("button",{className:null!==s?"button-micro button-primary":"button-micro",disabled:null===s,onClick:function(){return m(null)}},"Done")),r.a.createElement("table",null,r.a.createElement("caption",{className:"title-30"},"Selected Tiebreak methods"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(gn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},c.map(function(e){return r.a.createElement("tr",{key:e,className:s===e?"selected":""},r.a.createElement("td",null,se[e].name),r.a.createElement("td",{style:{width:"48px"}},r.a.createElement("button",{className:"button-micro",disabled:null!==s&&s!==e,onClick:function(){return m(s===e?null:e)}},s===e?"Done":"Edit")))})))),r.a.createElement(un,null,r.a.createElement("div",{className:"toolbar"},"\xa0"),r.a.createElement("table",{style:{marginTop:"16px"}},r.a.createElement("caption",{className:"title-30"},"Available tiebreak methods"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(gn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},Object.values(se).map(function(e){var t=e.name,a=e.id;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("span",{className:c.includes(a)?"disabled":"enabled"},t)),r.a.createElement("td",null,!c.includes(a)&&r.a.createElement("button",{className:"button-micro",onClick:function(){return d(a)}},"Add")))})))))}var Pn=function(e){return r.a.createElement(_n.e,null,r.a.createElement(_n.b,null,r.a.createElement(_n.a,null,r.a.createElement(Pt.List,null)," Scores"),r.a.createElement(_n.a,null,r.a.createElement(Pt.Settings,null)," Edit tiebreak rules")),r.a.createElement(_n.d,null,r.a.createElement(_n.c,null,r.a.createElement(kn,{title:"Score detail"})),r.a.createElement(_n.c,null,r.a.createElement(Ln,null))))},Bn=function(){return r.a.createElement("button",{className:"button-ghost placeholder","aria-hidden":!0,disabled:!0})};function Hn(e){var t=en(),a=t.tourney,l=t.tourneyDispatch,c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),E=d[0],f=d[1],p=a.date.getFullYear()+"-"+(a.date.getMonth()<9?"0"+(a.date.getMonth()+1):a.date.getMonth()+1)+"-"+(a.date.getDate()<10?"0"+a.date.getDate():a.date.getDate());return r.a.createElement("div",{className:e.className},i?r.a.createElement("p",{className:"display-20"},r.a.createElement(Bn,null)," ",r.a.createElement("input",{className:"display-20",type:"text",value:a.name,onChange:function(e){return l({name:e.currentTarget.value,type:"SET_NAME"})}})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return s(!1)}},r.a.createElement(Pt.Check,null))):r.a.createElement("h1",{className:"buttons-on-hover"},r.a.createElement(Bn,null)," ",r.a.createElement("span",{className:"inputPlaceholder"},a.name)," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return s(!0)}},r.a.createElement(Pt.Edit,null))),E?r.a.createElement("p",{className:"caption-30"},r.a.createElement(Bn,null)," ",r.a.createElement("input",{className:"caption-30",type:"date",value:p,onChange:function(e){var t=e.currentTarget.value.split("-"),a=Object(u.a)(t,3),n=a[0],r=a[1],c=a[2],o=Number(n),i=Number(r)-1,s=Number(c);l({date:new Date(o,i,s),type:"SET_DATE"})}})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return f(!1)}},r.a.createElement(Pt.Check,null))):r.a.createElement("p",{className:"caption-30 buttons-on-hover"},r.a.createElement(Bn,null)," ",r.a.createElement(mn,{date:a.date})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return f(!0)}},r.a.createElement(Pt.Edit,null))))}var Un=a(81),Mn=a.n(Un),xn=a(134),Wn=a(82),Jn=a.n(Wn);function Yn(e){var t=en(),a=t.tourney,n=t.players,l=t.getPlayer,c=t.playersDispatch,i=t.tourneyDispatch;an(a.name);var s=a.roundList,m=W(a,n,s.length-1),d=function(){var e=Jn()(s);if(!e)return!0;var t=e.map(function(e){return e.result[0]+e.result[1]});return 0===Object.keys(m).length&&!t.includes(0)}(),E=function(e){var t=Math.ceil(Math.log2(e));return Number.isFinite(t)?t:0}(Object.keys(n).length),f=s.length>=E,p=d?f?["All rounds have completed.",!0]:["Ready to begin a new round.",!1]:["Complete the last round before beginning a new one.",!0],b=Object(u.a)(p,2),y=b[0],_=b[1];function h(){return(h=Object(xn.a)(Mn.a.mark(function t(){return Mn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete the last round?")){t.next=6;break}return t.next=3,e.navigate(".");case 3:Jn()(s).forEach(function(e){e.result[0]+e.result[1]!==0&&e.playerIds.forEach(function(t,a){if(t!==O){var n=l(t).matchCount;c({id:t,matchCount:n-1,type:"SET_PLAYER_MATCHCOUNT"}),c({id:t,rating:e.origRating[a],type:"SET_PLAYER_RATING"})}})}),i({type:"DEL_LAST_ROUND"}),1===a.roundList.length&&i({type:"ADD_ROUND"});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}return r.a.createElement("div",{className:e.className},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.a,{to:".."},r.a.createElement(Pt.X,null),"Close"))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.a,{to:"."},r.a.createElement(Pt.Users,null)," Players")),r.a.createElement("li",null,r.a.createElement(o.a,{to:"status"},r.a.createElement(Pt.Activity,null)," Status")),r.a.createElement("li",null,r.a.createElement(o.a,{to:"crosstable"},r.a.createElement(Pt.Layers,null)," Crosstable")),r.a.createElement("li",null,r.a.createElement(o.a,{to:"scores"},r.a.createElement(Pt.List,null)," Score detail"))),r.a.createElement("hr",null),r.a.createElement("ul",null,Object.keys(s).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(o.a,{to:"".concat(e)},"Round ",Number(e)+1))}))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",{className:"caption-30"},"Round progress: ",s.length,"/",E),r.a.createElement("li",null,r.a.createElement("button",{className:_?"":"button-primary",disabled:!d,onClick:function(){f&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?")||i({type:"ADD_ROUND"})}},r.a.createElement(Pt.Plus,null)," New round"),r.a.createElement(dn,{style:{borderRadius:"0",marginLeft:"-8px",marginRight:"-8px"},success:!_},y)),r.a.createElement("li",null,r.a.createElement("button",{className:"button-micro",disabled:0===s.length,onClick:function(){return h.apply(this,arguments)}},r.a.createElement(Pt.Trash,null)," Remove last round"))))}function Vn(){var e=en().tourney,t=function(){if(0===e.roundList.length)return r.a.createElement("p",null,"No rounds played yet.");var t=e.roundList.length-1;return 0===e.roundList[t].length?r.a.createElement("p",null,"Matched players will be shown here."):r.a.createElement(Rn,{roundId:t,compact:!0})}();return r.a.createElement("div",{className:"content-area",style:{width:"712px"}},r.a.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),r.a.createElement(sn,null,r.a.createElement(un,null,r.a.createElement(kn,{title:"Rankings",compact:!0})),r.a.createElement(un,null,t)))}var Gn=a(51),Kn=a.n(Gn);function Fn(e){return r.a.createElement(tn,{tourneyId:e.tourneyId},r.a.createElement("div",{className:Kn.a.tournament},r.a.createElement(Hn,{className:Kn.a.header}),r.a.createElement(Yn,{className:Kn.a.sidebar,navigate:e.navigate}),r.a.createElement("div",{className:Kn.a.contentFrame},r.a.createElement(o.c,null,r.a.createElement(yn,{path:"/"}),r.a.createElement(Vn,{path:"status"}),r.a.createElement(nn,{path:"crosstable"}),r.a.createElement(Pn,{path:"scores"}),r.a.createElement(Sn,{path:":roundId"})))))}function Qn(e){var t=Xa(),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],d=s[1],E=Object(n.useState)(!1),f=Object(u.a)(E,2),p=f[0],b=f[1];return an("tournament list"),r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar toolbar__left"},r.a.createElement("button",{onClick:function(){return b(!0)}},r.a.createElement(Pt.Plus,null)," Add tournament")),Object.keys(l).length>0?r.a.createElement("table",null,r.a.createElement("caption",null,"Tournament list"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,r.a.createElement(gn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},Object.values(l).map(function(e){var t=e.date,a=e.id,n=e.name;return r.a.createElement("tr",{key:a,className:"buttons-on-hover"},r.a.createElement("td",null,r.a.createElement(o.a,{to:a},n)),r.a.createElement("td",null,r.a.createElement(mn,{date:t})),r.a.createElement("td",null,r.a.createElement("button",{"aria-label":"Delete \u201c".concat(n,"\u201d"),className:"danger button-ghost",title:"Delete \u201c".concat(n,"\u201d"),onClick:function(){return function(e,t){var a="Are you sure you want to delete \u201c"+t+"\u201d?";window.confirm(a)&&c({id:e,type:"DEL_ITEM"})}(a,n)}},r.a.createElement(Pt.Trash,null))))}))):r.a.createElement("p",null,"No tournaments added yet."),r.a.createElement(fn.a,{isOpen:p},r.a.createElement("button",{className:"button-micro",onClick:function(){return b(!1)}},"Close"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({name:m,type:"ADD_TOURNEY"}),d(""),b(!1)}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Make a new tournament"),r.a.createElement("label",{htmlFor:"tourney-name"},"Name:"),r.a.createElement("input",{name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:m,onChange:function(e){d(e.target.value)}})," ",r.a.createElement("input",{className:"button-primary",type:"submit",value:"Create"})))))}var Zn=function(e){return r.a.createElement("div",{className:"passthrough"},e.children)},Xn=a(45),qn=a(68),zn=a.n(qn),$n=function(){return r.a.createElement("aside",{className:zn.a.caution+" body-20"},r.a.createElement("p",{className:zn.a.caution__text},"This is beta software. Want to help make it better? Check out the"," ",r.a.createElement("span",{role:"img","aria-hidden":!0},"\ud83d\udc49"),"\xa0",r.a.createElement("a",{className:zn.a.caution__link,href:"https://github.com/johnridesabike/chessahoochee"},"Git repository"),"."))},er=function(e){return r.a.createElement("div",{"data-testid":"404"},r.a.createElement("p",null,"Page not found."))};function tr(e){var t=Xa(),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Za(),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),f=E[0],p=E[1],b=qa(),y=Object(u.a)(b,2),_=y[0],h=y[1];an("Options");var g=Object(n.useMemo)(function(){return{options:_,players:s,tourneys:l}},[_,l,s]);function N(e){c({state:e.tournaments,type:"LOAD_STATE"}),h({state:e.options,type:"LOAD_STATE"}),m({state:e.players,type:"LOAD_STATE"}),window.alert("Data loaded!")}return Object(n.useEffect)(function(){p(JSON.stringify(g,null,4))},[g]),r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Game settings"),r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Bye options"),"Select how many points a bye is worth:",r.a.createElement("label",{className:"monospace"},"1"," ",r.a.createElement("input",{checked:1===_.byeValue,type:"radio",onChange:function(){return h({option:"byeValue",type:"SET_OPTION",value:1})}})),r.a.createElement("label",{className:"monospace"},"\xbd"," ",r.a.createElement("input",{checked:.5===_.byeValue,type:"radio",onChange:function(){return h({option:"byeValue",type:"SET_OPTION",value:.5})}})))),r.a.createElement("h2",null,"Data"),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Manage data"),r.a.createElement("p",null,r.a.createElement("a",{download:"chessahoochee.json",href:"data:application/json,"+encodeURIComponent(JSON.stringify(g))},r.a.createElement(Pt.Download,null)," Export all data")),r.a.createElement("label",{htmlFor:"file"},"Load data file:"),r.a.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t=e.target.result;N(JSON.parse(t))},t.readAsText(e.currentTarget.files[0]),e.currentTarget.value=""}})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Reset all changes"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),N(Ma)}},"Reload demo data")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(JSON.parse(f))}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Advanced: manually edit data"),r.a.createElement("textarea",{className:"json",cols:50,name:"playerdata",rows:25,spellCheck:!1,value:f,onChange:function(e){return p(e.currentTarget.value)}}),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Load"})))))}var ar=a(65),nr=a.n(ar);function rr(e){var t=e.playerId,a=e.players,l=e.playersDispatch,i=e.options,s=e.optionsDispatch,m=a[t],d=Object(n.useState)(J(t,i.avoidPairs)),E=Object(u.a)(d,2),f=E[0],p=E[1];an("profile for "+(m?m.firstName+" "+m.lastName:""));var b=Object(n.useMemo)(function(){return Object.keys(a).filter(function(e){return!f.includes(e)&&e!==t})},[a,t,f]),y=Object(n.useState)(b[0]),_=Object(u.a)(y,2),h=_[0],g=_[1];function N(e){e.preventDefault();var a=e.currentTarget,n=a.firstName,r=a.lastName,c=a.matchCount,o=a.rating;l({firstName:n.value,id:t,lastName:r.value,matchCount:Number(c.value),rating:Number(o.value),type:"SET_PLAYER"})}return Object(n.useEffect)(function(){p(J(t,i.avoidPairs))},[i.avoidPairs,t]),Object(n.useEffect)(function(){g(b[0])},[g,b]),m?r.a.createElement("div",{className:nr.a.playerInfo+" content-area"},r.a.createElement(o.a,{to:".."},r.a.createElement(Pt.ChevronLeft,null)," Back"),r.a.createElement("h2",null,"Profile for ",m.firstName," ",m.lastName),r.a.createElement("form",{onChange:N,onSubmit:N},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{defaultValue:m.firstName,name:"firstName",type:"text"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{defaultValue:m.lastName,name:"lastName",type:"text"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"matchCount"},"Matches played"),r.a.createElement("input",{defaultValue:String(m.matchCount),name:"matchCount",type:"number"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"rating"},"Rating"),r.a.createElement("input",{defaultValue:String(m.rating),name:"rating",type:"number"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"Kfactor"},"K factor"),r.a.createElement("input",{name:"kfactor",type:"number",value:c()(w(m.matchCount)).format("00"),readOnly:!0}))),r.a.createElement("h3",null,"Players to avoid"),r.a.createElement("ul",null,f.map(function(e){return r.a.createElement("li",{key:e},a[e].firstName," ",a[e].lastName,r.a.createElement("button",{"arial-label":"Remove \n".concat(a[e].firstName," ").concat(a[e].lastName," from avoid list."),className:"danger button-ghost",title:"Remove ".concat(a[e].firstName," \n").concat(a[e].lastName),onClick:function(){return s({pair:[t,e],type:"DEL_AVOID_PAIR"})}},r.a.createElement(Pt.Trash,null)))}),0===f.length&&r.a.createElement("li",null,"None")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s({pair:[t,h],type:"ADD_AVOID_PAIR"})}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Add player to avoid"),r.a.createElement("select",{onBlur:function(e){return g(e.target.value)}},b.map(function(e){return r.a.createElement("option",{key:e,value:e},a[e].firstName," ",a[e].lastName)}))," ",r.a.createElement("input",{type:"submit",value:"Add"})))):r.a.createElement("div",null,"Loading...")}function lr(e){var t=e.players,a=e.playersDispatch,l=e.optionsDispatch,c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],m=i[1];an("Players");return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar toolbar__left"},r.a.createElement("button",{onClick:function(){return m(!0)}},r.a.createElement(Pt.UserPlus,null)," Add a new player")),r.a.createElement("table",{className:nr.a.table},r.a.createElement("caption",null,"Player roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Matches"),r.a.createElement("th",null,r.a.createElement(gn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},Object.values(t).map(function(e){return r.a.createElement("tr",{key:e.id,className:"buttons-on-hover"},r.a.createElement("td",{className:"table__player"},r.a.createElement(o.a,{to:e.id},e.firstName," ",e.lastName)),r.a.createElement("td",{className:"table__number"},e.rating),r.a.createElement("td",{className:"table__number"},e.matchCount),r.a.createElement("td",null,r.a.createElement("button",{className:"danger button-ghost",onClick:function(n){return function(e,n){e.preventDefault();var r="Are you sure you want to delete "+t[n].firstName+" "+t[n].lastName+"?";window.confirm(r)&&(a({id:n,type:"DEL_ITEM"}),l({id:n,type:"DEL_AVOID_SINGLE"}))}(n,e.id)}},r.a.createElement(Pt.Trash,null),r.a.createElement(gn.a,null,"Delete ",e.firstName," ",e.lastName))))}))),r.a.createElement(fn.a,{isOpen:s},r.a.createElement("button",{className:"button-micro",onClick:function(){return m(!1)}},"Close"),r.a.createElement(pn,{dispatch:a})))}function cr(e){var t=Za(),a=Object(u.a)(t,2),n=a[0],l=a[1],c=qa(),i=Object(u.a)(c,2),s={options:i[0],optionsDispatch:i[1],players:n,playersDispatch:l};return r.a.createElement(o.c,{basepath:"players"},r.a.createElement(lr,Object.assign({path:"/"},s)),r.a.createElement(rr,Object.assign({path:":playerId"},s)))}var or=a(46),ur=a.n(or),ir=function(e){return r.a.createElement("div",{className:ur.a.splash},r.a.createElement("aside",{className:ur.a.hint},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("button",{className:"button-primary",onClick:function(){return document.body.style.cursor="wait",void Promise.all([Ga.setItems(Ma.options),Ka.setItems(Ma.players),Fa.setItems(Ma.tournaments)]).then(function(){window.alert("Demo data loaded!"),document.body.style.cursor="auto"})}},"Click here to load the demo data")," ","(optional)"),r.a.createElement("li",null,r.a.createElement(Pt.ArrowUpLeft,null),"Select a menu item above."),r.a.createElement("li",null,"Start creating your tournaments!")),r.a.createElement(dn,{warning:!0},"If you experience any glitches or crashes,",r.a.createElement("br",null),"clear your browser cache and try again.")),r.a.createElement("div",{className:ur.a.title},r.a.createElement("h1",null,r.a.createElement("span",{"aria-hidden":!0},"\u2658")," ","Chessahoochee"),r.a.createElement("p",{className:ur.a.subtitle+" caption-30"},"a chess tournament app")),r.a.createElement("footer",{className:"body-20 "+ur.a.footer},r.a.createElement("p",null,"This is an early, proof-of-concept chess tournament app.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/johnridesabike/chessahoochee"},"Suggetions, bug reports, and contributions are welcome.")),r.a.createElement("p",null,"Built with JavaScript and"," ",r.a.createElement("a",{href:"https://reactjs.org/"},"React"),"."," ",r.a.createElement("span",{style:{fontSize:"16px"}},r.a.createElement(Pt.Javascript,null)," ",r.a.createElement(Pt.React,null)))))},sr=a(135),mr=a.n(sr)()(),dr=Object(o.d)(mr);var Er=function(){return an("a chess tournament app"),r.a.createElement("div",{className:"app"},r.a.createElement(o.b,{history:dr},r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:Xn.mainMenu},r.a.createElement(o.a,{className:Xn.link,to:"tourneys"},"Tournaments"),r.a.createElement(o.a,{className:Xn.link,to:"players"},"Players"),r.a.createElement(o.a,{className:Xn.link,to:"options"},"Options"),r.a.createElement(o.a,{className:Xn.link,to:"/"},"About"))),r.a.createElement("main",{className:"main"},r.a.createElement(o.c,null,r.a.createElement(ir,{path:"/"}),r.a.createElement(Zn,{path:"tourneys"},r.a.createElement(Qn,{path:"/"}),r.a.createElement(Fn,{path:":tourneyId/*"})),r.a.createElement(cr,{path:"players/*"}),r.a.createElement(tr,{path:"options"}),r.a.createElement(er,{default:!0})))),r.a.createElement("footer",{className:"footer"},r.a.createElement($n,null)))},fr=a(63);a.n(fr).a.render(r.a.createElement(n.StrictMode,null,r.a.createElement(Er,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},20:function(e,t,a){e.exports={table:"scores_table__2rxnd",topHeader:"scores_topHeader__1NdDN",row:"scores_row__ecCJQ",playerName:"scores_playerName__3zgHS",rank:"scores_rank__f-nA5"}},25:function(e,t,a){e.exports={winnerSelect:"round_winnerSelect__1TUKD",table:"round_table__3_NXr",tbody:"round_tbody__25oku",rowId:"round_rowId__PUS4S",controls:"round_controls__DB1DG",matchResult:"round_matchResult__egcjF",playerResult:"round_playerResult__x41IK"}},45:function(e,t,a){e.exports={link:"App_link__1tXRn",mainMenu:"App_mainMenu__2PdU1"}},46:function(e,t,a){e.exports={splash:"splash_splash__3pTdT",hint:"splash_hint__33Csf",footer:"splash_footer__28WMG",title:"splash_title__1Jrwi",subtitle:"splash_subtitle__2ZRHH"}},51:function(e,t,a){e.exports={tournament:"tournament_tournament__3ygmL",header:"tournament_header__3QL7-",sidebar:"tournament_sidebar__Od_Rn",contentFrame:"tournament_contentFrame__1g-x6"}},65:function(e,t,a){e.exports={table:"players_table__1e2Ls",playerInfo:"players_playerInfo__1NBYh",controls:"players_controls__32kQ_"}},68:function(e,t,a){e.exports={caution:"caution_caution__2rrOM",caution__text:"caution_caution__text__LxysE",caution__link:"caution_caution__link__3X8Mh"}},78:function(e,t,a){e.exports={panels:"utility_panels__5PR5o",panel:"utility_panel__12Wgy"}}},[[143,1,2]]]);
//# sourceMappingURL=main.999dbf23.chunk.js.map