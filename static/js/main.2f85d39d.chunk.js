(this.webpackJsonpcoronate=this.webpackJsonpcoronate||[]).push([[0],{70:function(e,t,a){e.exports=a(71)},71:function(e,t,a){a(92)},76:function(e,t,a){e.exports=a.p+"static/media/icon-min.53b3e3eb.svg"},77:function(e,t,a){e.exports=a.p+"static/media/caution.01a9c1c3.svg"},81:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t),a.d(t,"App",(function(){return zi})),a.d(t,"ServiceWorker",(function(){return Vi}));var n=a(0),r=a(42),i=a(13),o=a(4),c=a(1),l=a(40),s=a(57),u=a(23),d=a(10),m=a(2),f=a(21),v=a(6),g=a(29),h=a(3),b=a(27),p=a(17),E=a.n(p),y=a(8),N=a(9),w=a(97),_=a(98),k=a(34),S=a(15),C=a(47),R=a(94),I=a(95),O=a(96),D=a(44);function B(e,t,a,n){return c.b(e,c.a(t,a),c.a(t,n))}function L(e,t,a,n){return c.b(e,c.a(t,n),c.a(t,a))}var P={swap:function(e,t,a){var n=N.d(e,t),r=N.d(e,a);return void 0!==n&&void 0!==r?(N.o(e,t,h.e(r)),N.o(e,a,h.e(n)),e):e}};var M={sumF:function(e){return y.l(e,0,(function(e,t){return e+t}))}};function T(e){return window.alert(e),0}var F={logo:a(76),caution:a(77)},x="\xa0",H="\xa9",A=D.b(["en-US"],1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,0,0);var W=function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},D.a(A,t))},K=D.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,void 0,void 0,void 0,0,0);var Q=function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},D.a(K,t))},J=c.a(o.K,[o.m(-1010954439),[o.q(-822134326),[o.A("screen and (min-width: 600px)",[o.q(867913355),0]),0]]]),z=c.a(o.K,[o.z([25096,16]),0]);var V=function(e){var t=e.children,a=e.className,r=e.style,o=void 0!==a?a:"",c=void 0!==r?h.e(r):{};return n.createElement("div",{className:i.c([z,[o,0]]),style:c},t)};var U=function(e){var t=e.children,a=e.className,r=e.style,o=void 0!==a?a:"",c=void 0!==r?h.e(r):{};return n.createElement("div",{className:i.c([J,[o,0]]),style:c},t)},G=[5194459,"30e60b"],q=[5194459,"003706"],j=[5194459,"ffe900"],Z=[5194459,"3e2800"],Y=[5194459,"d70022"],X=[5194459,"ffffff"],$=[5194459,"00feff"],ee=[5194459,"00c8d7"],te=[5194459,"a47f00"],ae=[5194459,"ff0039"],ne=[5194459,"f9f9fa"],re=[5194459,"ededf0"],ie=[5194459,"b1b1b3"],oe=[5194459,"0c0c0d"],ce=[5194459,"202340"],le=X,se=c.a(o.K,[o.m(-1010954439),[o.n(5693978),[o.w(98248149),[o.B([25096,32]),[o.s([25096,13]),[o.t([5496390,400]),[o.I([25096,4]),[o.H([25096,4]),[o.y([25096,4],-789508312),[o.g([25096,4]),0]]]]]]]]]]),ue=c.a(o.K,[o.m(-1010954439),[o.n(5693978),[o.b(98248149),0]]]),de=c.a(o.K,[o.m(-1010954439),[o.n(5693978),[o.b(98248149),[o.p(1),[o.y(-789508312,[25096,4]),[o.s([25096,16]),[o.l(-989121855),0]]]]]]]),me=c.a(o.K,[o.k(q),[o.c(G),0]]),fe=c.a(o.K,[o.k(Z),[o.c(j),0]]),ve=c.a(o.K,[o.k(X),[o.c(Y),0]]);var ge=function(e){var t=e.children,a=e.testId;return n.cloneElement(t,{"data-testid":a})};C.c("fraction",C.a.make(C.b.make(/(1\/2)/,/(1\/2)/),(function(e,t,a){var n=Math.floor(e),r=e-n,i=.25!==r?.5!==r?.75!==r?"":"\xbe":"\xbd":"\xbc";return(0===n&&""!==i?"":n.toString())+i}),(function(e){return Number(e)})));var he="https://github.com/johnridesabike/coronate",be="https://github.com/johnridesabike/coronate/blob/master/LICENSE";var pe={concat:function(e,t){for(var a="",n=y.n(e);;){var r=n,i=a;if(r){var o=r[1],c=r[0];if(o){n=o,a=t+(c+i);continue}return c+i}return i}},toLowerCase:function(e){return e.toLowerCase()},includes:function(e,t){return e.includes(t)},split:function(e,t){return e.split(t)}},Ee=function(e){var t,a=e.children,r=e.kind,o=e.tooltip,c=e.className,l=e.style,s=void 0!==r?r:3,u=void 0!==o?o:"",d=void 0!==c?c:"",m=void 0!==l?h.e(l):{};switch(s){case 0:t=[n.createElement(R.a,{}),me];break;case 1:t=[n.createElement(I.a,{}),fe];break;case 2:t=[n.createElement(I.a,{}),ve];break;case 3:t=[n.createElement(O.a,{}),""]}return n.createElement("div",{className:i.c([se,[t[1],[d,0]]]),style:m},n.createElement("div",{"aria-label":u,className:de,title:u},t[0]),n.createElement("div",{className:ue},a))},ye=a(58),Ne=a(39),we=a(12),_e="________DUMMY________";function ke(e){return e===_e}function Se(e){return ye.a()}function Ce(e){return e}var Re=S.j,Ie=Ne.a({cmp:Re});var Oe={make:function(e){return v.k(Ie)},fromStringArray:function(e){return v.b(e,Ie)},toStringArray:v.s},De=we.k,Be=a(37),Le=a(25);function Pe(e){switch(e){case 0:return"whiteWon";case 1:return"blackWon";case 2:return"draw";case 3:return"notSet"}}function Me(e){switch(e){case"blackWon":return 1;case"draw":return 2;case"whiteWon":return 0;default:return 3}}function Te(e){return Me(we.k(e))}var Fe={toFloat:function(e,t){switch(e){case 0:return t?0:1;case 1:return t?1:0;case 2:return.5;case 3:return 0}},toString:Pe,fromString:Me,encode:Pe,decode:Te};function xe(e){return{id:we.g("id",De,e),whiteId:we.g("whiteId",De,e),blackId:we.g("blackId",De,e),whiteNewRating:we.g("whiteNewRating",we.b,e),blackNewRating:we.g("blackNewRating",we.b,e),whiteOrigRating:we.g("whiteOrigRating",we.b,e),blackOrigRating:we.g("blackOrigRating",we.b,e),result:we.g("result",Te,e)}}function He(e){return Le.d([["id",e.id],[["whiteId",e.whiteId],[["blackId",e.blackId],[["whiteNewRating",e.whiteNewRating],[["blackNewRating",e.blackNewRating],[["whiteOrigRating",e.whiteOrigRating],[["blackOrigRating",e.blackOrigRating],[["result",Pe(e.result)],0]]]]]]]])}function Ae(e,t){return e?2:t?1:0}function We(e,t){var a=ke(e.whiteId),n=ke(e.blackId);return a?n?e:{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:Ae(t,1)}:n?{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:Ae(t,0)}:e}function Ke(e,t){var a=e[1],n=e[0];return We({id:Se(),whiteId:n.id,blackId:a.id,whiteNewRating:n.rating,blackNewRating:a.rating,whiteOrigRating:n.rating,blackOrigRating:a.rating,result:3},t)}var Qe={opposite:function(e){return e?0:1},toScore:function(e){return e?1:-1}};function Je(e){switch(e){case 0:return"median";case 1:return"solkoff";case 2:return"cumulative";case 3:return"cumulativeOfOpposition";case 4:return"mostBlack"}}function ze(e,t){var a=void 0!==e?e:0;return{colorScores:0,colors:0,id:t,isDummy:!1,opponentResults:Oe.make(0),ratings:0,firstRating:a,results:0,resultsNoByes:0}}function Ve(e,t){var a=v.c(e,t);return void 0===a||!a.isDummy}function Ue(e,t){var a=v.c(e,t);return void 0!==a?M.sumF(a.results):0}function Ge(e,t){var a=v.c(e,t);return void 0!==a?v.m(a.opponentResults,0,(function(t,a,n){return Ve(e,a)?[Ue(e,a),t]:t})):0}function qe(e,t){return d.g(y.r(d.g(y.r(y.q(Ge(e,t),S.d)),0,y.n)),0,M.sumF)}function je(e,t){return M.sumF(Ge(e,t))}function Ze(e,t){if(e){var a=e[0];return[a+t,[a,e[1]]]}return[t,0]}function Ye(e,t){var a=v.c(e,t);return void 0!==a?M.sumF(y.l(a.resultsNoByes,0,Ze)):0}function Xe(e,t){var a=v.c(e,t);return void 0!==a?M.sumF(y.k(v.m(a.opponentResults,0,(function(t,a,n){return Ve(e,a)?[a,t]:t})),(function(t){return Ye(e,t)}))):0}function $e(e,t){var a=v.c(e,t);return void 0!==a?M.sumF(a.colorScores):0}function et(e){switch(e){case 0:return qe;case 1:return je;case 2:return Ye;case 3:return Xe;case 4:return $e}}function tt(e,t){var a=y.k(y.d(t),(function(e){return[e,et(e)]})),n=y.d(t);return y.q(y.n(v.m(e,0,(function(t,n,r){return[{id:n,score:M.sumF(r.results),tieBreaks:y.k(a,(function(t){return[t[0],c.b(t[1],e,n)]}))},t]}))),(function(e,t){var a=n,r=e,i=t,o=S.d(i.score,r.score);if(0!==o)return o;for(var c=a;;){var l=c;if(!l)return 0;var s=l[1],u=function(e){return function(t){return y.e(t,e,(function(e,t){return e===t}))}}(l[0]),d=u(r.tieBreaks),m=u(i.tieBreaks);if(void 0===d)c=s;else{if(void 0!==m){var f=S.d(m,d);if(0!==f)return f;c=s;continue}c=s}}}))}function at(e){return y.l(e,0,(function(e,t){if(e){var a=e[0];if(a){var n=e[1];return function(e,t){if(e.score!==t.score)return!1;var a=y.l(e.tieBreaks,0,(function(e,a){var n=y.e(t.tieBreaks,a[0],(function(e,t){return e===t}));return void 0!==n?[a[1]!==n,e]:e}));return!y.g(a,!0,(function(e,t){return e===t}))}(a[0],t)?[[t,a],n]:[[t,0],[a,n]]}return[[t,0],e]}return[[t,0],0]}))}function nt(e,t){return 1/(1+Math.pow(10,(t-e|0)/400))}function rt(e,t,a,n){return 0|Math.round(n+e*(a-t))}function it(e){var t=e>0?e:1;return Be.b(800,t)}function ot(e){return e>100?e:100}var ct={encode:Je,decode:function(e){switch(we.k(e)){case"cumulative":return 2;case"cumulativeOfOpposition":return 3;case"median":return 0;case"mostBlack":return 4;case"solkoff":return 1;default:return 0}},toString:Je,toPrettyString:function(e){switch(e){case 0:return"Median";case 1:return"Solkoff";case 2:return"Cumulative";case 3:return"Cumulative of opposition";case 4:return"Most Black"}}},lt={EloRank:{getKFactor:it},calcNewRatings:function(e,t,a,n,r){var i=it(a),o=it(n),c=nt(e,t),l=nt(t,e),s=Fe.toFloat(r,0),u=Fe.toFloat(r,1);return[ot(rt(i,c,s,e)),ot(rt(o,l,u,t))]}};function st(e){return.5!==e?0:1}function ut(e){return st(we.a(e))}var dt=Ne.a({cmp:function(e,t){var a=t[1],n=t[0],r=e[1],i=e[0],o=Re(i,n),c=Re(r,a),l=Re(i,a),s=Re(r,n);switch(o){case-1:if(1===c)switch(l){case-1:if(1===s)return-1;break;case 0:break;case 1:if(-1===s)return-1}break;case 0:break;case 1:if(-1===c)switch(l){case-1:if(1===s)return 1;break;case 0:break;case 1:if(-1===s)return 1}}return((o+c|0)+l|0)+s|0}}),mt=g.d(dt);function ft(e){return g.b(we.d((function(e){return we.j(De,De,e)}),e),dt)}function vt(e){return Le.a((function(e){return Le.e(Ce,Ce,e)}),g.g(e))}function gt(e,t){var a=t[1],n=t[0],r=v.c(e,n),i=void 0!==r?[a,r]:[a,0],o=v.c(e,a),c=void 0!==o?[n,o]:[n,0];return v.q(v.q(e,n,i),a,c)}function ht(e){return{avoidPairs:we.g("avoidPairs",ft,e),byeValue:we.g("byeValue",ut,e),lastBackup:we.g("lastBackup",we.e,e)}}function bt(e){return Le.d([["avoidPairs",vt(e.avoidPairs)],[["byeValue",e.byeValue?.5:1],[["lastBackup",Le.b(e.lastBackup)],0]]])}var pt={avoidPairs:mt,byeValue:0,lastBackup:new Date(0)},Et={T:{},empty:mt,fromArray:function(e){return g.b(e,dt)},fromStringArray:function(e){return g.b(e,dt)},toMap:function(e){return g.e(e,Oe.make(0),gt)}},yt=a(19);function Nt(e,t){var a;if("number"===typeof t)a=e;else switch(0|t.tag){case 0:a={isDescending:t[0],column:e.column,table:e.table};break;case 1:a={isDescending:e.isDescending,column:t[0],table:e.table};break;case 2:a={isDescending:e.isDescending,column:e.column,table:t[0]}}var n,r=a.isDescending?L:B,i=a.column;switch(0|i.tag){case 0:var o=i[0];n=c.b(r,S.j,(function(e){return pe.toLowerCase(c.a(o,e))}));break;case 1:n=c.b(r,S.f,i[0]);break;case 2:n=c.b(r,S.d,i[0]);break;case 3:var l=i[0];n=c.b(r,S.d,(function(e){return c.a(l,e).getTime()}))}var s=k.a(a.table,n);return{isDescending:a.isDescending,column:a.column,table:s}}function wt(e,t,a){var r={isDescending:a,column:t,table:e},i=n.useReducer(Nt,r),o=i[1];return n.useEffect((function(){c.a(o,0)}),[]),[i[0],o]}var _t=function(e){var t=e.children,a=e.sortColumn,r=e.data,i=e.dispatch,o=r.column===a?{opacity:"1"}:{opacity:"0"};return n.createElement("button",{className:"button-micro dont-hide button-text-ghost title-20",style:{width:"100%"},onClick:function(e){return r.column===a?c.a(i,m.a(0,[!r.isDescending])):c.a(i,m.a(1,[a]))}},n.createElement("span",{"aria-hidden":!0},n.createElement(w.a,{style:{opacity:"0"}})),t,r.isDescending?n.createElement("span",{style:o},n.createElement(w.a,{}),n.createElement(yt.a,{children:"Sort ascending."})):n.createElement("span",{style:o},n.createElement(_.a,{}),n.createElement(yt.a,{children:"Sort descending."})))};function kt(e){return n.useEffect((function(){return document.body.style.cursor=e?"auto":"wait",function(e){return document.body.style.cursor="auto"}}),[e]),0}function St(e,t,a,r,i,o,l,s){var u=v.c(t,e.id),m=void 0!==u?u:ze(void 0,e.id),f=m.opponentResults,g=v.g(f,_e),h=M.sumF(m.colorScores),b=h<0?"White +"+Math.abs(h).toString():h>0?"Black +"+h.toString():"Even",p=d.g(a,Oe.make(0),Et.toMap),w=v.c(p,e.id),_=void 0!==w?w:0,k=M.sumF(m.results),S=N.i(v.s(f),(function(e){var t=e[1],a=e[0];return n.createElement("li",{key:a},pe.concat([c.a(r,a).firstName,[c.a(r,a).lastName,["-",[0!==t?.5!==t&&1===t?"Won":"Draw":"Lost",0]]]]," "))})),C=N.n(y.s(y.k(_,(function(e){var t=v.c(i,e);if(void 0!==t){var a=t;return n.createElement("li",{key:e},a.firstName+" "+a.lastName)}return null}))));return{player:e,hasBye:g,colorBalance:b,score:k,rating:n.createElement(n.Fragment,void 0,o.toString(),void 0!==l?n.createElement("span",void 0," (",E.a(l-o|0).format("+0"),")"):null),opponentResults:S,avoidListHtml:C}}var Ct=a(33);function Rt(e){return Le.a(He,e)}function It(e){return we.d(xe,e)}function Ot(e){return N.k(e,[],(function(e,t){return N.b(e,[t.whiteId,t.blackId])}))}function Dt(e,t){return N.e(e,(function(e){return e.id===t}))}function Bt(e,t){return d.a(d.e(N.g(e,(function(e){return e.id===t.id})),(function(a){return N.o(e,a,t)})),(function(t){if(t)return e}))}var Lt={empty:[],encode:Rt,decode:It,size:function(e){return e.length},addMatches:N.b,getMatched:Ot,getMatchById:Dt,removeMatchById:function(e,t){return N.h(e,(function(e){return e.id!==t}))},setMatch:Bt,moveMatch:function(e,t,a){var n=Dt(e,t);if(void 0!==n){var r=e.indexOf(n),i=(r+a|0)>=0?r+a|0:0;return P.swap(e,r,i)}}},Pt=[[]];function Mt(e){return we.d(It,e)}function Tt(e){return e.length}function Ft(e){return e.length-1|0}function xt(e,t,a){if(N.o(e,t,a))return e}function Ht(e,t,a){return d.a(d.a(N.d(e,t),(function(e){return Bt(e,a)})),(function(a){return xt(e,t,a)}))}function At(e,t,a){var n=void 0!==t?N.q(e,0,t+1|0):e;return N.k(n,[],N.b)}function Wt(e,t,a){var n=N.d(e,a);if(void 0!==n&&a>=(e.length-1|0)){var r=n,i=Ot(r),o=v.p(t,i),c=N.i(r,(function(e){return e.result}));return 0===v.r(o)&&!c.includes(3)}return!0}function Kt(e){return N.b(e,[[]])}function Qt(e){return e.slice(0,-1)}function Jt(e,t){return N.i(e,(function(e){return N.i(e,(function(e){return We(e,t)}))}))}var zt=N.d,Vt={avoidPairs:Et.fromArray([["BarbaraGordon_cL6SpI2","JamesGordon_1ts9xICT3"],["Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH"],["HelenaWayne_fE6O0DJcE","BruceWayne_lv_ZsUHTU9"]]),byeValue:0,lastBackup:new Date("1970-01-01T00:00:00.000Z")},Ut=[["BruceWayne_lv_ZsUHTU9",{firstName:"Bruce",id:"BruceWayne_lv_ZsUHTU9",lastName:"Wayne",matchCount:9,rating:1998,type_:0}],["DickGrayson_1C2rCokHH",{firstName:"Dick",id:"DickGrayson_1C2rCokHH",lastName:"Grayson",matchCount:9,rating:1909,type_:0}],["AlfredPennyworth_y4dW",{firstName:"Alfred",id:"AlfredPennyworth_y4dW",lastName:"Pennyworth",matchCount:9,rating:1999,type_:0}],["BarbaraGordon_cL6SpI2",{firstName:"Barbara",id:"BarbaraGordon_cL6SpI2",lastName:"Gordon",matchCount:7,rating:1345,type_:0}],["KateKane_klFW6gDfUOTX",{firstName:"Kate",id:"KateKane_klFW6gDfUOTX",lastName:"Kane",matchCount:9,rating:1539,type_:0}],["SelinaKyle_rJBH-45Xoy",{firstName:"Selina",id:"SelinaKyle_rJBH-45Xoy",lastName:"Kyle",matchCount:9,rating:1495,type_:0}],["JasonTodd_fc9CeOa-Luw",{firstName:"Jason",id:"JasonTodd_fc9CeOa-Luw",lastName:"Todd",matchCount:7,rating:1101,type_:0}],["JamesGordon_1ts9xICT3",{firstName:"James",id:"JamesGordon_1ts9xICT3",lastName:"Gordon",matchCount:7,rating:1167,type_:0}],["HelenaWayne_fE6O0DJcE",{firstName:"Helena",id:"HelenaWayne_fE6O0DJcE",lastName:"Wayne",matchCount:7,rating:1087,type_:0}],["Joker_v0z2416fpAZ9o2c",{firstName:"Joker",id:"Joker_v0z2416fpAZ9o2c",lastName:"",matchCount:1,rating:1538,type_:0}],["HarleyQuinn_-10-02VPH",{firstName:"Harley",id:"HarleyQuinn_-10-02VPH",lastName:"Quinn",matchCount:1,rating:1648,type_:0}],["VictorFries_cWaQoW014",{firstName:"Victor",id:"VictorFries_cWaQoW014",lastName:"Fries",matchCount:1,rating:862,type_:0}],["OswaldCobblepot_lfCro",{firstName:"Oswald",id:"OswaldCobblepot_lfCro",lastName:"Cobblepot",matchCount:1,rating:1812,type_:0}],["RasAlGhul_k9n8k852bHr",{firstName:"Ra's",id:"RasAlGhul_k9n8k852bHr",lastName:"al Ghul",matchCount:1,rating:1404,type_:0}],["PamelaIsley_vH5vD8uPB",{firstName:"Pamela",id:"PamelaIsley_vH5vD8uPB",lastName:"Isley",matchCount:1,rating:965,type_:0}],["EdwardNigma_j80JfWOZq",{firstName:"Edward",id:"EdwardNigma_j80JfWOZq",lastName:"Nigma",matchCount:1,rating:948,type_:0}],["JonathanCrane_R4Q8tVW",{firstName:"Jonathan",id:"JonathanCrane_R4Q8tVW",lastName:"Crane",matchCount:1,rating:899,type_:0}],["HarveyDent_0eYIiP_Ij5",{firstName:"Harvey",id:"HarveyDent_0eYIiP_Ij5",lastName:"Dent",matchCount:1,rating:1649,type_:0}],["HugoStrange_az43f9mtS",{firstName:"Hugo",id:"HugoStrange_az43f9mtS",lastName:"Strange",matchCount:0,rating:800,type_:0}]],Gt=[["CaouTNel9k70jUJ0h6SYM",{id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",date:new Date("2019-05-22T12:14:47.670Z"),playerIds:["BruceWayne_lv_ZsUHTU9",["DickGrayson_1C2rCokHH",["AlfredPennyworth_y4dW",["BarbaraGordon_cL6SpI2",["KateKane_klFW6gDfUOTX",["SelinaKyle_rJBH-45Xoy",["JasonTodd_fc9CeOa-Luw",["JamesGordon_1ts9xICT3",["HelenaWayne_fE6O0DJcE",0]]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[[{id:"FUASEeyES6ez_ROoT6qmU",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:1236,blackNewRating:2109,whiteOrigRating:1238,blackOrigRating:2108,result:1},{id:"gqPyD66QMPF-pup41xsB2",whiteId:"JamesGordon_1ts9xICT3",blackId:"AlfredPennyworth_y4dW",whiteNewRating:1049,blackNewRating:2260,whiteOrigRating:1049,blackOrigRating:2260,result:1},{id:"KpS1lQSzsQWQ3VVWJyA2P",whiteId:"KateKane_klFW6gDfUOTX",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1553,blackNewRating:1722,whiteOrigRating:1527,blackOrigRating:1755,result:2},{id:"OgFuy-wq8mz378EWat46u",whiteId:"SelinaKyle_rJBH-45Xoy",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:1278,blackNewRating:1887,whiteOrigRating:1284,blackOrigRating:1881,result:1},{id:"f8Ps3GUmd0ZRsBBY8rZOp",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"________DUMMY________",whiteNewRating:831,blackNewRating:0,whiteOrigRating:831,blackOrigRating:0,result:0}],[{id:"6seKrw7ehbhL766g6L2PF",whiteId:"DickGrayson_1C2rCokHH",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:2122,blackNewRating:1672,whiteOrigRating:2109,blackOrigRating:1685,result:0},{id:"TCSjz48ZXqjamtYUFNg0B",whiteId:"BruceWayne_lv_ZsUHTU9",blackId:"HelenaWayne_fE6O0DJcE",whiteNewRating:1887,blackNewRating:830,whiteOrigRating:1887,blackOrigRating:831,result:0},{id:"zF64DEsN8sHydpDDsg37E",whiteId:"AlfredPennyworth_y4dW",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:2101,blackNewRating:1437,whiteOrigRating:2260,blackOrigRating:1278,result:1},{id:"qVGt1EJq9y0MmvFtumM0A",whiteId:"BarbaraGordon_cL6SpI2",blackId:"JasonTodd_fc9CeOa-Luw",whiteNewRating:1574,blackNewRating:1207,whiteOrigRating:1545,blackOrigRating:1236,result:0},{id:"UhfHaRWr_-BtVo22xAuJu",whiteId:"JamesGordon_1ts9xICT3",blackId:"________DUMMY________",whiteNewRating:1049,blackNewRating:0,whiteOrigRating:1049,blackOrigRating:0,result:0}],[{id:"odrOOnZJUe0YAwkfUDqUb",whiteId:"AlfredPennyworth_y4dW",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:1998,blackNewRating:1990,whiteOrigRating:2101,blackOrigRating:1887,result:1},{id:"qzCMqUwNIDAcFSAuA5yCm",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:990,blackNewRating:2008,whiteOrigRating:830,blackOrigRating:2122,result:0},{id:"6QgVqdtcJPjfVp3UZ8S9g",whiteId:"SelinaKyle_rJBH-45Xoy",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1529,blackNewRating:1464,whiteOrigRating:1437,blackOrigRating:1574,result:0},{id:"as45gODKMLC5-3_UsTyx5",whiteId:"KateKane_klFW6gDfUOTX",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:1542,blackNewRating:1244,whiteOrigRating:1672,blackOrigRating:1049,result:1},{id:"Pc0CWecSfeGNfvBPjyEIj",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"________DUMMY________",whiteNewRating:1207,blackNewRating:0,whiteOrigRating:1207,blackOrigRating:0,result:0}],[{id:"xj0y_Iqkb-g3MDGgmYx2-",whiteId:"BruceWayne_lv_ZsUHTU9",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:1998,blackNewRating:1534,whiteOrigRating:1990,blackOrigRating:1542,result:0},{id:"HWYWtsyaqUkHRExM6kQrt",whiteId:"DickGrayson_1C2rCokHH",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:2009,blackNewRating:1243,whiteOrigRating:2008,blackOrigRating:1244,result:0},{id:"uAzHZVMC71liQZ-6fWWeD",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:983,blackNewRating:1534,whiteOrigRating:990,blackOrigRating:1529,result:1},{id:"_tCBn9YNIyto-vXpxm7WI",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"AlfredPennyworth_y4dW",whiteNewRating:1205,blackNewRating:1999,whiteOrigRating:1207,blackOrigRating:1998,result:1},{id:"L7yatE2oVKlV7LOY6-d7Y",whiteId:"BarbaraGordon_cL6SpI2",blackId:"________DUMMY________",whiteNewRating:1464,blackNewRating:0,whiteOrigRating:1464,blackOrigRating:0,result:0}]]}],["tvAdS4YbSOznrBgrg0ITA",{id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",date:new Date("2019-05-29T12:15:20.593Z"),playerIds:["BruceWayne_lv_ZsUHTU9",["DickGrayson_1C2rCokHH",["AlfredPennyworth_y4dW",["BarbaraGordon_cL6SpI2",["KateKane_klFW6gDfUOTX",["SelinaKyle_rJBH-45Xoy",["JasonTodd_fc9CeOa-Luw",["JamesGordon_1ts9xICT3",["HelenaWayne_fE6O0DJcE",["Joker_v0z2416fpAZ9o2c",["HarleyQuinn_-10-02VPH",["VictorFries_cWaQoW014",["OswaldCobblepot_lfCro",["RasAlGhul_k9n8k852bHr",["PamelaIsley_vH5vD8uPB",["EdwardNigma_j80JfWOZq",["JonathanCrane_R4Q8tVW",["HarveyDent_0eYIiP_Ij5",0]]]]]]]]]]]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[[{id:"5f8GYcR8V44NYvTN1cZle",whiteId:"EdwardNigma_j80JfWOZq",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:948,blackNewRating:1998,whiteOrigRating:950,blackOrigRating:1998,result:1},{id:"GPTct4sL368SryTLFUu8E",whiteId:"JonathanCrane_R4Q8tVW",blackId:"AlfredPennyworth_y4dW",whiteNewRating:899,blackNewRating:1999,whiteOrigRating:900,blackOrigRating:1999,result:1},{id:"AxtoztZ6O19nyrLfZ4YaU",whiteId:"HarveyDent_0eYIiP_Ij5",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:1649,blackNewRating:1909,whiteOrigRating:850,blackOrigRating:2009,result:0},{id:"bUM_tWQsAtPe1gqRzlXd1",whiteId:"RasAlGhul_k9n8k852bHr",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:1404,blackNewRating:1495,whiteOrigRating:1050,blackOrigRating:1534,result:2},{id:"bAOVlP-M5xaPk1qofNReb",whiteId:"OswaldCobblepot_lfCro",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1812,blackNewRating:1345,whiteOrigRating:1100,blackOrigRating:1464,result:0},{id:"4omlgiGSaE1BmrHdABSym",whiteId:"PamelaIsley_vH5vD8uPB",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:965,blackNewRating:1539,whiteOrigRating:1e3,blackOrigRating:1534,result:1},{id:"ysdEVYS2AyuKyOAwLLpTF",whiteId:"HarleyQuinn_-10-02VPH",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:1648,blackNewRating:1167,whiteOrigRating:1200,blackOrigRating:1242,result:0},{id:"YoJ9WGokAYrmJjfxCCf87",whiteId:"VictorFries_cWaQoW014",blackId:"Joker_v0z2416fpAZ9o2c",whiteNewRating:862,blackNewRating:1538,whiteOrigRating:1150,blackOrigRating:1250,result:1},{id:"Az7SBl3cs7rbwKPBI0IsU",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"JasonTodd_fc9CeOa-Luw",whiteNewRating:1087,blackNewRating:1101,whiteOrigRating:983,blackOrigRating:1205,result:0}],Lt.empty]}]],qt=a(45);function jt(e){switch(e){case 0:return"person";case 1:return"dummy";case 2:return"missing"}}function Zt(e){switch(e){case"dummy":return 1;case"missing":return 2;case"person":default:return 0}}function Yt(e){return Zt(we.k(e))}var Xt={toString:jt,fromString:Zt,encode:jt,decode:Yt};function $t(e){return{firstName:we.g("firstName",we.k,e),id:we.g("id",De,e),lastName:we.g("lastName",we.k,e),matchCount:we.g("matchCount",we.b,e),rating:we.g("rating",we.b,e),type_:we.g("type_",Yt,e)}}function ea(e){return Le.d([["firstName",e.firstName],[["id",e.id],[["lastName",e.lastName],[["matchCount",e.matchCount],[["rating",e.rating],[["type_",jt(e.type_)],0]]]]]])}var ta={firstName:"Bye",id:_e,lastName:"Player",matchCount:0,rating:0,type_:1};function aa(e,t){return ke(t)?ta:v.f(e,t,function(e){return{firstName:"Anonymous",id:e,lastName:"Player",matchCount:0,rating:0,type_:2}}(t))}function na(e){var t=[we.e,[function(e){return e},0]];return{id:we.g("id",De,e),name:we.g("name",we.k,e),date:we.g("date",(function(e){return we.i(t,e)}),e),playerIds:we.g("playerIds",(function(e){return we.h(De,e)}),e),byeQueue:we.g("byeQueue",(function(e){return we.d(De,e)}),e),tieBreaks:we.g("tieBreaks",(function(e){return we.d(ct.decode,e)}),e),roundList:we.g("roundList",Mt,e)}}function ra(e){return Le.d([["id",e.id],[["name",e.name],[["date",Le.b(e.date)],[["playerIds",Le.c(Ce,e.playerIds)],[["byeQueue",Le.a(Ce,e.byeQueue)],[["tieBreaks",Le.a(ct.encode,e.tieBreaks)],[["roundList",(t=e.roundList,Le.a(Rt,t))],0]]]]]]]);var t}function ia(e,t,a,n,r,i,o){var c={name:a,storeName:r};return void 0!==e&&(c.description=h.e(e)),void 0!==t&&(c.driver=h.e(t)),void 0!==n&&(c.size=h.e(n)),void 0!==i&&(c.version=h.e(i)),c}var oa=qt.b(ia(void 0,void 0,"Coronate",void 0,"Options",void 0),{decode:ht,encode:bt}),ca=Ct.d(ia(void 0,void 0,"Coronate",void 0,"Players",void 0),{decode:$t,encode:ea}),la=Ct.d(ia(void 0,void 0,"Coronate",void 0,"Tournaments",void 0),{decode:na,encode:ra});function sa(e,t){switch(0|t.tag){case 0:return v.o(e,t[0]);case 1:return v.q(e,t[0],t[1]);case 2:return t[0]}}function ua(e){var t=n.useReducer(sa,Oe.make(0)),a=t[1],r=t[0],i=n.useState((function(){return!1})),o=i[1],l=i[0];return kt(l),n.useEffect((function(){var t={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(Ct.a(e))),(function(e){return t.contents?0:(c.a(a,m.a(2,[Oe.fromStringArray(e)])),c.a(o,(function(e){return!0})))})),(function(e){return t.contents?0:(console.error(e),b.clear(),c.a(o,(function(e){return!0})))})),function(e){return t.contents=!0,0}}),[]),n.useEffect((function(){l&&f.d(f.a.toResult(f.a.fromBsPromise(Ct.g(e,Oe.toStringArray(r)))),(function(t){return f.d(f.a.toResult(f.a.fromBsPromise(Ct.c(e))),(function(t){var a=v.j(r),n=t.filter((function(e){return!a.includes(e)}));return 0!==n.length?(Ct.e(e,n),0):0}))}))}),[r,l]),{items:r,dispatch:a,loaded:l}}function da(e){return ua(ca)}function ma(e){return ua(la)}function fa(e,t){switch(0|t.tag){case 0:return{avoidPairs:g.a(e.avoidPairs,t[0]),byeValue:e.byeValue,lastBackup:e.lastBackup};case 1:return{avoidPairs:g.f(e.avoidPairs,t[0]),byeValue:e.byeValue,lastBackup:e.lastBackup};case 2:var a=t[0];return{avoidPairs:g.e(e.avoidPairs,Et.empty,(function(e,t){var n=t[1],r=t[0];return r===a||n===a?e:g.a(e,[r,n])})),byeValue:e.byeValue,lastBackup:e.lastBackup};case 3:return{avoidPairs:t[0],byeValue:e.byeValue,lastBackup:e.lastBackup};case 4:return{avoidPairs:e.avoidPairs,byeValue:t[0],lastBackup:e.lastBackup};case 5:return t[0];case 6:return{avoidPairs:e.avoidPairs,byeValue:e.byeValue,lastBackup:t[0]}}}function va(e){var t=n.useReducer(fa,pt),a=t[1],r=t[0],i=n.useState((function(){return!1})),o=i[1],l=i[0];return n.useEffect((function(){var e={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(qt.a(oa))),(function(t){return e.contents?0:(c.a(a,m.a(5,[t])),c.a(o,(function(e){return!0})))})),(function(t){return e.contents?0:(b.clear(),c.a(a,m.a(5,[pt])),c.a(o,(function(e){return!0})))})),function(t){return e.contents=!0,0}}),[]),n.useEffect((function(){l&&qt.c(oa,r)}),[r,l]),[r,a]}var ga=a(106),ha=a(62),ba=a.n(ha),pa=a(63);var Ea={icon:a.n(pa).a};function ya(e){var t=e.height,a=e.width,i=e.className,o=e.style,c=e.ariaLabel,l=e.ariaHidden,s=void 0!==t?t:"24",u=void 0!==a?a:"24",d=void 0!==i?i:"",m=void 0!==o?h.e(o):{},f=void 0!==c?c:Ea.icon.title+" Icon",v=void 0!==l&&l;return n.createElement("svg",{"aria-hidden":v,"aria-label":f,className:d,role:"img",style:r.a.combine({fill:"#"+Ea.icon.hex},m),height:s,width:u,viewBox:"0 0 24 24"},n.createElement("path",{d:Ea.icon.path}))}ya.displayName=Ea.icon.title;var Na=ya,wa={icon:ba.a};function _a(e){var t=e.height,a=e.width,i=e.className,o=e.style,c=e.ariaLabel,l=e.ariaHidden,s=void 0!==t?t:"24",u=void 0!==a?a:"24",d=void 0!==i?i:"",m=void 0!==o?h.e(o):{},f=void 0!==c?c:wa.icon.title+" Icon",v=void 0!==l&&l;return n.createElement("svg",{"aria-hidden":v,"aria-label":f,className:d,role:"img",style:r.a.combine({fill:"#"+wa.icon.hex},m),height:s,width:u,viewBox:"0 0 24 24"},n.createElement("path",{d:wa.icon.path}))}_a.displayName=wa.icon.title;var ka=_a;var Sa=function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z",fill:"#000"}))};var Ca=function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z",fill:"#000"}))};var Ra=function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 4.399V5.5H0V4.399h11z",fill:"#000"}))};var Ia=function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z",fill:"#000"}))},Oa=a(99),Da=a(100),Ba=a(101),La=a(102),Pa=a(103),Ma=a(104),Ta=a(105),Fa=a(43);function xa(e){if("number"!==typeof e)return e.tag?"/players/"+e[0]:"/tourneys/"+function(e,t){if("number"!==typeof t)return e+"/round/"+String(t[0]);switch(t){case 0:return e+"/";case 1:return e+"/scores";case 2:return e+"/crosstable";case 3:return e+"/setup";case 4:return e+"/status"}}(e[0],e[1]);switch(e){case 1:return"/tourneys";case 2:return"/players";case 3:return"/timecalc";case 4:return"/options";case 0:case 5:return"/"}}function Ha(e){var t=Fa.b(void 0,0),a=y.d(pe.split(t.hash,"/"));if(!a||""!==a[0])return 5;var n=a[1];if(!n)return 0;switch(n[0]){case"":return n[1]?5:0;case"options":return n[1]?5:4;case"players":var r=n[1];return r?r[1]?5:m.a(1,[r[0]]):2;case"timecalc":return n[1]?5:3;case"tourneys":var i=n[1];if(i){var o=function(e){if(!e)return 0;switch(e[0]){case"":return e[1]?void 0:0;case"crosstable":return e[1]?void 0:2;case"round":var t=e[1];if(t&&!t[1]){var a=l.a(t[0]);return void 0!==a?[a]:void 0}return;case"scores":return e[1]?void 0:1;case"setup":return e[1]?void 0:3;case"status":return e[1]?void 0:4;default:return}}(i[1]);return void 0!==o?m.a(0,[i[0],o]):5}return 1;default:return 5}}var Aa=function(e){var t=e.children,a=e.to_,r=e.onDragStart,i=e.onClick,o=Fa.b(void 0,0).hash,c=xa(a),l="/"===c&&""===o||o===c;return n.createElement("a",{"aria-current":l,href:"#"+c,onDragStart:r,onClick:i},t)},Wa=window.require,Ka=void 0!==Wa?c.a(Wa,"electron"):void 0;function Qa(e){if(void 0!==Ka)return h.c(c.a(e,h.e(Ka)))}var Ja=pe.includes(navigator.appVersion,"Windows"),za=pe.includes(navigator.appVersion,"Mac"),Va=Ja?0:za?1:2;var Ua=function(e){var t=e.children,a=e.os;if(void 0===Ka)return null;var n=h.e(Ka);switch(Va){case 0:return 0!==a?null:c.a(t,n);case 1:return 1!==a?null:c.a(t,n);case 2:return a>=2?c.a(t,n):null}};function Ga(e){return e.isMaximized()?(e.unmaximize(),0):(e.maximize(),0)}var qa={macOSDoubleClick:function(e){return Qa((function(t){var a=e.target;if(!a.className.includes||!pe.includes(a.className,"double-click-control"))return 0;var n=t.remote.systemPreferences.getUserDefault("AppleActionOnDoubleClick","string"),r=t.remote.getCurrentWindow();switch(n){case"Maximize":return Ga(r);case"Minimize":return r.minimize(),0;default:return 0}})),0},openInBrowser:function(e){return Qa((function(t){return e.preventDefault(),t.shell.openExternal(e.target.href)})),0}},ja=a(65);var Za=function(e){var t=e.isOpen,a=e.onDismiss,r=e.ariaLabel,i=e.children,o=e.style,c=void 0!==o?h.e(o):{};return n.createElement(ja.a,{isOpen:t,onDismiss:a,style:c,"aria-label":r,children:i})};function Ya(e){return""===e?"Coronate":pe.concat([e,["Coronate",0]]," - ")}function Xa(e,t){switch(0|t.tag){case 0:return{isBlur:t[0],isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 1:return{isBlur:e.isBlur,isDialogOpen:t[0],isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 2:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:t[0],isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 3:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:t[0],isSidebarOpen:e.isSidebarOpen,title:e.title};case 4:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:t[0],title:e.title};case 5:var a=t[0];return document.title=Ya(a),{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:a}}}function $a(e){return n.createElement("article",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},n.createElement("div",{style:{textAlign:"center",flex:"0 0 48%"}},n.createElement("img",{alt:"",height:"196",src:F.logo,width:"196"})),n.createElement("div",{style:{flex:"0 0 48%"}},n.createElement("h1",{className:"title",style:{textAlign:"left"}},"Coronate"),n.createElement("p",void 0,"Version 1.1.0-beta"),n.createElement("p",void 0,pe.concat(["Copyright ",[H,[" 2020 John",[x,["Jackson",0]]]]],"")),n.createElement("p",void 0,"Coronate is free software."),n.createElement("p",void 0,n.createElement("a",{href:he,onClick:qa.openInBrowser},"Source code is available"),n.createElement("br",void 0)," under the ",n.createElement("a",{href:be,onClick:qa.openInBrowser},"AGPL v3.0 license"),".")))}var en=c.a(o.K,[o.u([-1044768619,[4846113,[-119887163,100],[25096,8]]]),[o.x([25096,-4]),0]]),tn=c.a(o.K,[o.k(oe),[o.s([25096,11]),[o.L(98248149),[o.O([25096,46]),[o.u([-119887163,100]),[o.g(-789508312),[o.c(582626130),[o.O([25096,46]),[o.C([25096,46]),[o.r([o.h(-922086728),[o.j(-922086728),[o.D(-922086728),0]]]),[o.J(" svg",[o.m(423610969),0]),0]]]]]]]]]]]),an=c.a(o.K,[o.m(423610969),[o.M("shapeRendering","crispEdges"),0]]),nn=c.a(o.K,[o.v([o.c(ae),0]),0]);function rn(e){var t=e.isFullScreen,a=e.isMaximized,r=e.electron.remote.getCurrentWindow();return n.createElement("div",{className:en},n.createElement("button",{className:i.c([tn,["button-ghost1",0]]),onClick:function(e){return r.minimize(),0}},n.createElement(Ra,{className:an})),t?n.createElement("button",{className:tn,onClick:function(e){return r.setFullScreen(!1),0}},n.createElement(Oa.a,{className:an})):a?n.createElement("button",{className:tn,onClick:function(e){return r.unmaximize(),0}},n.createElement(Ia,{className:an})):n.createElement("button",{className:tn,onClick:function(e){return r.maximize(),0}},n.createElement(Ca,{className:an})),n.createElement("button",{className:i.c([tn,[nn,0]]),onClick:function(e){return r.close(),0}},n.createElement(Sa,{className:an})))}var on=c.a(o.K,[o.k(oe),0]),cn=1===Va&&void 0!==Ka,ln=i.c([on,[i.b("macos-button-toolbar",cn),[i.b("button-ghost",!cn),0]]]);function sn(e){var t=e.isBlur,a=e.isFullScreen,r=e.isMaximized,o=e.isSidebarOpen,l=e.title,s=e.dispatch;return n.createElement("header",{className:i.c(["app__header",["double-click-control",[i.b("traffic-light-padding",cn&&!a),0]]]),onDoubleClick:qa.macOSDoubleClick},n.createElement("div",void 0,n.createElement(Ua,{children:function(e){return n.createElement("span",{style:{display:"inline-flex",marginRight:"8px",marginLeft:"4px",alignItems:"center"}},n.createElement("img",{alt:"",height:"16",src:F.logo,width:"16"}))},os:0}),n.createElement("button",{className:ln,onClick:function(e){return c.a(s,m.a(4,[!o]))}},n.createElement(Da.a,{}),n.createElement(yt.a,{children:"Toggle sidebar"})),n.createElement("button",{className:ln,onClick:function(e){return c.a(s,m.a(1,[!0]))}},n.createElement(Ba.a,{}),n.createElement(yt.a,{children:"About Coronate"}))),n.createElement("div",{className:i.c(["body-20",["double-click-control",[i.b("disabled",t),0]]]),style:{left:"0",marginRight:"auto",marginLeft:"auto",position:"absolute",right:"0",textAlign:"center",width:"50%"}},Ya(l)),n.createElement(Ua,{children:function(e){return n.createElement(rn,{isFullScreen:a,isMaximized:r,electron:e})},os:0}))}function un(e){return e.preventDefault(),0}function dn(e){return n.createElement("nav",void 0,n.createElement("ul",{style:{margin:"0"}},n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:1,onDragStart:un},n.createElement(La.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Tournaments"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:2,onDragStart:un},n.createElement(Pa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Players"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:4,onDragStart:un},n.createElement(Ma.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Options"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:3,onDragStart:un},n.createElement(Ta.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Time calculator"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:0,onDragStart:un},n.createElement(Ba.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Info")))))}function mn(e){return n.createElement(dn,{})}var fn=function(e){var t=e.children,a=e.footerFunc,r=e.sidebarFunc,o=void 0!==r?r:mn;return n.createElement("div",{className:i.c(["winBody",[i.a("winBody-hasFooter",a),0]])},n.createElement("div",{className:"win__sidebar"},c.a(o,0)),n.createElement("div",{className:"win__content"},t),void 0!==a?n.createElement("footer",{className:i.c(["win__footer",0])},c.a(a,0)):null)},vn=function(e){var t,a=e.children,r=e.className,o=n.useReducer(Xa,{isBlur:!1,isDialogOpen:!1,isFullScreen:!1,isMaximized:!1,isSidebarOpen:!0,title:""}),l=o[0],s=l.isSidebarOpen,u=l.isBlur,d=o[1];switch(n.useEffect((function(){return Qa((function(e){var t=e.remote.getCurrentWindow(),a=function(e){return t.removeAllListeners("enter-full-screen"),t.removeAllListeners("leave-full-screen"),t.removeAllListeners("blur"),t.removeAllListeners("focus"),t.removeAllListeners("maximize"),t.removeAllListeners("unmaximize"),0};return a(),t.on("enter-full-screen",(function(e){return c.a(d,m.a(2,[!0]))})),t.on("leave-full-screen",(function(e){return c.a(d,m.a(2,[!1]))})),t.on("maximize",(function(e){return c.a(d,m.a(3,[!0]))})),t.on("unmaximize",(function(e){return c.a(d,m.a(3,[!1]))})),t.on("blur",(function(e){return c.a(d,m.a(0,[!0]))})),t.on("focus",(function(e){return c.a(d,m.a(0,[!1]))})),c.a(d,m.a(0,[!t.isFocused()])),c.a(d,m.a(2,[t.isFullScreen()])),c.a(d,m.a(3,[t.isMaximized()])),a}))}),[]),Va){case 0:t="isWindows";break;case 1:t="isMacOS";break;case 2:t=""}return n.createElement("div",{className:i.c([r,[i.b("open-sidebar",s),[i.b("closed-sidebar",!s),[i.b("window-blur",u),[t,[i.a("isElectron",Ka),0]]]]]])},n.createElement(sn,{isBlur:u,isFullScreen:l.isFullScreen,isMaximized:l.isMaximized,isSidebarOpen:s,title:l.title,dispatch:d}),c.a(a,d),n.createElement(Za,{isOpen:l.isDialogOpen,onDismiss:function(e){return c.a(d,m.a(1,[!1]))},ariaLabel:"About Coronate",children:null,style:{backgroundColor:"var(--grey-20)"}},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(d,m.a(1,[!1]))}},"Close"),n.createElement($a,{})))},gn=c.a(o.K,[o.m(-1010954439),[o.n(-963948842),[o.a(98248149),[o.u([-119887163,100]),[o.w(516682146),[o.c(ne),0]]]]]]),hn=c.a(o.K,[o.y(-789508312,-1065951377),[o.u([25096,64]),[o.E(589592690),0]]]),bn=c.a(o.K,[o.y([25096,8],-789508312),0]),pn=c.a(o.K,[o.c(ce),[o.k(re),[o.G(-789508312,[25096,16]),[o.m(-1010954439),[o.w(516682146),0]]]]]),En=c.a(o.K,[o.k($),[o.v([o.k(ee),0]),0]]),yn=c.a(o.K,[o.k(oe),[o.y(-789508312,-1065951377),[o.m(-1010954439),[o.b(98248149),0]]]]),Nn=c.a(o.K,[o.p(1),[o.z([25096,8]),0]]),wn=c.a(o.K,[o.o(1),0]),_n=c.a(o.K,[o.L(-379319332),[o.x(-789508312),0]]);function kn(e){return Math.log(e)/Math.log(2)}function Sn(e){return e<0||e===u.d||e===u.e?0:e}function Cn(e,t,a){a.preventDefault();var n=d.c(l.a(a.currentTarget.value),t),r=n<t?t:n;return c.a(e,(function(e){return r}))}var Rn=function(e){return n.createElement("p",{className:"content-area"},"Page not found.")},In=function(e){return n.createElement(fn,{children:n.createElement("div",{className:gn},n.createElement("aside",{className:hn},n.createElement("ol",void 0,n.createElement("li",{className:bn},n.createElement("button",{className:"button-primary",onClick:function(e){return document.body.style.cursor="wait",f.b(f.a.$$catch(f.a.fromBsPromise(Promise.all([qt.c(oa,Vt),Ct.g(ca,Ut),Ct.g(la,Gt)])),(function(e){return document.body.style.cursor="auto",console.error("Couldn't load demo data."),f.e([0,0,0])})),(function(e){return document.body.style.cursor="auto",T("Demo data loaded!")}))}},"Click here to load the demo data")," (optional)"),n.createElement("li",{className:bn},n.createElement(ga.a,{})," Select a menu item."),n.createElement("li",{className:bn},"Start creating your tournaments!")),n.createElement(Ee,{children:null,kind:1},"If you experience glitches or crashes,",n.createElement("br",void 0),"clear your browser cache and try again.")),n.createElement("div",{className:yn},n.createElement("div",{className:Nn},n.createElement("img",{alt:"",height:"96",src:F.logo,width:"96"})),n.createElement("div",{className:wn},n.createElement("h1",{className:"title",style:{fontSize:"40px"}},"Coronate"),n.createElement("p",{className:i.c([_n,["caption-30",0]])},"Tournament manager"))),n.createElement("footer",{className:i.c([pn,["body-20",0]])},n.createElement("div",{style:{textAlign:"left"}},n.createElement("p",void 0,"Copyright "+H+" 2020 John Jackson."),n.createElement("p",void 0,"Coronate is free software.",n.createElement("br",void 0),n.createElement("a",{className:En,href:he,onClick:qa.openInBrowser},"Source code is available")," under the ",n.createElement("a",{className:En,href:be,onClick:qa.openInBrowser},"AGPL v3.0 license"),".")),n.createElement("div",{style:{textAlign:"right"}},n.createElement("p",void 0,n.createElement("a",{className:En,href:"https://github.com/johnridesabike/coronate/issues/new",onClick:qa.openInBrowser},"Suggestions and bug reports are welcome.")),n.createElement("p",void 0,"Built with ",n.createElement("a",{className:En,href:"https://reasonml.github.io/",onClick:qa.openInBrowser},"Reason")," & ",n.createElement("a",{className:En,href:"https://reasonml.github.io/reason-react/",onClick:qa.openInBrowser},"ReasonReact"),". ",n.createElement("span",{style:{fontSize:"16px"}},n.createElement(Na,{})," ",n.createElement(ka,{}))))))})},On=function(e){var t=n.useState((function(){return 2})),a=t[1],r=t[0],i=n.useState((function(){return 5})),o=i[1],l=i[0],u=n.useState((function(){return 4})),m=u[1],f=u[0];return n.createElement(fn,{children:n.createElement("div",{className:"content-area"},n.createElement("h1",void 0,"Time calculator"),n.createElement("p",{className:"caption-30"},"Estimate the time requirements for planning your Swiss-style tournament."),n.createElement("form",void 0,n.createElement("table",{style:{margin:"0"}},n.createElement("tbody",void 0,n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"playerCount"},"Player count ")),n.createElement("td",void 0,n.createElement("input",{id:"playerCount",style:{width:"40px"},min:0,type:"number",value:r.toString(),onChange:function(e){return Cn(a,0,e)}}))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",void 0,"Round count")),n.createElement("td",void 0,Sn(Math.ceil(kn(r))).toString())),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"breakTime"},"Breaks between rounds ")),n.createElement("td",void 0,n.createElement("input",{id:"breakTime",style:{width:"40px"},min:0,step:5,type:"number",value:l.toString(),onChange:function(e){return Cn(o,0,e)}})," minutes")),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"totalTime"},"Total time available ")),n.createElement("td",void 0,n.createElement("input",{id:"totalTime",style:{width:"40px"},min:0,step:.5,type:"number",value:f.toString(),onChange:function(e){var t=m,a=e;a.preventDefault();var n=d.c(s.a(a.currentTarget.value),.5),r=n<.5?.5:n;return c.a(t,(function(e){return r}))}})," hours"))))),n.createElement("p",{className:"title-20"},"Maximum time control: "),n.createElement("p",void 0,n.createElement("span",{className:"title-20"},Sn(Math.ceil((60*f/Math.ceil(kn(r))-l)/2)).toString()," minutes"),n.createElement("span",{className:"caption-30"}," = ((",n.createElement("strong",{className:"monospace"},f.toString())," \xd7 60 \xf7 \u2308log\u2082(",n.createElement("strong",{className:"monospace"},r.toString()),")\u2309) - ",n.createElement("strong",{className:"monospace"},l.toString()),") \xf7 2")))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}var Bn=a(48),Ln=a(28),Pn=a(107),Mn="Crow_T_Robot_________",Tn="Grandy_McMaster______",Fn="Gypsy________________",xn="Joel_Robinson________",Hn="Newbie_McNewberson___",An="Tom_Servo____________",Wn="TVs_Frank____________",Kn=(Et.fromStringArray([["TVs_Frank____________","TVs_Son_of_TVs_Frank_"],["Pearl_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Pearl_Forrester______"]]),new Date("1970-01-01T00:00:00.000Z"),new Date("2019-06-12T23:49:47.103Z"),new Date("2019-06-12T23:49:47.103Z"),new Date("2019-06-17T23:00:29.603Z"),new Date("2019-06-14T11:40:34.407Z"),Lt.empty,new Date("2019-06-14T14:18:06.686Z"),Lt.empty,a(20));function Qn(e){var t=new Date;return pe.concat([t.getFullYear().toString(),[E.a(t.getMonth()+1).format("00"),[E.a(t.getDate()).format("00"),0]]],"-")}function Jn(e){var t=we.g("players",(function(e){return we.f($t,e)}),e),a=we.g("tournaments",(function(e){return we.f(na,e)}),e);return{config:we.g("config",ht,e),players:Oe.fromStringArray(Ln.a(t)),tournaments:Oe.fromStringArray(Ln.a(a))}}function zn(e){var t=v.l(e.players,ea),a=v.l(e.tournaments,ra);return Le.d([["config",bt(e.config)],[["players",Ln.b(Oe.toStringArray(t))],[["tournaments",Ln.b(Oe.toStringArray(a))],0]]])}function Vn(e){var t=e.date;return 0===t.getTime()?"Never":n.createElement(Q,{date:t})}var Un=function(e){var t=e.windowDispatch,a=ma(),r=a.dispatch,i=a.items,o=da(),l=o.dispatch,s=o.items,u=n.useState((function(){return""})),d=u[1],f=u[0],v=va(),g=v[1],b=v[0];n.useEffect((function(){return c.a(t,m.a(5,["Options"])),function(e){return c.a(t,m.a(5,[""]))}}),[t]);var p=n.useMemo((function(){return{config:b,players:s,tournaments:i}}),[b,i,s]),E=encodeURIComponent(Bn.b(zn(p)));n.useEffect((function(){var e=zn(p),t=JSON.stringify(e,null,4);c.a(d,(function(e){return t}))}),[p,d]);var y=function(e,t,a){return c.a(r,m.a(2,[e])),c.a(g,m.a(5,[a])),c.a(l,m.a(2,[t])),T("Data loaded.")};return n.createElement(fn,{children:n.createElement("div",{className:"content-area"},n.createElement("h2",void 0,"Bye  settings"),n.createElement("form",void 0,n.createElement("p",{className:"caption-30"},"Select the default score for a bye round."),n.createElement("label",{className:"monospace body-30"},"1 ",n.createElement("input",{checked:0===b.byeValue,type:"radio",onChange:function(e){return c.a(g,m.a(4,[0]))}})),n.createElement("label",{className:"monospace body-30"},"\xbd ",n.createElement("input",{checked:1===b.byeValue,type:"radio",onChange:function(e){return c.a(g,m.a(4,[1]))}}))),n.createElement("h2",void 0,"Manage data"),n.createElement("p",{className:"caption-20"},"Last export: ",n.createElement(Vn,{date:b.lastBackup})),n.createElement("p",void 0,n.createElement("a",{download:"coronate-"+Qn()+".json",href:"data:application/json,"+E,onClick:function(e){return c.a(g,m.a(6,[new Date]))}},n.createElement(Pn.a,{})," Export all data")),n.createElement("label",{htmlFor:"file"},"Load data file:"),n.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;return t.onload=function(e){var t=e.target.result,a=Bn.a(t);if(void 0!==a){var n;try{n=Jn(h.e(a))}catch(i){var r=Kn.b(i);if(r[0]===we.c)return T("That data is invalid! A more helpful error message could not be written yet.");throw r}return y(n.tournaments,n.players,n.config)}return T("That data is invalid! A more helpful error message could not be written yet.")},t.readAsText(N.f(e.currentTarget.files,0)),e.currentTarget.value="",0}}),n.createElement("h2",void 0,"Danger zone"),n.createElement("p",{className:"caption-30"},"I hope you know what you're doing..."),n.createElement("button",{onClick:function(e){return e.preventDefault(),y(Oe.fromStringArray(Gt),Oe.fromStringArray(Ut),Vt)}},"Reset demo data (this erases everything else)")," ",null,n.createElement("h3",void 0,"Advanced: manually edit data"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Bn.a(f);if(void 0!==t){var a;try{a=Jn(h.e(t))}catch(r){var n=Kn.b(r);if(n[0]===we.c)return T("That data is invalid! A more helpful error message could not be written yet.");throw n}return y(a.tournaments,a.players,a.config)}return T("That data is invalid! A more helpful error message could not be written yet.")}},n.createElement("textarea",{className:"json",spellCheck:!1,cols:50,name:"playerdata",rows:25,value:f,onChange:function(e){var t=e.currentTarget.value;return c.a(d,(function(e){return t}))}}),n.createElement("p",void 0,n.createElement("input",{type:"submit",value:"Load"}))))})},Gn=a(31),qn=a(108),jn=a(109),Zn=a(110),Yn=a(64),Xn=m.a(0,[function(e){return e.firstName}]),$n=m.a(1,[function(e){return e.rating}]),er=m.a(1,[function(e){return e.matchCount}]),tr={strategy:3,validate:function(e){var t=l.a(e.matchCount);return void 0!==t?m.a(0,[t]):m.a(1,["Match count must be a number"])}},ar={strategy:3,validate:function(e){var t=l.a(e.rating);return void 0!==t?m.a(0,[t]):m.a(1,["Rating must be a number"])}},nr={strategy:3,validate:function(e){var t=e.lastName;return""===t?m.a(1,["Last name is required"]):m.a(0,[t])}},rr={strategy:3,validate:function(e){var t=e.firstName;return""===t?m.a(1,["First name is required"]):m.a(0,[t])}},ir={matchCount:tr,rating:ar,lastName:nr,firstName:rr};function or(e){return{input:e,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:0,formStatus:0,submissionStatus:0}}function cr(e,t,a){var n,r=a.matchCount,i=r?r[0]:c.a(t.matchCount.validate,e),o=a.rating,l=o?o[0]:c.a(t.rating.validate,e),s=a.lastName,u=s?s[0]:c.a(t.lastName.validate,e),d=a.firstName,f=d?d[0]:c.a(t.firstName.validate,e),v=i;if(v.tag)n=v;else{var g=l;if(g.tag)n=v;else{var h=u;if(h.tag)n=v;else{var b=f;if(!b.tag)return m.a(0,[{firstName:b[0],lastName:h[0],rating:g[0],matchCount:v[0]},{matchCount:[v,0],rating:[g,0],lastName:[h,0],firstName:[b,0]},0]);n=v}}}return m.a(1,[{matchCount:[n,0],rating:[l,0],lastName:[u,0],firstName:[f,0]},0])}function lr(e,t){var a,r=n.useMemo((function(){return or(e)}),[e]),i=Yn.a(r,(function(a,n){if("number"===typeof n)switch(n){case 0:var r=Gn.b(a.input,a.fieldsStatuses.firstName,rr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}}));return void 0!==r?m.a(0,[{input:a.input,fieldsStatuses:r,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]):0;case 1:var i=Gn.b(a.input,a.fieldsStatuses.lastName,nr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}}));return void 0!==i?m.a(0,[{input:a.input,fieldsStatuses:i,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]):0;case 2:var o=Gn.b(a.input,a.fieldsStatuses.rating,ar,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}}));return void 0!==o?m.a(0,[{input:a.input,fieldsStatuses:o,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]):0;case 3:var l=Gn.b(a.input,a.fieldsStatuses.matchCount,tr,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}}));return void 0!==l?m.a(0,[{input:a.input,fieldsStatuses:l,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]):0;case 4:var s=a.formStatus;if("number"!==typeof s&&!s.tag)return 0;var u=cr(a.input,ir,a.fieldsStatuses);if(u.tag)return m.a(0,[{input:a.input,fieldsStatuses:u[0],collectionsStatuses:u[1],formStatus:0,submissionStatus:1}]);var d,f=u[0],v=a.formStatus;return d="number"===typeof v||1!==v.tag?void 0:v[0],m.a(1,[{input:a.input,fieldsStatuses:u[1],collectionsStatuses:u[2],formStatus:m.a(0,[d]),submissionStatus:1},function(e){var a=e.dispatch;return c.b(t,f,{notifyOnSuccess:function(e){return c.a(a,m.a(4,[e]))},notifyOnFailure:function(e){return c.a(a,m.a(5,[e]))},reset:function(e){return c.a(a,7)},dismissSubmissionResult:function(e){return c.a(a,6)}})}]);case 5:var g=a.formStatus;return"number"===typeof g||1!==g.tag?0:m.a(0,[{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}]);case 6:var h=a.formStatus;if("number"===typeof h){if(0===h)return 0}else if(!h.tag)return 0;return m.a(0,[{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}]);case 7:return m.a(0,[or(e)])}else switch(0|n.tag){case 0:var b=c.a(n[0],a.input);return m.a(0,[{input:b,fieldsStatuses:Gn.c(b,a.fieldsStatuses.firstName,a.submissionStatus,rr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]);case 1:var p=c.a(n[0],a.input);return m.a(0,[{input:p,fieldsStatuses:Gn.c(p,a.fieldsStatuses.lastName,a.submissionStatus,nr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]);case 2:var E=c.a(n[0],a.input);return m.a(0,[{input:E,fieldsStatuses:Gn.c(E,a.fieldsStatuses.rating,a.submissionStatus,ar,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]);case 3:var y=c.a(n[0],a.input);return m.a(0,[{input:y,fieldsStatuses:Gn.c(y,a.fieldsStatuses.matchCount,a.submissionStatus,tr,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}]);case 4:var N=n[0];return void 0!==N?m.a(0,[{input:N,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}]):m.a(0,[{input:a.input,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}]);case 5:return m.a(0,[{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:m.a(1,[n[0]]),submissionStatus:a.submissionStatus}]);case 6:var w=n[0],_=a.formStatus;if("number"===typeof _)return 0;if(_.tag)return m.a(0,[{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:m.a(1,[c.a(w,_[0])]),submissionStatus:a.submissionStatus}]);var k=_[0];return void 0!==k?m.a(0,[{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:m.a(0,[c.a(w,k)]),submissionStatus:a.submissionStatus}]):0}})),o=i[1],l=i[0],s=l.formStatus;return a="number"!==typeof s&&!s.tag,{updateFirstName:function(e,t){var a=t.target;return c.a(o,m.a(0,[c.a(e,a)]))},updateLastName:function(e,t){var a=t.target;return c.a(o,m.a(1,[c.a(e,a)]))},updateRating:function(e,t){var a=t.target;return c.a(o,m.a(2,[c.a(e,a)]))},updateMatchCount:function(e,t){var a=t.target;return c.a(o,m.a(3,[c.a(e,a)]))},blurFirstName:function(e){return c.a(o,0)},blurLastName:function(e){return c.a(o,1)},blurRating:function(e){return c.a(o,2)},blurMatchCount:function(e){return c.a(o,3)},firstNameResult:Gn.a(l.fieldsStatuses.firstName),lastNameResult:Gn.a(l.fieldsStatuses.lastName),ratingResult:Gn.a(l.fieldsStatuses.rating),matchCountResult:Gn.a(l.fieldsStatuses.matchCount),input:l.input,status:l.formStatus,dirty:function(e){var t=l.fieldsStatuses;return!!(t.matchCount||t.rating||t.lastName||t.firstName)},valid:function(e){return!cr(l.input,ir,l.fieldsStatuses).tag},submitting:a,submit:function(e){return c.a(o,4)},dismissSubmissionError:function(e){return c.a(o,5)},dismissSubmissionResult:function(e){return c.a(o,6)},mapSubmissionError:function(e){return c.a(o,m.a(6,[e]))},reset:function(e){return c.a(o,7)}}}function sr(e){if(void 0!==e){var t=e;return t.tag?n.createElement(Ee,{children:t[0],kind:2}):null}return null}function ur(e){var t=e.dispatch,a=e.addPlayerCallback,r=lr({firstName:"",lastName:"",rating:"1200",matchCount:"0"},(function(e,n){var r=Se();return c.a(t,m.a(1,[r,{firstName:e.firstName,id:r,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:0}])),void 0!==a&&c.a(a,r),c.a(n.notifyOnSuccess,void 0),c.a(n.reset,0)}));return n.createElement("form",{onSubmit:function(e){return e.preventDefault(),c.a(r.submit,0)}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Register a new player"),n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",required:!0,type:"text",value:r.input.firstName,onBlur:r.blurFirstName,onChange:c.a(r.updateFirstName,(function(e,t){return{firstName:e.value,lastName:t.lastName,rating:t.rating,matchCount:t.matchCount}}))})),sr(r.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",required:!0,type:"text",value:r.input.lastName,onBlur:r.blurLastName,onChange:c.a(r.updateLastName,(function(e,t){return{firstName:t.firstName,lastName:e.value,rating:t.rating,matchCount:t.matchCount}}))})),sr(r.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{name:"rating",required:!0,type:"number",value:r.input.rating,onBlur:r.blurRating,onChange:c.a(r.updateLastName,(function(e,t){return{firstName:t.firstName,lastName:e.value,rating:t.rating,matchCount:t.matchCount}}))})),sr(r.ratingResult),n.createElement("p",void 0,n.createElement("button",{disabled:r.submitting||!c.a(r.valid,0)},"Add"))))}var dr=ur;function mr(e){var t=e.sorted,a=e.sortDispatch,r=e.players,i=e.playersDispatch,o=e.configDispatch,l=e.windowDispatch,s=n.useState((function(){return!1})),u=s[1];return n.useEffect((function(){return c.a(l,m.a(5,["Players"])),function(e){return c.a(l,m.a(5,[""]))}}),[l]),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return c.a(u,(function(e){return!0}))}},n.createElement(qn.a,{})," Add a new player")),n.createElement("table",{style:{margin:"auto"}},n.createElement("caption",void 0,"Player roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(_t,{children:"Name",sortColumn:Xn,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(_t,{children:"Rating",sortColumn:$n,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(_t,{children:"Matches",sortColumn:er,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(yt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},N.i(t.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",{className:"table__player"},n.createElement(Aa,{children:pe.concat([e.firstName,[e.lastName,0]]," "),to_:m.a(1,[e.id])})),n.createElement("td",{className:"table__number"},String(e.rating)),n.createElement("td",{className:"table__number"},String(e.matchCount)),n.createElement("td",void 0,n.createElement("button",{className:"danger button-ghost",onClick:function(t){var a=t,n=e.id;a.preventDefault();var l=v.c(r,n);if(void 0!==l){var s=l,u=pe.concat(["Are you sure you want to delete ",[s.firstName,[" ",[s.lastName,["?",0]]]]],"");return window.confirm(u)?(c.a(i,m.a(0,[n])),c.a(o,m.a(2,[n]))):0}return 0}},n.createElement(jn.a,{}),n.createElement(yt.a,{children:pe.concat(["Delete",[e.firstName,[e.lastName,0]]]," ")}))))})))),n.createElement(Za,{isOpen:s[0],onDismiss:function(e){return c.a(u,(function(e){return!1}))},ariaLabel:"New player form",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(u,(function(e){return!1}))}},"Close"),n.createElement(ur,{dispatch:i})))}function fr(e){var t=e.player,a=e.players,r=e.playersDispatch,i=e.config,o=e.configDispatch,l=e.windowDispatch,s=t.type_,u=t.matchCount,d=t.id,f=lr({firstName:t.firstName,lastName:t.lastName,rating:String(t.rating),matchCount:String(u)},(function(e,t){return c.a(r,m.a(1,[d,{firstName:e.firstName,id:d,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:s}])),c.a(t.notifyOnSuccess,void 0),c.a(t.reset,0)})),g=pe.concat([f.input.firstName,[f.input.lastName,0]]," ");n.useEffect((function(){return c.a(l,m.a(5,["Profile for "+g])),function(e){return c.a(l,m.a(5,[""]))}}),[l,g]);var b,p=Et.toMap(i.avoidPairs),E=v.c(p,d),w=void 0!==E?E:0,_=y.h(y.d(v.j(a)),(function(e){return!y.g(w,e,(function(e,t){return e===t}))&&e!==d})),k=n.useState((function(){if(_)return h.c(_[0])})),S=k[1],C=k[0],R=f.matchCountResult;if(void 0!==R){var I=R;b=I.tag?"":String(c.a(lt.EloRank.getKFactor,I[0]))}else b=String(c.a(lt.EloRank.getKFactor,u));return n.createElement("div",{className:"content-area",style:{margin:"auto",width:"650px"}},n.createElement(Aa,{children:null,to_:2,onClick:function(e){return c.a(f.dirty,0)&&!window.confirm("Discard changes?")?(e.preventDefault(),0):0}},n.createElement(Zn.a,{})," Back"),n.createElement("h2",void 0,"Profile for "+g),n.createElement("form",{onSubmit:function(e){return e.preventDefault(),c.a(f.submit,0)}},n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",type:"text",value:f.input.firstName,onBlur:f.blurFirstName,onChange:c.a(f.updateFirstName,(function(e,t){return{firstName:e.value,lastName:t.lastName,rating:t.rating,matchCount:t.matchCount}}))})),sr(f.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",type:"text",value:f.input.lastName,onBlur:f.blurLastName,onChange:c.a(f.updateLastName,(function(e,t){return{firstName:t.firstName,lastName:e.value,rating:t.rating,matchCount:t.matchCount}}))})),sr(f.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"matchCount"},"Matches played"),n.createElement("input",{name:"matchCount",type:"number",value:f.input.matchCount,onBlur:f.blurMatchCount,onChange:c.a(f.updateMatchCount,(function(e,t){return{firstName:t.firstName,lastName:t.lastName,rating:t.rating,matchCount:e.value}}))})),sr(f.matchCountResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{name:"rating",type:"number",value:f.input.rating,onBlur:f.blurRating,onChange:c.a(f.updateRating,(function(e,t){return{firstName:t.firstName,lastName:t.lastName,rating:e.value,matchCount:t.matchCount}}))})),sr(f.ratingResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"Kfactor"},"K factor"),n.createElement("input",{disabled:!0,name:"kfactor",readOnly:!0,type:"number",value:b})),n.createElement("p",void 0,n.createElement("button",{disabled:f.submitting||!c.a(f.valid,0)},c.a(f.dirty,0)?"Save":"Saved"))),n.createElement("h3",void 0,"Players to avoid"),n.createElement("ul",void 0,N.i(N.n(y.s(w)),(function(e){return n.createElement("li",{key:e},aa(a,e).firstName," ",aa(a,e).lastName,n.createElement("button",{"aria-label":pe.concat(["Remove",[aa(a,e).firstName,[aa(a,e).lastName,["from avoid list.",0]]]]," "),className:"danger button-ghost",title:pe.concat(["Remove",[aa(a,e).firstName,[aa(a,e).lastName,["from avoid list.",0]]]]," "),onClick:function(t){return c.a(o,m.a(1,[[d,e]]))}},n.createElement(jn.a,{})))})),w?null:n.createElement("li",void 0,"None")),n.createElement("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==C){var t,a=h.e(C);if(c.a(o,m.a(0,[[d,a]])),_){var n=_[1],r=_[0];t=r!==a?h.c(r):n?h.c(n[0]):void 0}else t=void 0;return c.a(S,(function(e){return t}))}return 0}},n.createElement("label",{htmlFor:"avoid-select"},"Select a new player to avoid."),void 0!==C?n.createElement(n.Fragment,void 0,n.createElement("select",{id:"avoid-select",value:h.e(C),onBlur:function(e){var t=e.currentTarget.value;return c.a(S,(function(e){return t}))},onChange:function(e){var t=e.currentTarget.value;return c.a(S,(function(e){return t}))}},N.i(y.s(_),(function(e){return n.createElement("option",{key:e,value:e},aa(a,e).firstName," ",aa(a,e).lastName)})))," ",n.createElement("input",{className:"button-micro",type:"submit",value:"Add"})):"No players are available to avoid."))}var vr=function(e){var t=e.id,a=e.windowDispatch,r=da(),i=r.dispatch,o=r.items,l=wt(v.t(o),Xn,!1),s=l[1];n.useEffect((function(){c.a(s,m.a(2,[v.t(o)]))}),[o,s]);var u,d=va(),f=d[1];if(void 0!==t){var g=v.c(o,h.e(t));u=void 0!==g?n.createElement(fr,{player:g,players:o,playersDispatch:i,config:d[0],configDispatch:f,windowDispatch:a}):n.createElement("div",void 0,"Loading...")}else u=n.createElement(mr,{sorted:l[0],sortDispatch:s,players:o,playersDispatch:i,configDispatch:f,windowDispatch:a});return n.createElement(fn,{children:u})},gr=a(120),hr=a(121),br=a(118),pr=a(122),Er=a(30),yr=a(114),Nr=a(115),wr=a(113),_r=a(116),kr=a(117),Sr=a(112),Cr=a(50);function Rr(e){return 8/e}function Ir(e){return 0}var Or=M.sumF([Rr(1),[4,[16,[32,0]]]]);function Dr(e,t){if(e.id===t.id)return 0;var a=y.g(e.opponents,t.id,(function(e,t){return e===t})),n=y.g(e.avoidIds,t.id,(function(e,t){return e===t})),r=e.colors,i=t.colors,o=!r||!i||r[0]!==i[0],c=Math.abs(e.score-t.score)+1,l=u.b(e.halfPos-t.halfPos|0)+1|0,s=e.isUpperHalf!==t.isUpperHalf&&e.score===t.score;return M.sumF([o?4:0,[16/c,[(s?Rr:Ir)(l),[a||n?0:32,0]]]])}function Br(e,t){return L(S.f,(function(e){return e.rating}),e,t)}function Lr(e){var t=v.t(e);return v.l(e,(function(e){var a=function(e){var t=e.length/2|0;return[N.q(e,0,t),N.r(e,t)]}(k.a(N.h(t,(function(t){return t.score===e.score})),Br)),n=function(t){return N.g(t,(function(t){return t===e}))},r=n(a[0]),i=n(a[1]),o=void 0!==r?[r,!0]:void 0!==i?[i,!1]:[0,!1];return{id:e.id,avoidIds:e.avoidIds,colorScores:e.colorScores,colors:e.colors,halfPos:o[0],isUpperHalf:o[1],opponents:e.opponents,rating:e.rating,score:e.score}}))}function Pr(e,t){var a=S.d(e.score,t.score);return 0!==a?a:S.f(e.rating,t.rating)}function Mr(e){var t=e[1],a=e[0];return M.sumF(a.colorScores)<M.sumF(t.colorScores)?[t.id,a.id]:[a.id,t.id]}function Tr(e){return e[0].score+e[1].score}function Fr(e){return e[0].rating+e[1].rating|0}function xr(e,t){var a=S.d(Tr(t),Tr(e));return 0!==a?a:S.f(Fr(t),Fr(e))}function Hr(e,t){var a=t[1],n=t[0],r=e[1],i=e[0];return i===n&&r===a||r===n&&i===a}function Ar(e,t,a,n,r,i,o){var c=v.c(e,t),l=void 0!==c?c:ze(a,t),s=ke(i)?l.resultsNoByes:[r,l.resultsNoByes],u=l.opponentResults,d=v.c(u,i),m=void 0!==d?d+r:r;return{colorScores:[Qe.toScore(o),l.colorScores],colors:[o,l.colors],id:l.id,isDummy:ke(t),opponentResults:v.q(u,i,m),ratings:[n,l.ratings],firstRating:l.firstRating,results:[r,l.results],resultsNoByes:s}}function Wr(e){return N.k(e,Oe.make(0),(function(e,t){if(t.result>=3)return e;var a=Ar(e,t.whiteId,t.whiteOrigRating,t.whiteNewRating,Fe.toFloat(t.result,0),t.blackId,0),n=Ar(e,t.blackId,t.blackOrigRating,t.blackNewRating,Fe.toFloat(t.result,1),t.whiteId,1);return v.q(v.q(e,t.whiteId,a),t.blackId,n)}))}var Kr=a(111);function Qr(e){var t=e.tourney,a=e.setTourney,r=e.players,i=e.playersDispatch,o=t.playerIds,l=function(e){var n=e.target.value;return e.target.checked?c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:[n,o],byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList}):c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:y.h(o,(function(e){return e!==n})),byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})};return n.createElement("div",void 0,n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:y.d(v.j(r)),byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select all"),n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:0,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select none")),n.createElement("table",void 0,n.createElement("caption",void 0,"Select players"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"First name"),n.createElement("th",void 0,"Last name"),n.createElement("th",void 0,"Select"))),n.createElement("tbody",void 0,N.i(v.t(r),(function(e){var t=e.lastName,a=e.id,r=e.firstName;return n.createElement("tr",{key:a},n.createElement("td",void 0,r),n.createElement("td",void 0,t),n.createElement("td",void 0,n.createElement(yt.a,{children:n.createElement("label",{htmlFor:"select-"+a},pe.concat(["Select",[r,[t,0]]]," "))}),n.createElement("input",{id:"select-"+a,checked:y.g(o,a,(function(e,t){return e===t})),type:"checkbox",value:a,onChange:l})))})))),n.createElement(dr,{dispatch:i,addPlayerCallback:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:[e,o],byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}}))}var Jr=Qr;function zr(e,t){return e.filter((function(e){return[e.whiteId,e.blackId].includes(t)})).reduce((function(e,t){return e.concat([t.whiteId,t.blackId])}),[]).includes(_e)}function Vr(e){var t=e.players,a=e.tourney,r=e.setTourney,o=e.byeQueue;return n.createElement(n.Fragment,void 0,N.i(v.t(t),(function(e){return n.createElement("tr",{key:e.id,className:i.c([Xt.toString(e.type_),["player",0]])},n.createElement("td",void 0,e.firstName),n.createElement("td",void 0,e.lastName),n.createElement("td",void 0,n.createElement("button",{className:"button-micro",disabled:o.includes(e.id),onClick:function(t){return c.a(r,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:N.b(o,[e.id]),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Bye signup")))})))}var Ur=function(e){var t=e.tournament,a=t.tourney,r=a.byeQueue,o=a.playerIds,l=t.setTourney,s=t.activePlayers,u=n.useState((function(){return!o})),d=u[1],m=At(a.roundList,void 0);return n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{onClick:function(e){return c.a(d,(function(e){return!0}))}},n.createElement(Kr.a,{})," Edit player roster")),n.createElement(U,{children:null},n.createElement(V,{children:n.createElement("table",void 0,n.createElement("caption",void 0,"Current roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{colSpan:2},"Name"),n.createElement("th",void 0,"Options"))),n.createElement("tbody",{className:"content"},n.createElement(Vr,{players:s,tourney:a,setTourney:l,byeQueue:r}))),style:{flexShrink:"0"}}),n.createElement(V,{children:null},n.createElement("h3",void 0,"Bye queue"),0===r.length?n.createElement("p",void 0,"No players have signed up for a bye round."):null,n.createElement("ol",void 0,N.i(r,(function(e){return n.createElement("li",{key:e,className:i.c(["buttons-on-hover",[i.b("disabled",zr(m,e)),0]])},pe.concat([v.d(s,e).firstName,[v.d(s,e).lastName,0]]," ")," ",n.createElement("button",{className:"button-micro",onClick:function(t){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:r.filter((function(t){return e!==t})),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Remove"))})))),n.createElement(Za,{isOpen:u[0],onDismiss:function(e){return c.a(d,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return c.a(d,(function(e){return!1}))}},"Done"),n.createElement(Qr,{tourney:a,setTourney:l,players:t.players,playersDispatch:t.playersDispatch}))))};function Gr(e,t,a,n){var r=v.i(e,(function(e,t){return v.g(a,e)})),i=function(e,t,a){if(v.r(a)%2===0)return[a,void 0];var n,r=y.q(y.h(y.d(v.t(a)),(function(e){return!y.g(e.opponents,t,(function(e,t){return e===t}))})),Pr),i=y.k(r,(function(e){return e.id})),o=y.h(y.d(e),(function(e){return y.g(i,e,(function(e,t){return e===t}))}));if(o){var c=v.c(a,o[0]);n=void 0!==c?c:y.f(r,0)}else n=r?r[0]:y.f(y.q(y.d(v.t(a)),Pr),0);return[v.o(a,n.id),n]}(n,_e,r),o=i[1],c=function(e){return y.k(y.q(y.i(Cr.b(Cr.a.make(void 0,v.m(e,0,(function(t,a,n){return v.m(e,t,(function(e,t,r){return[[a,t,Dr(n,r)],e]}))}))),0,(function(e,t,a){return y.g(e,[t,a],Hr)?e:[[t,a],e]})),(function(t){var a=v.c(e,t[0]),n=v.c(e,t[1]);if(void 0!==a&&void 0!==n)return[a,n]})),xr),Mr)}(i[0]),l=void 0!==o?y.n(y.a(y.n(c),[o.id,_e])):c;return y.k(l,(function(e){var n=e[1],r=e[0];return We({id:Se(),whiteId:r,blackId:n,whiteNewRating:aa(a,r).rating,blackNewRating:aa(a,n).rating,whiteOrigRating:aa(a,r).rating,blackOrigRating:aa(a,n).rating,result:3},t)}))}var qr=m.a(0,[function(e){return e.player.firstName}]),jr=m.a(2,[function(e){return e.ideal}]);function Zr(e){var t=e.pairData,a=e.stagedPlayers,r=e.setStagedPlayers,i=e.unmatched,o=a[1],l=a[0],s=wt(N.i(v.t(i),(function(e){return{player:e,ideal:0}})),qr,!1),u=s[1],d=s[0],f=l!==o&&(void 0===l||void 0===o),g=function(e){var t=a[0];if(void 0!==t)return void 0===a[1]&&h.e(t)!==e;var n=a[1];return void 0===n||h.e(n)!==e};return n.useEffect((function(e){var n=function(e){var n,r=a[0];if(void 0!==r)n=void 0!==a[1]?void 0:h.c(h.e(r));else{var i=a[1];n=void 0!==i?h.c(h.e(i)):void 0}if(void 0!==n){var o=v.c(t,h.e(n));return void 0!==o&&void 0!==e?Dr(o,e)/Or:0}return 0},r=N.i(v.t(i),(function(e){return{player:e,ideal:n(v.c(t,e.id))}}));c.a(u,m.a(2,[r]))}),[i,t,u,a]),0===v.r(i)?null:n.createElement("table",{className:"content"},n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(yt.a,{children:"Controls"})),n.createElement("th",void 0,n.createElement(_t,{children:"Name",sortColumn:qr,data:d,dispatch:u})),n.createElement("th",void 0,n.createElement(_t,{children:"Ideal",sortColumn:jr,data:d,dispatch:u})))),n.createElement("tbody",void 0,N.i(d.table,(function(e){var t=e.player;return n.createElement("tr",{key:t.id},n.createElement("td",void 0,n.createElement("button",{className:"button-ghost",disabled:!g(t.id),onClick:function(e){var n=t.id,i=a[0];if(void 0!==i){if(void 0!==a[1])return 0;var o=h.e(i);return c.a(r,(function(e){return[h.c(o),h.c(n)]}))}var l=a[1];if(void 0!==l){var s=h.e(l);return c.a(r,(function(e){return[h.c(n),h.c(s)]}))}return c.a(r,(function(e){return[h.c(n),void 0]}))}},n.createElement(qn.a,{}),n.createElement(yt.a,{children:pe.concat(["Add",[t.firstName,[t.lastName,0]]]," ")}))),n.createElement("td",void 0,t.firstName+" "+t.lastName),n.createElement("td",void 0,f?E.a(e.ideal).format("%"):"-"))}))))}function Yr(e){var t,a,r=e.getPlayer,i=e.pairData,o=e.roundId,l=e.stagedPlayers,s=e.setStagedPlayers,u=e.setTourney,d=e.byeValue,m=e.tourney,f=e.round,g=m.roundList,b=l[1],p=l[0],y=void 0===l[0]&&void 0===l[1],N=void 0!==l[0]&&void 0!==l[1];if(void 0!==p){var w=h.e(p);t=c.a(r,w).firstName+" "+c.a(r,w).lastName}else t="";if(void 0!==b){var _=h.e(b);a=c.a(r,_).firstName+" "+c.a(r,_).lastName}else a="";var k,S=function(e){return e?c.a(s,(function(e){return[e[0],void 0]})):c.a(s,(function(e){return[void 0,e[1]]}))},C=l[0];if(void 0!==C){var I=l[1];if(void 0!==I){var O=v.c(i,h.e(C)),D=v.c(i,h.e(I));if(void 0!==O&&void 0!==D){var B=Dr(O,D);k=E.a(B/Or).format("%")}else k=""}else k=""}else k="";return n.createElement("div",void 0,n.createElement("h2",void 0,"Selected for matching:"),n.createElement("div",{className:"content"},n.createElement("p",void 0,"White: ",void 0!==p?n.createElement(n.Fragment,void 0,t+" ",n.createElement("button",{"aria-label":"remove "+t,className:"button-micro",onClick:function(e){return S(0)}},n.createElement(Sr.a,{})," Remove")):null),n.createElement("p",void 0,"Black: ",void 0!==b?n.createElement(n.Fragment,void 0,a+" ",n.createElement("button",{"aria-label":"remove "+a,className:"button-micro",onClick:function(e){return S(1)}},n.createElement(Sr.a,{})," Remove")):null),n.createElement("p",void 0,"Match ideal: "+k)),n.createElement("div",{className:"toolbar"},n.createElement("button",{disabled:y,onClick:function(e){return c.a(s,(function(e){return[e[1],e[0]]}))}},n.createElement(wr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-primary",disabled:!N,onClick:function(e){var t=l[0];if(void 0!==t){var a=l[1];if(void 0!==a){var n=c.b(Lt.addMatches,f,[Ke([c.a(r,h.e(t)),c.a(r,h.e(a))],d)]),i=xt(g,o,n);return void 0!==i&&c.a(u,{id:m.id,name:m.name,date:m.date,playerIds:m.playerIds,byeQueue:m.byeQueue,tieBreaks:m.tieBreaks,roundList:h.e(i)}),c.a(s,(function(e){return[void 0,void 0]}))}return 0}return 0}},n.createElement(R.a,{})," Match selected")))}function Xr(e){var t=e.player,a=e.scoreData,r=e.players,i=e.avoidPairs,o=e.origRating,c=e.newRating,l=e.getPlayer,s=St(t,a,h.c(i),l,r,o,c),u=s.player,d=u.firstName+" "+u.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,d),n.createElement("p",void 0,"Score: ",s.score.toString()),n.createElement("p",{id:"rating-"+u.id},"Rating: ",s.rating),n.createElement("p",void 0,"Color balance: "+s.colorBalance),n.createElement("p",void 0,"Has had a bye round: "+(s.hasBye?"Yes":"No")),n.createElement("p",void 0,"Opponent history:"),n.createElement("ol",void 0,s.opponentResults),n.createElement("p",void 0,"Players to avoid:"),s.avoidListHtml)}var $r=function(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=e.unmatched,o=e.unmatchedCount,l=e.unmatchedWithDummy,s=n.useState((function(){return[void 0,void 0]})),u=s[0],d=u[1],m=u[0],f=s[1],g=va(),b=a.tourney,p=b.roundList,E=b.byeQueue,w=a.setTourney,_=a.players,k=a.getPlayer,S=a.activePlayers,C=g[0],R=C.byeValue,I=C.avoidPairs,O=zt(p,t),D=n.useState((function(){return!1})),B=D[1],L=n.useMemo((function(){return Lr(function(e,t,a){var n=Et.toMap(a);return v.m(t,Oe.make(0),(function(t,a,r){var i=v.c(e,a),o=void 0!==i?i:ze(void 0,a),c=v.c(n,a),l=void 0!==c?c:0,s={id:r.id,avoidIds:l,colorScores:o.colorScores,colors:o.colors,halfPos:0,isUpperHalf:!1,opponents:y.d(v.j(o.opponentResults)),rating:r.rating,score:M.sumF(o.results)};return v.q(t,a,s)}))}(r,S,I))}),[S,I,r]);if(n.useEffect((function(e){void 0!==m&&(void 0===v.c(l,h.e(m))&&c.a(f,(function(e){return[void 0,e[1]]})));void 0!==d&&(void 0===v.c(l,h.e(d))&&c.a(f,(function(e){return[e[0],void 0]})))}),[l,m,d,f]),void 0!==O){var P=h.e(O);return n.createElement("div",{className:"content-area",style:{width:"720px"}},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-primary",disabled:0===o,onClick:function(e){var a=P,n=c.b(Lt.addMatches,a,y.s(Gr(L,R,i,E))),r=xt(p,t,n);return void 0!==r?c.a(w,{id:b.id,name:b.name,date:b.date,playerIds:b.playerIds,byeQueue:b.byeQueue,tieBreaks:b.tieBreaks,roundList:h.e(r)}):0}},"Auto-pair unmatched players")," ",n.createElement("button",{onClick:function(e){return c.a(B,(function(e){return!0}))}},"Add or remove players from the roster.")),n.createElement(U,{children:null},n.createElement(V,{children:n.createElement(Zr,{pairData:L,stagedPlayers:u,setStagedPlayers:f,unmatched:l})}),n.createElement(V,{children:null,style:{flexGrow:"1"}},n.createElement(Yr,{getPlayer:k,pairData:L,roundId:t,stagedPlayers:u,setStagedPlayers:f,setTourney:w,byeValue:R,tourney:b,round:P}),n.createElement(U,{children:N.i([m,d],(function(e){if(void 0!==e){var t=h.e(e);return n.createElement(V,{children:n.createElement(Xr,{player:c.a(k,t),scoreData:r,players:_,avoidPairs:I,origRating:c.a(k,t).rating,newRating:void 0,getPlayer:k}),key:t})}return null}))}))),n.createElement(Za,{isOpen:D[0],onDismiss:function(e){return c.a(B,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(B,(function(e){return!1}))}},"Done"),n.createElement(Jr,{tourney:b,setTourney:w,players:_,playersDispatch:a.playersDispatch})))}return n.createElement("div",void 0,"No round available.")};function ei(e){var t,a=Math.ceil((t=e,Math.log(t)/Math.log(2)));return a!==u.e?0|a:0}var ti={id:Se(),name:"",date:new Date(0),playerIds:0,byeQueue:[],tieBreaks:[0],roundList:Pt};function ai(e,t){return t}var ni=function(e){var t=e.children,a=e.tourneyId,r=e.windowDispatch,i=n.useReducer(ai,ti),o=i[0],l=o.roundList,s=o.playerIds,u=o.name,d=i[1],g=da(),h=g.loaded,b=g.items,p=n.useState((function(){return 0})),E=p[1],N=p[0];switch(kt(0!==N&&h),n.useEffect((function(){return c.a(r,m.a(5,[u])),function(e){return c.a(r,m.a(5,[""]))}}),[u,r]),n.useEffect((function(){var e={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(Ct.b(la,a))),(function(t){return e.contents?0:void 0!==t?(c.a(d,t),c.a(E,(function(e){return 1}))):c.a(E,(function(e){return 2}))})),(function(t){return e.contents?0:c.a(E,(function(e){return 2}))})),function(t){return e.contents=!0,0}}),[a]),n.useEffect((function(e){1===N&&a===o.id&&Ct.f(la,a,o)}),[N,a,o]),N){case 0:break;case 1:if(h){var w=v.i(b,(function(e,t){return y.g(s,e,(function(e,t){return e===t}))})),_=ei(v.r(w)),k=Tt(l)>=_,S=0===Tt(l)||Wt(l,w,Tt(l)-1|0);return c.a(t,{activePlayers:w,getPlayer:function(e){return aa(b,e)},isItOver:k,isNewRoundReady:S,players:b,playersDispatch:g.dispatch,roundCount:_,tourney:o,setTourney:d})}break;case 2:return n.createElement(fn,{children:"Error: tournament couldn't be loaded."})}return n.createElement(fn,{children:"Loading..."})},ri=c.a(o.K,[o.O([-119887163,100]),[o.s([22632,1]),0]]),ii=c.a(o.K,[o.O([-119887163,100]),[o.J(" tr:not(:last-of-type)",[o.d(12956715),[o.i([25096,1]),[o.f(ie),0]]]),0]]),oi=c.a(o.K,[o.G([25096,8],[25096,4]),0]),ci=c.a(o.K,[o.O([25096,20]),[o.F([25096,4]),[o.L(98248149),0]]]),li=c.a(o.K,[o.O([25096,72]),0]),si=c.a(o.K,[o.O([25096,140]),0]),ui=c.a(o.K,[o.O([25096,32]),[o.L(98248149),0]]);function di(e){var t=e.player,a=e.origRating,r=e.newRating,i=e.getPlayer,o=St(t,e.scoreData,void 0,i,e.players,a,r),c=o.player,l=c.firstName+" "+c.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,l),n.createElement("dt",void 0,"Score"),n.createElement("dd",void 0,o.score.toString()),n.createElement("dt",void 0,"Rating"),n.createElement(ge,{children:n.createElement("dd",{"aria-label":"Rating for "+l},o.rating),testId:"rating-"+c.id}),n.createElement("dt",void 0,"Color balance"),n.createElement("dd",void 0,o.colorBalance),n.createElement("dt",void 0,"Has had a bye round"),n.createElement("dd",void 0,o.hasBye?"Yes":"No"),n.createElement("dt",void 0,"Opponent history"),n.createElement("dd",void 0,n.createElement("ol",void 0,o.opponentResults)),n.createElement("p",void 0,"Players to avoid:"),o.avoidListHtml)}function mi(e){var t,a=e.isCompact,r=e.pos,l=e.m,s=e.roundId,u=e.selectedMatch,f=e.setSelectedMatch,g=e.scoreData,b=e.tournament,p=e.className,E=void 0!==a&&a,y=void 0!==p?p:"",N=b.tourney,w=N.roundList,_=b.setTourney,k=b.playersDispatch,S=b.players,C=b.getPlayer,R=n.useState((function(){return!1})),I=R[1],D=c.a(C,l.whiteId),B=c.a(C,l.blackId),L=ke(l.whiteId)||ke(l.blackId),P=pe.concat([D.firstName,[D.lastName,0]]," "),M=pe.concat([B.firstName,[B.lastName,0]]," "),T=function(e){var t=n.createElement(La.a,{className:c.a(o.K,[o.k(te),0])}),a=n.createElement(yt.a,{children:"Lost"});switch(l.result){case 0:return e?a:t;case 1:return e?t:a;case 2:return n.createElement("span",{"aria-label":"Draw",role:"img",style:{filter:"grayscale(70%)"}},"\ud83e\udd1d");case 3:return n.createElement(yt.a,{children:"Not set"})}},F=function(e){var t=Fe.fromString(e);if(l.result!==t){var a=v.d(S,l.whiteId),n=v.d(S,l.blackId),r=t>=3?[l.whiteOrigRating,l.blackOrigRating]:lt.calcNewRatings(l.whiteOrigRating,l.blackOrigRating,a.matchCount,n.matchCount,t),i=r[1],o=r[0],u=a.firstName,f=a.id,g=a.lastName,h=a.matchCount,b=a.type_,p={firstName:u,id:f,lastName:g,matchCount:h,rating:o,type_:b},E=n.firstName,y=n.id,C=n.lastName,R=n.matchCount,I=n.type_,O={firstName:E,id:y,lastName:C,matchCount:R,rating:i,type_:I};l.result>=3?(c.a(k,m.a(1,[f,{firstName:u,id:f,lastName:g,matchCount:h+1|0,rating:o,type_:b}])),c.a(k,m.a(1,[y,{firstName:E,id:y,lastName:C,matchCount:R+1|0,rating:i,type_:I}]))):3===t?(c.a(k,m.a(1,[f,{firstName:u,id:f,lastName:g,matchCount:h-1|0,rating:o,type_:b}])),c.a(k,m.a(1,[y,{firstName:E,id:y,lastName:C,matchCount:R-1|0,rating:i,type_:I}]))):(c.a(k,m.a(1,[f,p])),c.a(k,m.a(1,[y,O])));var D={id:l.id,whiteId:l.whiteId,blackId:l.blackId,whiteNewRating:o,blackNewRating:i,whiteOrigRating:l.whiteOrigRating,blackOrigRating:l.blackOrigRating,result:t};return d.e(Ht(w,s,D),(function(e){return c.a(_,{id:N.id,name:N.name,date:N.date,playerIds:N.playerIds,byeQueue:N.byeQueue,tieBreaks:N.tieBreaks,roundList:e})})),0}return 0};if(E||void 0===f)t=null;else{var x,H=f;if(void 0!==g){var A=h.e(g);x=n.createElement(Za,{isOpen:R[0],onDismiss:function(e){return c.a(I,(function(e){return!1}))},ariaLabel:"Match information",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return c.a(I,(function(e){return!1}))}},"close"),n.createElement("p",void 0,N.name),n.createElement("p",void 0,pe.concat(["Round",[(s+1|0).toString(),["match",[(r+1|0).toString(),0]]]]," ")),n.createElement(U,{children:null},n.createElement(V,{children:n.createElement(di,{player:c.a(C,l.whiteId),origRating:l.whiteOrigRating,newRating:l.whiteNewRating,getPlayer:C,scoreData:A,players:S})}),n.createElement(V,{children:n.createElement(di,{player:c.a(C,l.blackId),origRating:l.blackOrigRating,newRating:l.blackNewRating,getPlayer:C,scoreData:A,players:S})})))}else x=null;t=n.createElement("td",{className:i.c([li,["data__input",0]])},d.g(u,!0,(function(e){return e!==l.id}))?n.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(e){return c.a(H,(function(e){return h.c(l.id)}))}},n.createElement(yr.a,{}),n.createElement(yt.a,{children:pe.concat(["Edit match for",[P,["versus",[M,0]]]]," ")})):n.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(e){return c.a(H,(function(e){}))}},n.createElement(Nr.a,{})),n.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(e){return c.a(I,(function(e){return!0}))}},n.createElement(O.a,{}),n.createElement(yt.a,{children:pe.concat(["View information for match:",[P,["versus",[M,0]]]]," ")})),x)}return n.createElement("tr",{className:i.c([y,[d.g(u,"",(function(e){return l.id===e?"selected":"buttons-on-hover"})),0]])},n.createElement("th",{className:i.c([ci,["table__number",0]]),scope:"row"},String(r+1|0)),n.createElement("td",{className:ui},T(0)),n.createElement(ge,{children:n.createElement("td",{className:i.c(["table__player row__player",[Xt.toString(D.type_),0]]),id:"match-"+String(r)+"-white"},P),testId:"match-"+String(r)+"-white"}),n.createElement("td",{className:ui},T(1)),n.createElement(ge,{children:n.createElement("td",{className:i.c(["table__player row__player",[Xt.toString(B.type_),0]]),id:"match-"+String(r)+"-black"},M),testId:"match-"+String(r)+"-black"}),n.createElement("td",{className:i.c([si,["data__input row__controls",0]])},n.createElement("select",{className:ri,disabled:L,value:Fe.toString(l.result),onBlur:function(e){return F(e.target.value)},onChange:function(e){return F(e.target.value)}},n.createElement("option",{value:Fe.toString(3)},"Select winner"),n.createElement("option",{value:Fe.toString(0)},"White won"),n.createElement("option",{value:Fe.toString(1)},"Black won"),n.createElement("option",{value:Fe.toString(2)},"Draw"))),t)}function fi(e){var t=e.isCompact,a=e.roundId,r=e.matches,i=e.selectedMatch,o=e.setSelectedMatch,c=e.tournament,l=e.scoreData,s=void 0!==t&&t;return n.createElement("table",{className:ii},0===r.length?null:n.createElement(n.Fragment,void 0,n.createElement("caption",{className:s?"title-30":"title-40"},"Round ",(a+1|0).toString()),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{className:ci,scope:"col"},"#"),n.createElement("th",{scope:"col"},n.createElement(yt.a,{children:"White result"})),n.createElement("th",{className:"row__player",scope:"col"},"White"),n.createElement("th",{scope:"col"},n.createElement(yt.a,{children:"Black result"})),n.createElement("th",{className:"row__player",scope:"col"},"Black"),n.createElement("th",{className:"row__result",scope:"col"},"Match result"),s?null:n.createElement("th",{className:"row__controls",scope:"col"},n.createElement(yt.a,{children:"Controls"}))))),n.createElement("tbody",{className:"content"},N.j(r,(function(e,t){var r={isCompact:s,pos:e,m:t,roundId:a,setSelectedMatch:o,scoreData:l,tournament:c,className:oi,key:t.id};return void 0!==i&&(r.selectedMatch=h.e(i)),n.createElement(mi,r)}))))}var vi=fi;function gi(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=a.tourney,o=i.roundList,l=a.setTourney,s=a.playersDispatch,u=a.players,f=n.useState((function(){})),g=f[1],b=f[0],p=function(e,a,n){var r=Lt.moveMatch(n,e,a);if(void 0!==r){var s=xt(o,t,h.e(r));return void 0!==s?c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:h.e(s)}):0}return 0},E=zt(i.roundList,t);if(void 0!==E){var N=h.e(E),w={roundId:t,matches:N,setSelectedMatch:g,tournament:a,scoreData:r};return void 0!==b&&(w.selectedMatch=h.e(b)),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===b,onClick:function(e){return d.e(b,(function(e){var a=e,n=N,r=Lt.getMatchById(n,a);if(void 0!==r){var d=r;3!==d.result&&y.b([[d.whiteId,d.whiteOrigRating],[[d.blackId,d.blackOrigRating],0]],(function(e){var t=v.c(u,e[0]);if(void 0!==t){var a=t;return c.a(s,m.a(1,[a.id,{firstName:a.firstName,id:a.id,lastName:a.lastName,matchCount:a.matchCount-1|0,rating:e[1],type_:a.type_}]))}return 0}))}var f=Lt.removeMatchById(n,a),b=xt(o,t,f);return void 0!==b&&c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:h.e(b)}),c.a(g,(function(e){}))})),0}},n.createElement(jn.a,{})," Unmatch")," ",n.createElement("button",{className:"button-micro",disabled:void 0===b,onClick:function(e){return d.e(b,(function(e){var a=e,n=N,r=Lt.getMatchById(n,a);if(void 0!==r){var s=function(e){var t;switch(e.result){case 0:t=1;break;case 1:t=0;break;case 2:t=2;break;case 3:t=3}return{id:e.id,whiteId:e.blackId,blackId:e.whiteId,whiteNewRating:e.blackNewRating,blackNewRating:e.whiteNewRating,whiteOrigRating:e.blackOrigRating,blackOrigRating:e.whiteOrigRating,result:t}}(r);return d.e(Ht(o,t,s),(function(e){return c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:e})})),0}return 0})),0}},n.createElement(wr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-micro",disabled:void 0===b,onClick:function(e){return d.e(b,(function(e){return p(e,-1,N)})),0}},n.createElement(_r.a,{})," Move up")," ",n.createElement("button",{className:"button-micro",disabled:void 0===b,onClick:function(e){return d.e(b,(function(e){return p(e,1,N)})),0}},n.createElement(kr.a,{})," Move down")),0===Lt.size(N)?n.createElement("p",void 0,"No players matched yet."):null,n.createElement(fi,w))}return n.createElement(Rn,{})}var hi=function(e){var t=e.roundId,a=e.tournament,r=function(e,t){var a,r=t.tourney.roundList,i=t.activePlayers,o=n.useMemo((function(){return Wr(At(r,void 0))}),[r]),l=zt(r,e),s=e===Ft(r);if(void 0!==l&&s){var u=Lt.getMatched(h.e(l));a=v.p(i,u)}else a=Oe.make(0);var d=v.r(a),m=d%2!==0?v.q(a,_e,c.a(t.getPlayer,_e)):a;return{activePlayersCount:v.r(i),scoreData:o,unmatched:a,unmatchedCount:d,unmatchedWithDummy:m}}(t,a),i=r.unmatchedCount,o=r.scoreData,l=r.activePlayersCount,s=i===l?1:0,u=n.useState((function(){return s})),d=u[1];return n.useEffect((function(e){i===l&&c.a(d,(function(e){return 1})),0===i&&c.a(d,(function(e){return 0}))}),[i,l,d]),n.createElement(Er.e,{index:u[0],onChange:function(e){return c.a(d,(function(t){return e}))},children:null},n.createElement(Er.b,{children:null},n.createElement(Er.a,{disabled:i===l,children:null},n.createElement(br.a,{})," Matches"),n.createElement(Er.a,{disabled:0===i,children:null},n.createElement(Pa.a,{}),pe.concat([" Unmatched players (",[i.toString(),[")",0]]],""))),n.createElement(Er.d,{children:null},n.createElement(Er.c,{children:n.createElement(gi,{roundId:t,tournament:a,scoreData:o})}),n.createElement(Er.c,{children:n.createElement("div",void 0,0!==i?n.createElement($r,{roundId:t,tournament:a,scoreData:o,unmatched:r.unmatched,unmatchedCount:i,unmatchedWithDummy:r.unmatchedWithDummy}):null)})))},bi=a(66);function pi(e){var t=e.getFullYear().toString(),a=e.getMonth(),n=e.getDate(),r=a<9?"0"+(a+1).toString():(a+1).toString(),i=n<10?"0"+n.toString():n.toString();return pe.concat([t,[r,[i,0]]],"-")}var Ei=function(e){var t=e.tournament,a=t.tourney,r=a.roundList,i=a.date,o=a.name,l=t.setTourney,s=n.useState((function(){return 2})),u=s[1],m=s[0],f=n.useRef(null),v=n.useRef(null),g=function(e){return d.e(d.a(h.b(e.current),bi.a),(function(e){return e.focus(),0})),0};return n.useEffect((function(){switch(m){case 0:g(f);break;case 1:g(v)}}),[m]),n.createElement("div",{className:"content-area"},0!==m?n.createElement("h1",{style:{textAlign:"left"}},n.createElement("span",{className:"inputPlaceholder"},o)," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(u,(function(e){return 0}))}},n.createElement(Kr.a,{}),n.createElement(yt.a,{children:"Edit name"}))):n.createElement("form",{className:"display-20",style:{textAlign:"left"},onSubmit:function(e){return c.a(u,(function(e){return 2}))}},n.createElement("input",{ref:f,className:"display-20",style:{textAlign:"left"},type:"text",value:o,onChange:function(e){return c.a(l,{id:a.id,name:e.currentTarget.value,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(u,(function(e){return 2}))}},n.createElement(R.a,{}))),1!==m?n.createElement("p",{className:"caption-30"},n.createElement(W,{date:i})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(u,(function(e){return 1}))}},n.createElement(Kr.a,{}),n.createElement(yt.a,{children:"Edit date"}))):n.createElement("form",{className:"caption-30",onSubmit:function(e){return c.a(u,(function(e){return 2}))}},n.createElement("input",{ref:v,className:"caption-30",type:"date",value:pi(i),onChange:function(e){var t,n=e.currentTarget.value,r=pe.split(n,"-");3!==r.length?t=["2000","01","01"]:t=[r[0],r[1],r[2]];var i=Number(t[0]),o=Number(t[1])-1,s=Number(t[2]);return c.a(l,{id:a.id,name:a.name,date:new Date(i,o,s),playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(u,(function(e){return 2}))}},n.createElement(R.a,{}))),n.createElement("h2",void 0,"Change bye scores"),n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Jt(r,0)}),T("Bye scores updated to 1.")}},"Change byes to 1")," ",n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Jt(r,1)}),T("Bye scores updated to \xbd.")}},"Change byes to \xbd"),n.createElement("p",{className:"caption-30",id:"score-desc"},"This will update all bye matches which have been previously\n          scored in this tournament. To change the default bye value in\n          future matches, go to the ",n.createElement(Aa,{children:"app options",to_:4}),"."))},yi=a(119),Ni=c.a(o.K,[o.e(-996847251),[o.M("width","min-content"),0]]),wi=c.a(o.K,[o.N(-445061397),0]),_i=c.a(o.K,0),ki=c.a(o.K,[o.J(":nth-of-type(even)",[o.c(le),0]),[o.J(":nth-of-type(odd)",[o.c(re),0]),0]]),Si=c.a(o.K,[o.i([25096,1]),[o.f(ie),[o.h(12956715),0]]]),Ci=c.a(o.K,[o.d(12956715),[o.i([25096,1]),[o.f(ie),[o.c(le),0]]]]),Ri=c.a(o.K,[o.L(-944764921),[o.k(oe),0]]),Ii=c.a(o.K,[o.L(98248149),[o.k(oe),0]]),Oi=c.a(o.K,[o.F([25096,4]),0]);function Di(e){var t=e.isCompact,a=e.tourney,r=e.getPlayer,o=e.title,l=void 0!==t&&t,s=a.tieBreaks,u=N.i(s,ct.toPrettyString),d=at(y.h(tt(Wr(At(a.roundList,void 0)),s),(function(e){return!ke(e.id)})));return n.createElement("table",{className:i.c([Ni,[i.b(_i,l),0]])},n.createElement("caption",{className:i.c([i.b("title-30",l),[i.b("title-40",!l),0]])},o),n.createElement("thead",void 0,n.createElement("tr",{className:wi},n.createElement("th",{className:"title-10",scope:"col"},"Rank"),n.createElement("th",{className:"title-10",scope:"col"},"Name"),n.createElement("th",{className:"title-10",scope:"col"},"Score"),l?null:N.j(u,(function(e,t){return n.createElement("th",{key:String(e),className:"title-10",scope:"col"},t)})))),n.createElement("tbody",void 0,N.j(N.n(y.s(d)),(function(e,t){return N.j(N.n(y.s(t)),(function(a,o){return n.createElement("tr",{key:o.id,className:ki},0===a?n.createElement("th",{className:i.c(["table__number",[Oi,[Ii,[Ci,0]]]]),rowSpan:y.p(t),scope:"row"},String(e+1|0)):null,l?n.createElement("td",{className:i.c([Si,[Ri,0]])},c.a(r,o.id).firstName,x,c.a(r,o.id).lastName):n.createElement("th",{className:i.c([Ci,[Ri,0]]),scope:"row"},c.a(r,o.id).firstName,x,c.a(r,o.id).lastName),n.createElement("td",{className:i.c([Oi,[Si,["table__number",0]]])},E.a(o.score).format("1/2")),l?null:N.i(y.s(o.tieBreaks),(function(e){return n.createElement("td",{key:ct.toString(e[0]),className:i.c([Si,["table__number",0]])},E.a(e[1]).format("1/2"))})))}))}))))}var Bi=Di;function Li(e){var t=e.tourney,a=e.setTourney,r=t.tieBreaks,o=n.useState((function(){})),l=o[1],s=o[0],u=function(e){return void 0!==e?e:void 0!==s?s:0},d=function(e){return r.includes(u(e))?(c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.filter((function(t){return u(e)!==t})),roundList:t.roundList}),c.a(l,(function(e){}))):c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.concat([u(e)]),roundList:t.roundList})},m=function(e){if(void 0!==s){var n=r.indexOf(s);return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:P.swap(t.tieBreaks,n,n+e|0),roundList:t.roundList})}return 0};return n.createElement(U,{children:null,className:"content-area"},n.createElement(V,{children:null},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===s,onClick:function(e){return d(void 0)}},"Toggle"),n.createElement("button",{className:"button-micro",disabled:void 0===s,onClick:function(e){return m(-1)}},n.createElement(_r.a,{})," Move up"),n.createElement("button",{className:"button-micro",disabled:void 0===s,onClick:function(e){return m(1)}},n.createElement(kr.a,{})," Move down"),n.createElement("button",{className:i.c(["button-micro",[i.a("button-primary",s),0]]),disabled:void 0===s,onClick:function(e){return c.a(l,(function(e){}))}},"Done")),n.createElement("table",void 0,n.createElement("caption",{className:"title-30"},"Selected tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(yt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},N.i(r,(function(e){return n.createElement("tr",{key:ct.toString(e),className:i.c([i.b("selected",s===e),0])},n.createElement("td",void 0,ct.toPrettyString(e)),n.createElement("td",{style:{width:"48px"}},n.createElement("button",{className:"button-micro",disabled:void 0!==s&&s!==e,onClick:function(t){return void 0!==s&&s===e?c.a(l,(function(e){})):c.a(l,(function(t){return e}))}},void 0!==s&&s===e?"Done":"Edit")))}))))),n.createElement(V,{children:null},n.createElement("div",{className:"toolbar"},x),n.createElement("table",{style:{marginTop:"16px"}},n.createElement("caption",{className:"title-30"},"Available tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(yt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},N.i([0,1,2,3,4],(function(e){return n.createElement("tr",{key:ct.toString(e)},n.createElement("td",void 0,n.createElement("span",{className:r.includes(e)?"disabled":"enabled"},ct.toPrettyString(e))),n.createElement("td",void 0,r.includes(e)?null:n.createElement("button",{className:"button-micro",onClick:function(t){return d(e)}},"Add")))}))))))}var Pi=function(e){var t=e.tournament,a=t.tourney;return n.createElement(Er.e,{children:null},n.createElement(Er.b,{children:null},n.createElement(Er.a,{children:null},n.createElement(br.a,{})," Scores"),n.createElement(Er.a,{children:null},n.createElement(Ma.a,{})," Edit tiebreak rules")),n.createElement(Er.d,{children:null},n.createElement(Er.c,{children:n.createElement(Di,{tourney:a,getPlayer:t.getPlayer,title:"Score detail"})}),n.createElement(Er.c,{children:n.createElement(Li,{tourney:a,setTourney:t.setTourney})})))},Mi=function(e){var t=e.tournament,a=t.tourney,r=t.getPlayer,o=Wr(At(a.roundList,void 0)),l=tt(o,a.tieBreaks);return n.createElement("table",{className:Ni},n.createElement("caption",void 0,"Crosstable"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"#"),n.createElement("th",void 0,"Name"),N.j(y.s(l),(function(e,t){return n.createElement("th",{key:String(e)},String(e+1|0))})),n.createElement("th",void 0,"Score"),n.createElement("th",{colSpan:2},"Rating"))),n.createElement("tbody",void 0,N.j(y.s(l),(function(e,t){return n.createElement("tr",{key:String(e),className:ki},n.createElement("th",{className:i.c([Ci,[Ii,0]]),scope:"col"},String(e+1|0)),n.createElement("th",{className:i.c([Ci,[Ri,0]]),scope:"row"},c.a(r,t.id).firstName,x,c.a(r,t.id).lastName),N.j(y.s(l),(function(e,a){return n.createElement("td",{key:String(e),className:i.c([Si,["table__number",0]])},function(e,t,a){if(t===a)return n.createElement(yi.a,{className:"disabled"});var r=v.c(e,t);if(void 0!==r){var i=v.c(r.opponentResults,a);return void 0!==i?E.a(i).format("1/2"):null}return null}(o,t.id,a.id))})),n.createElement("td",{className:i.c([Si,["table__number",0]])},E.a(t.score).format("1/2")),function(e,t){var a=v.d(e,t).firstRating,r=v.d(e,t).ratings,o=r?r[0]:a,c=E.a(o-a|0).format("+0");return n.createElement(n.Fragment,void 0,n.createElement("td",{className:i.c([Si,["table__number",0]])},o.toString()),n.createElement("td",{className:i.c([Si,["table__number body-10",0]])},c))}(o,t.id))}))))};var Ti=function(e){var t,a=e.tournament,r=a.tourney,i=Ft(r.roundList),o=zt(r.roundList,i);if(void 0!==o){var c=h.e(o);t=0===Lt.size(c)?n.createElement("p",void 0,"Matched players in the current round will be shown here."):n.createElement(vi,{isCompact:!0,roundId:i,matches:c,tournament:a})}else t=n.createElement("p",void 0,"No rounds played yet.");return n.createElement(n.Fragment,void 0,n.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),n.createElement(U,{children:null,style:{justifyContent:"center"}},n.createElement(V,{children:t}),n.createElement(V,{children:n.createElement(Bi,{isCompact:!0,tourney:r,getPlayer:a.getPlayer,title:"Rankings"})})))};function Fi(e){var t=e.tournament,a=t.isNewRoundReady?t.isItOver?[x+" All rounds have completed.",1]:[x+" Ready to begin a new round.",0]:[x+"Round in progress.",3],r=a[0];return n.createElement(n.Fragment,void 0,n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Rounds: ",Tt(t.tourney.roundList).toString(),n.createElement("small",void 0," out of "),t.roundCount.toString()),n.createElement("hr",{className:"win__footer-divider"}),n.createElement(Ee,{children:r,kind:a[1],tooltip:r,className:"win__footer-block",style:{backgroundColor:"transparent",color:"initial",display:"inline-flex",margin:"0",minHeight:"initial"}}),n.createElement("hr",{className:"win__footer-divider"}),n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Registered players: ",v.r(t.activePlayers).toString()))}function xi(e){return e.preventDefault(),0}function Hi(e){var t=e.tournament,a=t.tourney,r=a.roundList,o=t.setTourney,l=t.playersDispatch,s=t.players,u=t.isItOver,d=t.activePlayers;return n.createElement("div",void 0,n.createElement("nav",void 0,n.createElement("ul",{style:{marginTop:"0"}},n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:1,onDragStart:xi},n.createElement(Zn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Back")))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:m.a(0,[a.id,3]),onDragStart:xi},n.createElement(Ma.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Setup"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:m.a(0,[a.id,0]),onDragStart:xi},n.createElement(Pa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Players"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:m.a(0,[a.id,4]),onDragStart:xi},n.createElement(gr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Status"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:m.a(0,[a.id,2]),onDragStart:xi},n.createElement(hr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Crosstable"))),n.createElement("li",void 0,n.createElement(Aa,{children:null,to_:m.a(0,[a.id,1]),onDragStart:xi},n.createElement(br.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Score detail")))),n.createElement("hr",void 0),n.createElement("h5",{className:"sidebar__hide-on-close sidebar__header"},"Rounds"),n.createElement("ul",{className:"center-on-close"},N.j(r,(function(e,t){return n.createElement("li",{key:e.toString()},n.createElement(Aa,{children:null,to_:m.a(0,[a.id,[e]]),onDragStart:xi},(e+1|0).toString(),Wt(r,d,e)?n.createElement("span",{className:i.c(["sidebar__hide-on-close",["caption-20",0]])}," Complete ",n.createElement(R.a,{})):n.createElement("span",{className:i.c(["sidebar__hide-on-close",["caption-20",0]])}," Not complete ",n.createElement(I.a,{}))))})))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement("button",{className:"sidebar-button",style:{width:"100%"},disabled:!t.isNewRoundReady,onClick:function(e){return e.preventDefault(),!(u&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?"))?c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Kt(r)}):0}},n.createElement(pr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," New round"))),n.createElement("li",{style:{textAlign:"center"}},n.createElement("button",{className:"button-micro sidebar-button",style:{marginTop:"8px"},disabled:0===Tt(r),onClick:function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete the last round?")){Fa.a("#/tourneys/"+a.id);var t=Ft(r),n=zt(r,t);return void 0!==n&&N.c(h.e(n),(function(e){return e.result>=3?0:y.b([[e.whiteId,e.whiteOrigRating],[[e.blackId,e.blackOrigRating],0]],(function(e){var t=v.c(s,e[0]);if(void 0!==t){var a=t,n=a.matchCount-1|0;return c.a(l,m.a(1,[a.id,{firstName:a.firstName,id:a.id,lastName:a.lastName,matchCount:n,rating:e[1],type_:a.type_}]))}return 0}))})),c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Qt(r)}),0===Tt(r)?c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Kt(r)}):0}return 0}},n.createElement(jn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Remove last round")))))}var Ai=function(e){var t=e.tourneyId,a=e.subPage,r=e.windowDispatch;return n.createElement(ni,{children:function(e){var t;if("number"===typeof a)switch(a){case 0:t=n.createElement(Ur,{tournament:e});break;case 1:t=n.createElement(Pi,{tournament:e});break;case 2:t=n.createElement(Mi,{tournament:e});break;case 3:t=n.createElement(Ei,{tournament:e});break;case 4:t=n.createElement(Ti,{tournament:e})}else t=n.createElement(hi,{roundId:a[0],tournament:e});return n.createElement(fn,{children:t,footerFunc:function(t){var a=e;return n.createElement(Fi,{tournament:a})},sidebarFunc:function(t){var a=e;return n.createElement(Hi,{tournament:a})}})},tourneyId:t,windowDispatch:r})},Wi=m.a(3,[function(e){return e.date}]),Ki=m.a(0,[function(e){return e.name}]);var Qi=function(e){var t=e.windowDispatch,a=ma(),r=a.dispatch,i=a.items,o=wt(v.t(i),Wi,!0),l=o[1],s=o[0],u=n.useState((function(){return""})),d=u[1],f=u[0],g=n.useState((function(){return!1})),h=g[1];return n.useEffect((function(){return c.a(t,m.a(5,["Tournament list"])),function(e){return c.a(t,m.a(5,[""]))}}),[t]),n.useEffect((function(){c.a(l,m.a(2,[v.t(i)]))}),[i,l]),n.createElement(fn,{children:n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return c.a(h,(function(e){return!0}))}},n.createElement(pr.a,{})," Add tournament")),v.h(i)?n.createElement("p",void 0,"No tournaments are added yet."):n.createElement("table",void 0,n.createElement("caption",void 0,"Tournament list"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(_t,{children:"Name",sortColumn:Ki,data:s,dispatch:l})),n.createElement("th",void 0,n.createElement(_t,{children:"Date",sortColumn:Wi,data:s,dispatch:l})),n.createElement("th",void 0,n.createElement(yt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},N.i(s.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",void 0,n.createElement(Aa,{children:e.name,to_:m.a(0,[e.id,0])})),n.createElement("td",void 0,n.createElement(W,{date:e.date})),n.createElement("td",void 0,n.createElement("button",{"aria-label":"Delete "+e.name,className:"danger button-ghost",title:"Delete "+e.name,onClick:function(t){var a=e.id,n=e.name,i="Are you sure you want to delete \u201c"+String(n)+"\u201d?";return window.confirm(i)?c.a(r,m.a(0,[a])):0}},n.createElement(jn.a,{}))))})))),n.createElement(Za,{isOpen:g[0],onDismiss:function(e){return c.a(h,(function(e){return!1}))},ariaLabel:"Create new tournament",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(h,(function(e){return!1}))}},"Close"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Se();return c.a(r,m.a(1,[t,{id:t,name:f,date:new Date,playerIds:0,byeQueue:[],tieBreaks:[0,1,2,3],roundList:Pt}])),c.a(d,(function(e){return""})),c.a(h,(function(e){return!1}))}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Make a new tournament"),n.createElement("label",{htmlFor:"tourney-name"},"Name:"),n.createElement("input",{id:"tourney-name",name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:f,onChange:function(e){return c.a(d,e.currentTarget.value)}})," ",n.createElement("input",{className:"button-primary",type:"submit",value:"Create"})))))})};a(80),a(81),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91);function Ji(e){var t=Ha();return n.createElement(vn,{children:function(e){var a;if("number"===typeof t)switch(t){case 0:a=n.createElement(In,{});break;case 1:a=n.createElement(Qi,{windowDispatch:e});break;case 2:a=n.createElement(vr,{windowDispatch:e});break;case 3:a=n.createElement(On,{});break;case 4:a=n.createElement(Un,{windowDispatch:e});break;case 5:a=n.createElement(fn,{children:n.createElement(Rn,{})})}else a=t.tag?n.createElement(vr,{id:t[0],windowDispatch:e}):n.createElement(Ai,{tourneyId:t[0],subPage:t[1],windowDispatch:e});return n.createElement("main",{className:"app__main"},a)},className:"app"})}var zi={make:Ji};r.b(n.createElement(Ji,{}),"root");var Vi={unregister:function(e){return Dn(),0}};Dn()}},[[70,1,2]]]);
//# sourceMappingURL=main.2f85d39d.chunk.js.map