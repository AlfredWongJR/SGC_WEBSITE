(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a.n(l),u=(a(93),a(8)),i=a(61),o=a.n(i),s=function(e){return r.a.createElement("p",{"data-testid":"about"},"This is an early, proof-of-concept, demo of a chess tournament manager."," ",r.a.createElement("a",{href:"https://github.com/johnridesabike/chessahoochee"},"You can find out more here."))},m=function(e){return r.a.createElement("div",{"data-testid":"404"},r.a.createElement("p",null,"Page not found."))},d=a(1),p=a(11),E=a(82),f=a(29),y=a.n(f),b=a(62),g=a.n(b),h=a(63),N=a.n(h),O=a(64),v=a.n(O),_=a(16),j=a.n(_),R=a(65),I=a.n(R),w=a(38),C=a.n(w),S=a(66),k=a.n(S),A=a(67),T=a.n(A),L=a(68),D=a.n(L),B=a(24),P=a(19),x=a(70),M=a.n(x),Y=a(71),U=a.n(Y),V=a(40),H=a.n(V),W=a(84),K=a(10),Q=a.n(K),G=a(131),F=a(83),J=a(118),q=a(119),z=a(135),X=a(72),Z=a(132),$=a(120),ee=a(73),te=a(133),ae=a(134),ne=a(121),re=a(122),le=a(81),ce=a(123),ue=a(124),ie=a(53),oe=a.n(ie),se=1,me=0,de=-1;function pe(e){return{id:e.id,players:e.players,result:e.result||[0,0],origRating:e.origRating,newRating:e.newRating}}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||0,type:e.type||"person",firstName:e.firstName||"",lastName:e.lastName||"",rating:e.rating||0,matchCount:e.matchCount||0}}var fe=Ee({id:-1,firstName:"Bye",lastName:"Player",type:"dummy"});function ye(e,t){if(t===de)return fe;var a=e.filter(function(e){return e.id===t})[0];return a||Ee({id:t,firstName:"Anonymous",type:"missing"})}function be(e,t){return t.filter(function(t){return t.includes(e)}).reduce(function(e,t){return t.concat(e)},[]).filter(function(t){return t!==e})}function ge(e){return 800/(e||1)}Object.freeze(fe);var he=a(54),Ne={players:he.playerList.map(function(e){return Ee(e)}),avoid:he.avoidList};function Oe(e,t){var a=Object(G.a)(Object(F.a)(function(e){return e.id}),Object(J.a)(function(e,t){return t-e}),q.a,z.a);switch(t.type){case"ADD_PLAYER":return Object(X.a)(Object(Z.a)(["players"]),Object($.a)(Ee({firstName:t.firstName,lastName:t.lastName,rating:t.rating,id:a(e.players)})),e);case"SET_PLAYER":return Object(ee.a)("players",Object(X.a)(Object(te.a)(Object(ae.a)(Object(ne.a)("id",t.id),e.players)),Object(re.a)({firstName:t.firstName,lastName:t.lastName,rating:t.rating,matchCount:t.matchCount}),e.players),e);case"DEL_PLAYER":return Object(X.a)(Object(Z.a)(["players"]),Object(le.a)(function(e){return e.id!==t.id}),Object(ce.a)(Object(Z.a)(["avoid"]),Object(le.a)(function(e){return!e.includes(t.id)}),e));case"SET_PLAYER_MATCHCOUNT":return Object(ce.a)(Object(Z.a)(["players",Object(ae.a)(Object(ne.a)("id",t.id),e.players),"matchCount"]),t.matchCount,e);case"SET_PLAYER_RATING":return Object(ce.a)(Object(Z.a)(["players",Object(ae.a)(Object(ne.a)("id",t.id),e.players),"rating"]),t.rating,e);case"ADD_AVOID_PAIR":return Object(X.a)(Object(Z.a)(["avoid"]),Object($.a)(t.pair),e);case"DEL_AVOID_PAIR":return Object(X.a)(Object(Z.a)(["avoid"]),Object(le.a)(function(e){return!(e.includes(t.pair[0])&&e.includes(t.pair[1]))}),e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type")}}var ve=Object(n.createContext)(null);function _e(){var e=Object(n.useContext)(ve),t=Object(d.a)(e,2),a=t[0];return{playerState:a,playerDispatch:t[1],getPlayer:Object(ue.a)(ye)(a.players)}}function je(e){var t=Object(n.useReducer)(Oe,Ne),a=Object(d.a)(t,2),r=a[0],l=a[1];return Object(n.createElement)(ve.Provider,{value:[r,l]},e.children)}var Re=a(125),Ie=a(126),we=a(130),Ce=a(127),Se=a(128),ke=a(129),Ae=a(136),Te=a(74),Le=a(31);function De(e){return e.players.includes(de)}function Be(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===a?t:t.slice(0,a+1)).reduce(function(e,t){return e.concat(t)},[]).filter(function(t){return t.players.includes(e)})}function Pe(e,t){return Be(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null).reduce(function(e,t){return e.concat(t.players)},[]).includes(de)}function xe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Be(e,t,a).reduce(function(e,t){return e.concat(t.players)},[]).filter(function(t){return t!==e})}function Me(e,t){var a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Be(e,t,a).map(function(t){return t.result[t.players.indexOf(e)]})}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return a.length>0?a.reduce(function(e,t){return e+t}):0}function Ye(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0,r=[];return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Be(e,t,a).filter(function(e){return!De(e)}).map(function(t){return t.result[t.players.indexOf(e)]})}(e,t,a).forEach(function(e){n+=e,r.push(n)}),0!==r.length?r.reduce(function(e,t){return e+t}):0}function Ue(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Be(e,t,a).filter(function(e){return!De(e)}).reduce(function(t,a){return a.players[me]===e?t.concat(-1):t.concat(1)},[]).reduce(function(e,t){return e+t},0)}function Ve(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=xe(e,t,a).filter(function(e){return e!==de}).map(function(e){return Me(e,t,a)});return r.sort(),n||(r.pop(),r.shift()),r.length>0?r.reduce(function(e,t){return e+t}):0}var He=[{name:"Modified median",func:Ve},{name:"Solkoff",func:function(e,t){return Ve(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,!0)}},{name:"Cumulative score",func:Ye},{name:"Cumulative of opposition",func:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=xe(e,t,a).filter(function(e){return e!==de}).map(function(e){return Ye(e,t,a)});return 0!==n.length?n.reduce(function(e,t){return e+t}):0}},{name:"Most black",func:Ue}];function We(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.map(function(e){return He[e]}),r=function(e){var t=e.reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e.concat(t.players)},[]);return Array.from(new Set(t))}(t).map(function(e){return{id:e,score:Me(e,t,a),tieBreaks:n.map(function(n){return n.func(e,t,a)})}}),l=Object(Le.firstBy)(function(e){return e.score},-1);n.forEach(function(e,t){l=l.thenBy(function(e){return e.tieBreaks[t]},-1)}),r.sort(l);var c=[],u=0;return r.forEach(function(e,t,a){if(0!==t){var n=a[t-1];l=n,((r=e).score!==l.score||r.tieBreaks.reduce(function(e,t,a){return e.concat(t!==l.tieBreaks[a])},[]).includes(!0))&&(u+=1)}var r,l;c[u]||(c[u]=[]),c[u].push(e)}),[c,n.map(function(e){return e.name})]}function Ke(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t[a-1]?function(e,t){var a=t.filter(function(t){return t.players.includes(e)})[0];return a?a.players.indexOf(e):null}(e,t[a-1])===me?se:me:null}function Qe(e,t,a,n,r){var l=ye(t,e);return{profile:l,rating:l.rating,id:e,score:Me(e,n,r),dueColor:Ke(e,n,r),colorBalance:Ue(e,n,r),opponentHistory:xe(e,n,r),upperHalf:!1,avoidList:be(e,a),hasHadBye:Pe(e,n,r)}}Object.freeze(He);var Ge=a(76),Fe=a.n(Ge),Je=a(75),qe=a.n(Je),ze=20,Xe=16,Ze=2,$e=1;function et(e,t,a){var n,r=0,l=e.opponentHistory.includes(t.id),c=e.avoidList.includes(t.id);return l||c||(r+=ze),n=Math.abs(a.indexOf(e.score)-a.indexOf(t.score)),n=(a.length-n)/a.length,r+=Xe*n,e.score===t.score&&e.upperHalf!==t.upperHalf&&(r+=Ze),null===e.dueColor?r+=$e:e.dueColor!==t.dueColor&&(r+=$e),Math.ceil(r)}function tt(e,t,a,n,r){var l=e.roundList,c=Object(ue.a)(ye)(t.players),u=e.byeQueue.filter(function(e){return!Pe(e,l)})[0],i=null;u>=0&&(i=pe({id:u+"-"+fe.id,players:[u,fe.id],origRating:[c(u).rating,fe.rating],newRating:[c(u).rating,fe.rating]}),n=n.filter(function(e){return e!==u}));var o=function(e,t,a,n,r){var l,c=e.map(function(e){return Qe(e,n,r,a,t)}),u=Array.from(new Set(c.map(function(e){return e.score})));if(u.sort(),c.sort(Object(Le.firstBy)(function(e){return e.score},-1).thenBy(function(e){return e.rating},-1)),c.length%2!==0){var i=y()(c.filter(function(e){return!e.hasHadBye}));i||(i=y()(c)),l=[i.id,de],c=c.filter(function(e){return e!==i})}u.forEach(function(e){var t=c.filter(function(t){return t.score===e});t.sort(function(e){return e.rating}).reverse(),t.length>1&&Fe()(t.length/2,t)[0].forEach(function(e){e.upperHalf=!0})});var o=c.reduce(function(e,t,a,n){var r=n.filter(function(e){return e!==t}).map(function(e){return[t.id,e.id,et(t,e,u)]});return e.concat(r)},[]),s=qe()(o).reduce(function(e,t,a){if(-1!==t){var n=c.filter(function(e){return e.id===t})[0],r=c.filter(function(e){return e.id===a})[0],l=o.filter(function(e){return e[0]===t&&e[1]===a})[0][2],u=e.map(function(e){return e[0]});u.includes(n)||u.includes(r)||e.push([n,r,l])}return e},[]);s.sort(Object(Le.firstBy)(function(e){return e[0].score+e[1].score},-1).thenBy(function(e){return e[0].rating+e[1].rating},-1));var m=s.map(function(e){var t=e[0],a=e[1],n=[t.id,a.id];return t.colorBalance<a.colorBalance&&n.reverse(),n});return l&&m.push(l),m}(n,a,l,t.players,t.avoid).map(function(e){return pe({id:e.join("-"),players:[e[me],e[se]],origRating:[c(e[me]).rating,c(e[se]).rating],newRating:[c(e[me]).rating,c(e[se]).rating]})});return i&&o.push(i),o.forEach(function(e){var t=e.players.indexOf(fe.id);t===se&&(e.result[me]=r),t===me&&(e.result[se]=r)}),o}var at=Te;function nt(e,t){switch(t.type){case"ADD_TOURNEY":return Object($.a)({name:(a={name:t.name}).name||"",tieBreaks:a.tieBreaks||[0,1,2,3],byeQueue:a.byeQueue||[],players:a.players||[],roundList:a.roundList||[]},e);case"DEL_TOURNEY":return e.filter(function(e,a){return a!==t.index});case"ADD_ROUND":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList"]),Object($.a)([]),e);case"DEL_LAST_ROUND":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList"]),Object(Re.a)(-1,1),e);case"ADD_TIEBREAK":return Object(X.a)(Object(Z.a)([t.tourneyId,"tieBreaks"]),Object($.a)(t.id),e);case"DEL_TIEBREAK":return Object(X.a)(Object(Z.a)([t.tourneyId,"tieBreaks"]),Object(le.a)(function(e){return e!==t.id}),e);case"MOVE_TIEBREAK":return Object(X.a)(Object(Z.a)([t.tourneyId,"tieBreaks"]),Object(Ie.a)(t.oldIndex,t.newIndex),e);case"SET_TOURNEY_PLAYERS":return Object(ce.a)(Object(Z.a)([t.tourneyId,"players"]),t.players,e);case"SET_BYE_QUEUE":return Object(ce.a)(Object(Z.a)([t.tourneyId,"byeQueue"]),t.byeQueue,e);case"AUTO_PAIR":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId]),Object(we.a)(Ce.a,tt(e[t.tourneyId],t.playerState,t.roundId,t.unpairedPlayers,t.byeValue)),e);case"MANUAL_PAIR":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId]),Object($.a)(function(e,t,a){var n=Object(ue.a)(ye)(e),r=pe({id:t.join("-"),players:[t[me],t[se]],origRating:[n(t[me]).rating,n(t[se]).rating],newRating:[n(t[me]).rating,n(t[se]).rating]});return t[me]===fe.id&&(r.result=[0,a]),t[se]===fe.id&&(r.result=[a,0]),r}(t.players,t.pair,t.byeValue)),e);case"SET_MATCH_RESULT":return Object(ce.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId,Object(ae.a)(Object(ne.a)("id",t.matchId),e[t.tourneyId].roundList[t.roundId]),"result"]),t.result,Object(ce.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId,Object(ae.a)(Object(ne.a)("id",t.matchId),e[t.tourneyId].roundList[t.roundId]),"newRating"]),t.newRating,e));case"DEL_MATCH":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId]),Object(le.a)(function(e){return e.id!==t.matchId}),e);case"SWAP_COLORS":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId,Object(ae.a)(Object(ne.a)("id",t.matchId),e[t.tourneyId].roundList[t.roundId])]),function(e){return Object(Se.a)(e,{result:Object(ke.a)(e.result),players:Object(ke.a)(e.players),origRating:Object(ke.a)(e.origRating),newRating:Object(ke.a)(e.newRating)})},e);case"MOVE_MATCH":return Object(X.a)(Object(Z.a)([t.tourneyId,"roundList",t.roundId]),Object(Ie.a)(t.oldIndex,t.newIndex),e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type "+t.type)}var a}var rt=Object(n.createContext)(null);function lt(){return Object(n.useContext)(rt)}function ct(e){var t=Object(n.useContext)(rt),a=Object(d.a)(t,2),r=a[0],l=a[1];return[r[e],l]}function ut(e,t){var a=ct(e),n=Object(d.a)(a,2),r=n[0],l=n[1],c=r.roundList[t],u=c.reduce(function(e,t){return e.concat(t.players)},[]);return{tourney:r,dispatch:l,unmatched:Object(Ae.a)(r.players,u),matchList:c}}function it(e){var t=Object(n.useReducer)(nt,at),a=Object(d.a)(t,2),r=a[0],l=a[1];return Object(n.createElement)(rt.Provider,{value:[r,l]},e.children)}var ot=a(77);function st(e,t){switch(t.type){case"SET_BYE_VALUE":return Object(ee.a)("byeValue",t.byeValue,e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type.")}}var mt=Object(n.createContext)(null);function dt(){return Object(n.useContext)(mt)}function pt(e){var t=Object(n.useReducer)(st,ot),a=Object(d.a)(t,2),r=a[0],l=a[1];return Object(n.createElement)(mt.Provider,{value:[r,l]},e.children)}var Et=a(55),ft=a.n(Et);function yt(e){var t=e.children,a=e.style;return r.a.createElement("div",{style:Object(W.a)({},a),className:ft.a.panel},t)}function bt(e){return r.a.createElement("div",Object.assign({},e,{className:ft.a.panels}),r.a.Children.map(e.children,function(e){return e}))}function gt(e){var t=e.id,a=e.firstName,n=e.lastName,l=_e().getPlayer;return t===de?r.a.createElement("span",null,a&&l(t).firstName," ",n&&l(t).lastName):r.a.createElement(u.a,{to:"/players/"+t},a&&l(t).firstName," ",n&&l(t).lastName)}function ht(e){var t=Math.ceil(Math.log2(e));return Number.isFinite(t)?t:0}function Nt(e,t){return e.filter(function(e){return e.id===t})[0]}function Ot(e){var t=e.matchId,a=e.color,n=e.tourneyId,l=e.roundId,c=ut(n,l),u=c.tourney,i=c.matchList,o=_e(),s=o.playerState,m=o.getPlayer,d=Nt(i,t),p=Qe(d.players[a],s.players,s.avoid,u.roundList,l),E=p.colorBalance,f=E<0?"White +"+Math.abs(E):E>0?"Black +"+E:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,p.profile.firstName," ",p.profile.lastName),r.a.createElement("dt",null,"Score"),r.a.createElement("dd",null,p.score),r.a.createElement("dt",null,"Rating"),r.a.createElement("dd",{"data-testid":"rating-".concat(p.id)},d.origRating[a]," (",Q()(d.newRating[a]-d.origRating[a]).format("+0"),")"),r.a.createElement("dt",null,"Color balance"),r.a.createElement("dd",null,f),r.a.createElement("dt",null,"Has had a bye round"),r.a.createElement("dd",null,p.hasHadBye?"Yes":"No"),r.a.createElement("dt",null,"Opponent history"),r.a.createElement("dd",null,r.a.createElement("ol",null,p.opponentHistory.map(function(e){return r.a.createElement("li",{key:e},m(e).firstName," ",m(e).lastName)}))))}Q.a.register("format","half",{regexps:{format:/(1\/2)/,unformat:/(1\/2)/},format:function(e,t,a){var n=Math.floor(e),r=e-n;return.5===r?r="\xbd":0===r&&(r=""),0===n&&r&&(n=""),String(n)+r},unformat:function(e){return Number(e)}});var vt=a(30),_t=a.n(vt);a(112);function jt(e){var t=e.pos,a=e.match,l=e.tourneyId,c=e.roundId,u=e.selectedMatch,i=e.setSelectedMatch,o=ut(l,c),s=o.tourney,m=o.dispatch,p=_e(),E=p.playerDispatch,f=p.getPlayer,y=Object(n.useState)(!1),b=Object(d.a)(y,2),g=b[0],h=b[1],N=a.result[0]>a.result[1]?"WHITE":a.result[1]>a.result[0]?"BLACK":a.result.every(function(e){return.5===e})?"DRAW":"NOTSET",O=f(a.players[0]).firstName+" "+f(a.players[0]).lastName,v=f(a.players[1]).firstName+" "+f(a.players[1]).lastName;function _(e){var t=function(){switch(e.currentTarget.value){case"WHITE":return[1,0];case"BLACK":return[0,1];case"DRAW":return[.5,.5];case"NOTSET":return[0,0];default:throw new Error}}(),n=f(a.players[me]),r=f(a.players[se]),u="NOTSET"===e.currentTarget.value?a.origRating:function(e,t,a){var n=new oe.a(ge(t[me])),r=new oe.a(ge(t[se])),l=[n.getExpected(e[me],e[se]),r.getExpected(e[se],e[me])];return[n.updateRating(l[me],a[me],e[me]),r.updateRating(l[se],a[se],e[se])].map(function(e){return e<100?100:e})}(a.origRating,[n.matchCount,r.matchCount],t);E({type:"SET_PLAYER_RATING",id:n.id,rating:u[me]}),E({type:"SET_PLAYER_RATING",id:r.id,rating:u[se]}),0===a.result.reduce(function(e,t){return e+t})&&(E({type:"SET_PLAYER_MATCHCOUNT",id:n.id,matchCount:n.matchCount+1}),E({type:"SET_PLAYER_MATCHCOUNT",id:r.id,matchCount:r.matchCount+1})),m({type:"SET_MATCH_RESULT",tourneyId:l,roundId:c,matchId:a.id,result:t,newRating:u})}return r.a.createElement("tr",{className:a.id===u?vt.selected:""},r.a.createElement("th",{className:"table__number row__id",scope:"row"},t+1),r.a.createElement("td",{className:"table__player row__player","data-testid":"match-".concat(t,"-white")},O," ","WHITE"===N&&r.a.createElement("span",{role:"img","aria-label":"Winner"},"\ud83c\udfc6")),r.a.createElement("td",{className:"table__player row__player","data-testid":"match-".concat(t,"-black")},v," ","BLACK"===N&&r.a.createElement("span",{role:"img","aria-label":"Winner"},"\ud83c\udfc6")),r.a.createElement("td",{className:"data__input row__controls"},r.a.createElement("select",{onBlur:_,onChange:_,disabled:a.players.includes(de),value:N,className:vt.winnerSelect},r.a.createElement("option",{value:"NOTSET"},"Select a winner"),r.a.createElement("option",{value:"WHITE"},O," won"),r.a.createElement("option",{value:"BLACK"},v," won"),r.a.createElement("option",{value:"DRAW"},"Draw"))),r.a.createElement("td",{className:"data__input row__controls"},u!==a.id?r.a.createElement("button",{className:"iconButton",onClick:function(){return i(a.id)},title:"Edit match"},r.a.createElement(M.a,null)):r.a.createElement("button",{className:"iconButton",onClick:function(){return i(null)},title:"End editing match"},r.a.createElement(H.a,null)),r.a.createElement("button",{className:"iconButton",onClick:function(){return h(!0)},title:"Open match information."},r.a.createElement(U.a,null),r.a.createElement(P.a,null,"View information for match:"," ",O," versus ",v)),r.a.createElement(B.a,{isOpen:g},r.a.createElement("button",{onClick:function(){return h(!1)}},"close"),r.a.createElement("p",null,s.name),r.a.createElement("p",null,"Round ",c+1,", match ",t+1),r.a.createElement(bt,null,r.a.createElement(yt,null,r.a.createElement(Ot,{matchId:a.id,color:0,tourneyId:l,roundId:c})),r.a.createElement(yt,null,r.a.createElement(Ot,{matchId:a.id,color:1,tourneyId:l,roundId:c}))))))}function Rt(e){var t=e.roundId,a=e.tourneyId,l=e.setIsPickView,c=ut(a,t),u=c.matchList,i=c.dispatch,o=c.unmatched,s=_e(),m=s.playerDispatch,p=s.getPlayer,E=Object(n.useState)(null),f=Object(d.a)(E,2),y=f[0],b=f[1];if(!u)throw new Error("Round "+t+" does not exist.");function g(e,n){var r,l,c=(l=e,(r=u).indexOf(Nt(r,l)));i({type:"MOVE_MATCH",tourneyId:a,roundId:t,oldIndex:c,newIndex:c+n>=0?c+n:0})}return r.a.createElement(bt,{"data-testid":"round-"+t},r.a.createElement(yt,null,r.a.createElement("div",{className:_t.a.toolbar},r.a.createElement("button",{className:"iconButton",onClick:function(){return l(!0)},disabled:0===o.length,title:"View unmatched players."},r.a.createElement(D.a,null)," View unmatched players"," ",o.length>0&&"(".concat(o.length,")")),r.a.createElement("button",{className:"danger iconButton",onClick:function(){return function(e){var n=Nt(u,e);0!==n.result.reduce(function(e,t){return e+t})&&n.players.forEach(function(e,t){m({type:"SET_PLAYER_MATCHCOUNT",id:e,matchCount:p(e).matchCount-1}),m({type:"SET_PLAYER_RATING",id:e,rating:n.origRating[t]})}),i({type:"DEL_MATCH",tourneyId:a,roundId:t,matchId:e}),b(null)}(y)},disabled:null===y},r.a.createElement(j.a,null)," Unmatch"),r.a.createElement("button",{className:"iconButton",onClick:function(){i({type:"SWAP_COLORS",tourneyId:a,roundId:t,matchId:y})},disabled:null===y},r.a.createElement(C.a,null)," Swap colors"),r.a.createElement("button",{className:"iconButton",onClick:function(){return g(y,-1)},disabled:null===y},r.a.createElement(k.a,null)," Move up"),r.a.createElement("button",{className:"iconButton",onClick:function(){return g(y,1)},disabled:null===y},r.a.createElement(T.a,null)," Move down")),0===u.length&&r.a.createElement("p",null,"No players matched yet."),r.a.createElement("table",{className:_t.a.table},u.length>0&&r.a.createElement("caption",null,"Round ",t+1," results"),r.a.createElement("tbody",null,u.length>0&&r.a.createElement("tr",null,r.a.createElement("th",{className:"row__id",scope:"col"},"#"),r.a.createElement("th",{className:"row__player",scope:"col"},"White"),r.a.createElement("th",{className:"row__player",scope:"col"},"Black"),r.a.createElement("th",{className:"row__result",scope:"col"},"Result"),r.a.createElement("th",{className:"row__controls",scope:"col"},"Controls")),u.map(function(e,n){return r.a.createElement(jt,{key:e.id,pos:n,match:e,tourneyId:a,roundId:t,selectedMatch:y,setSelectedMatch:b})})))),r.a.createElement(yt,null))}var It=a(78),wt=a.n(It),Ct=a(79),St=a.n(Ct);function kt(){var e=_e().playerDispatch,t={firstName:"",lastName:"",rating:1200},a=Object(n.useState)(t),l=Object(d.a)(a,2),c=l[0],u=l[1],i=function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.value;u(function(e){return Object(ee.a)(a,n,e)})};return r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=c.firstName,r=c.lastName,l=c.rating;u(t),e({type:"ADD_PLAYER",firstName:n,lastName:r,rating:l})}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Register a new player"),r.a.createElement("p",null,r.a.createElement("label",null,"First name"," ",r.a.createElement("input",{type:"text",name:"firstName",onChange:i,value:c.firstName,required:!0}))),r.a.createElement("p",null,r.a.createElement("label",null,"Last name"," ",r.a.createElement("input",{type:"text",name:"lastName",onChange:i,value:c.lastName,required:!0}))),r.a.createElement("p",null,r.a.createElement("label",null,"Rating "," ",r.a.createElement("input",{type:"number",name:"rating",onChange:i,value:c.rating,required:!0}))),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Add"}))))}function At(e){var t=e.tourneyId,a=ct(t),n=Object(d.a)(a,2),l=n[0].players,c=n[1],u=_e(),i=u.playerState,o=u.getPlayer;function s(e){var a=Number(e.target.value);e.target.checked?c({type:"SET_TOURNEY_PLAYERS",players:l.concat([a]),tourneyId:t}):c({type:"SET_TOURNEY_PLAYERS",players:l.filter(function(e){return e!==a}),tourneyId:t})}return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return c({type:"SET_TOURNEY_PLAYERS",players:i.players.map(function(e){return e.id}),tourneyId:t})}},"Select all"),r.a.createElement("button",{onClick:function(){return c({type:"SET_TOURNEY_PLAYERS",players:[],tourneyId:t})}},"Select none"),r.a.createElement("table",null,r.a.createElement("caption",null,"Select players"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Select"))),r.a.createElement("tbody",null,i.players.map(function(e){var t=e.id;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,o(t).firstName),r.a.createElement("td",null,o(t).lastName),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",value:t,checked:l.includes(t),onChange:s})))}))),r.a.createElement(kt,null))}function Tt(e){var t=e.tourneyId,a=e.roundId,l=e.stagedPlayers,c=e.setStagedPlayers,u=ut(t,a),i=u.dispatch,o=u.unmatched,s=_e(),m=s.playerState,p=s.getPlayer,E=dt(),f=Object(d.a)(E,1)[0].byeValue,y=Object(n.useState)(!1),b=Object(d.a)(y,2),g=b[0],h=b[1];var N=o.length%2!==0?Object($.a)(de,o):o;return 0===o.length?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Unmatched players"),r.a.createElement("button",{onClick:function(){return i({type:"AUTO_PAIR",unpairedPlayers:o,tourneyId:t,roundId:a,playerState:m,byeValue:f})},disabled:0===o.length},"Auto-pair unmatched players"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return h(!0)}},"Add or remove players from the roster."),r.a.createElement("ul",null,N.map(function(e){return r.a.createElement("li",{key:e},l.includes(e)?r.a.createElement("button",{disabled:!0},"Selected"):r.a.createElement("button",{disabled:!l.includes(null),onClick:function(){return t=e,void(null===l[me]?c(function(e){return Object(ce.a)(Object(te.a)(me),t,e)}):null===l[se]&&c(function(e){return Object(ce.a)(Object(te.a)(se),t,e)}));var t}},r.a.createElement(St.a,null),r.a.createElement(P.a,null,"Select ",p(e).firstName," ",p(e).lastName))," ",p(e).firstName," ",p(e).lastName)})),r.a.createElement(B.a,{isOpen:g},r.a.createElement("button",{onClick:function(){return h(!1)}},"Done"),r.a.createElement(At,{tourneyId:t})))}var Lt=a(56),Dt=a.n(Lt);function Bt(e){var t=e.tourneyId,a=e.roundId,l=e.stagedPlayers,c=e.setStagedPlayers,u=_e(),i=u.playerState,o=u.getPlayer,s=i.players,m=ct(t)[1],p=dt(),E=Object(d.a)(p,1)[0].byeValue,f=Object(d.a)(l,2),y=f[0],b=f[1];function g(e){c(function(t){return Object(ce.a)(Object(te.a)(e),null,t)})}return r.a.createElement("div",null,r.a.createElement("h2",null,"Selected for matching:"),r.a.createElement("p",null,"White:"," ",null!==y&&r.a.createElement(n.Fragment,null,o(y).firstName," ",o(y).lastName," ",r.a.createElement("button",{onClick:function(){return g(me)}},r.a.createElement(Dt.a,null)," Remove"))),r.a.createElement("p",null,"Black:"," ",null!==b&&r.a.createElement(n.Fragment,null,o(b).firstName," ",o(b).lastName," ",r.a.createElement("button",{onClick:function(){return g(se)}},r.a.createElement(Dt.a,null)," Remove"))),r.a.createElement("button",{onClick:function(){return c(function(e){return[e[se],e[me]]})},disabled:l.every(function(e){return null===e})},r.a.createElement(C.a,null)," Swap colors")," ",r.a.createElement("button",{onClick:function(){m({type:"MANUAL_PAIR",pair:[y,b],tourneyId:t,roundId:a,byeValue:E,players:s}),c([null,null])},disabled:l.includes(null)},r.a.createElement(H.a,null)," Match selected")," ")}function Pt(e){var t=e.playerId,a=e.tourneyId,n=e.roundId,l=ct(a),c=Object(d.a)(l,1)[0].roundList,u=_e(),i=u.playerState,o=u.getPlayer,s=Qe(t,i.players,i.avoid,c,n),m=s.profile,p=s.rating,E=s.score,f=s.colorBalance,y=s.hasHadBye,b=s.opponentHistory,g=s.avoidList,h=f<0?"White +"+Math.abs(f):f>0?"Black +"+f:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,m.firstName," ",m.lastName),r.a.createElement("p",null,"Score: ",E),r.a.createElement("p",null,"Rating: ",p),r.a.createElement("p",null,"Color balance: ",h),r.a.createElement("p",null,"Has had a bye round: ",y?"Yes":"No"),r.a.createElement("p",null,"Opponent history:"),r.a.createElement("ol",null,b.map(function(e){return r.a.createElement("li",{key:e},o(e).firstName," ",o(e).lastName)})),r.a.createElement("p",null,"Players to avoid:"),r.a.createElement("ol",null,g.map(function(e){return r.a.createElement("li",{key:e},o(e).firstName," ",o(e).lastName)})))}function xt(e){var t=e.tourneyId,a=e.roundId,l=e.setIsPickView,c=Object(n.useState)([null,null]),u=Object(d.a)(c,2),i=u[0],o=u[1],s=ut(t,a).matchList;return r.a.createElement(bt,null,r.a.createElement(yt,null,r.a.createElement("button",{onClick:function(){return l(!1)}},r.a.createElement(wt.a,null)," View matches (",s.length,")"),r.a.createElement(Tt,{tourneyId:t,roundId:a,stagedPlayers:i,setStagedPlayers:o})),r.a.createElement(yt,null,r.a.createElement(Bt,{tourneyId:t,roundId:a,stagedPlayers:i,setStagedPlayers:o}),r.a.createElement(bt,null,i.map(function(e){return null!==e&&r.a.createElement(yt,{key:e},r.a.createElement(Pt,{playerId:e,tourneyId:t,roundId:a}))}))))}function Mt(e){var t=e.tourneyId,a=e.roundId,l=ut(t=Number(t),a).unmatched,c=Object(n.useState)(l.length>0),u=Object(d.a)(c,2),i=u[0],o=u[1];return Object(n.useEffect)(function(){o(l.length>0)},[l.length]),i?r.a.createElement(xt,{tourneyId:t,roundId:a,setIsPickView:o}):r.a.createElement(Rt,{tourneyId:t,roundId:a,setIsPickView:o})}var Yt=a(57),Ut=a.n(Yt),Vt=a(15),Ht=a.n(Vt);function Wt(e){var t=e.tourneyId,a=ct(t=Number(t)),n=Object(d.a)(a,1)[0],l=n.tieBreaks,c=n.roundList,u=_e().getPlayer,i=We(l,c),o=Object(d.a)(i,2),s=o[0],m=o[1];return r.a.createElement("table",{className:Ht.a.table},r.a.createElement("caption",null,"Standings"),r.a.createElement("tbody",null,r.a.createElement("tr",{className:Ht.a.topHeader},r.a.createElement("th",{scope:"col"},"Rank"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Score"),m.map(function(e,t){return r.a.createElement("th",{key:t,scope:"col"},e)})),s.map(function(e,t){return e.filter(function(e){return e.id!==de}).map(function(e,a,n){return r.a.createElement("tr",{key:e.id,className:Ht.a.row},0===a&&r.a.createElement("th",{scope:"row",className:"table__number "+Ht.a.rank,rowSpan:n.length},Q()(t+1).format("0o")),r.a.createElement("th",{scope:"row",className:Ht.a.playerName,"data-testid":t},u(e.id).firstName,"\xa0",u(e.id).lastName),r.a.createElement("td",{className:"table__number","data-testid":Ut()(u(e.id).firstName+u(e.id).lastName+" score")},Q()(e.score).format("1/2")),e.tieBreaks.map(function(t,a){return r.a.createElement("td",{key:a,className:"table__number","data-testid":Ut()(u(e.id).firstName+u(e.id).lastName+m[a])},Q()(t).format("1/2"))}))})})))}function Kt(e){var t=e.tourneyId,a=ct(t=Number(t)),l=Object(d.a)(a,2),c=l[0].tieBreaks,u=l[1],i=Object(n.useState)(null),o=Object(d.a)(i,2),s=o[0],m=o[1];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=s),c.includes(e)?u({type:"DEL_TIEBREAK",id:e,tourneyId:t}):u({type:"ADD_TIEBREAK",id:e,tourneyId:t})}function E(e){var a=c.indexOf(s);u({type:"MOVE_TIEBREAK",oldIndex:a,newIndex:a+e,tourneyId:t})}return r.a.createElement("div",null,r.a.createElement("h3",null,"Selected tiebreak methods"),r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{onClick:function(){return p()},disabled:null===s},"Toggle"),r.a.createElement("button",{onClick:function(){return E(-1)},disabled:null===s},"Move up"),r.a.createElement("button",{onClick:function(){return E(1)},disabled:null===s},"Move down"),r.a.createElement("button",{onClick:function(){return m(null)},disabled:null===s},"Done")),r.a.createElement("ol",null,c.map(function(e){return r.a.createElement("li",{key:e},He[e].name,r.a.createElement("button",{onClick:function(){return m(s===e?null:e)},disabled:null!==s&&s!==e},s===e?"Done":"Edit"))})),r.a.createElement("h3",null,"Available tiebreak methods"),r.a.createElement("ol",null,He.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:c.includes(t)?"enabled":"disabled"},e.name),!c.includes(t)&&r.a.createElement("button",{onClick:function(){return p(t)}},"Add"))})))}var Qt=function(e){var t=e.tourneyId;return r.a.createElement(bt,null,r.a.createElement(yt,null,r.a.createElement(Wt,{tourneyId:t})),r.a.createElement(yt,null,r.a.createElement(Kt,{tourneyId:t})))};function Gt(e){var t=e.tourneyId,a=ct(Number(t)),n=Object(d.a)(a,1)[0],l=n.tieBreaks,c=n.roundList,u=_e().getPlayer,i=We(l,c),o=Object(d.a)(i,1)[0];return r.a.createElement("table",{className:Ht.a.table},r.a.createElement("caption",null,"Tournament Status"),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rank"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Rating")),o.map(function(e,t){return e.filter(function(e){return e.id!==de}).map(function(e,a,n){return r.a.createElement("tr",{key:e.id,className:Ht.a.row},0===a&&r.a.createElement("th",{scope:"row",className:"table__number "+Ht.a.rank,rowSpan:n.length},Q()(t+1).format("0o")),r.a.createElement("th",{scope:"row",className:Ht.a.playerName,"data-testid":t},u(e.id).firstName,"\xa0",u(e.id).lastName),r.a.createElement("td",{className:"table__number"},Q()(e.score).format("1/2")),r.a.createElement("td",{className:"table__number"},u(e.id).rating))})})))}function Ft(e){var t=e.tourneyId,a=ct(t),l=Object(d.a)(a,2),c=l[0],u=c.players,i=c.byeQueue,o=c.roundList,s=l[1],m=_e().getPlayer,p=Object(n.useState)(0===u.length),E=Object(d.a)(p,2),f=E[0],y=E[1];return r.a.createElement(bt,null,r.a.createElement(yt,null,r.a.createElement("button",{onClick:function(){return y(!0)}},"Edit player roster"),r.a.createElement("table",null,r.a.createElement("caption",null,"Current roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,u.map(function(e){return r.a.createElement("tr",{key:e,className:m(e).type+" player"},r.a.createElement("td",null,m(e).firstName),r.a.createElement("td",null,m(e).lastName),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return s({type:"SET_BYE_QUEUE",byeQueue:i.concat([e]),tourneyId:t})},disabled:i.includes(e)},"Bye signup")))})))),r.a.createElement(yt,null,r.a.createElement("h3",null,"Bye queue"),0===i.length&&r.a.createElement("p",null,"No players have signed up for a bye round."),r.a.createElement("ol",null,i.map(function(e){return r.a.createElement("li",{key:e,className:Pe(e,o)?"disabled":""},m(e).firstName," ",m(e).lastName,r.a.createElement("button",{onClick:function(){return s({type:"SET_BYE_QUEUE",byeQueue:i.filter(function(t){return e!==t}),tourneyId:t})}},"Remove"))}))),r.a.createElement(B.a,{isOpen:f},r.a.createElement("button",{onClick:function(){return y(!1)}},"Done"),r.a.createElement(At,{tourneyId:t})))}a(113),a(114);var Jt=a(33),qt=a.n(Jt);function zt(e){var t=e.tourneyId,a=ct(t=Number(t)),l=Object(d.a)(a,2),c=l[0],i=l[1],o=c.name,s=c.players,m=c.roundList,f=_e(),b=f.playerState,h=f.getPlayer,O=f.playerDispatch,_=Object(n.useState)(0),R=Object(d.a)(_,2),w=R[0],C=R[1],S=Object(n.useMemo)(function(){var e=y()(m);if(!e)return!0;var t=e.reduce(function(e,t){return e.concat(t.players)},[]),a=s.filter(function(e){return!t.includes(e)}),n=e.map(function(e){return e.result[0]+e.result[1]});return 0===a.length&&!n.includes(0)},[s,m]);Object(n.useEffect)(function(){var e=document.title;return document.title=o,function(){document.title=e}},[o]),Object(n.useEffect)(function(){0===m.length?C(0):C(m.length+2)},[m.length]);var k=m.length>=ht(s.length),A=S?k?["All necessary rounds have completed.",!0]:["Ready to begin a new round.",!1]:["You must complete the last round before beginning a new one.",!0],T=Object(d.a)(A,2),L=T[0],D=T[1];return r.a.createElement(p.e,{index:w,onChange:function(e){return C(e)}},r.a.createElement("div",null,r.a.createElement(u.a,{to:"/"},r.a.createElement(v.a,null)," Back"),r.a.createElement("h2",null,o),r.a.createElement("div",{className:qt.a.topToolbar},r.a.createElement("span",{className:qt.a.toolbarItem},"Round progress: ",m.length,"/",ht(s.length)," "),r.a.createElement("span",{className:qt.a.toolbarItem},r.a.createElement("button",{onClick:function(){k&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?")||(i({type:"ADD_ROUND",tourneyId:t}),C(m.length+2))},disabled:!S},r.a.createElement(I.a,null)," New round")," ",r.a.createElement(E.a,{label:L},r.a.createElement("span",{className:"helpIcon"},D?r.a.createElement(N.a,{className:"status-alert"}):r.a.createElement(g.a,{className:"status-ok"})))),r.a.createElement("button",{className:"danger "+qt.a.toolbarItem,onClick:function(){window.confirm("Are you sure you want to delete the last round?")&&(y()(m).forEach(function(e){e.result[0]+e.result[1]!==0&&e.players.forEach(function(t,a){if(t!==de){var n=h(t).matchCount;O({type:"SET_PLAYER_MATCHCOUNT",id:t,matchCount:n-1}),O({type:"SET_PLAYER_RATING",id:t,rating:e.origRating[a]})}})}),i({type:"DEL_LAST_ROUND",players:b.players,tourneyId:t}))},disabled:0===m.length},r.a.createElement(j.a,null)," Remove last round"))),r.a.createElement(p.b,null,r.a.createElement(p.a,null,"Players"),r.a.createElement(p.a,null,"Tournament status"),r.a.createElement(p.a,null,"Score detail"),Object.keys(m).map(function(e){return r.a.createElement(p.a,{key:e},"Round ",Number(e)+1)})),r.a.createElement(p.d,null,r.a.createElement(p.c,null,r.a.createElement(Ft,{tourneyId:t})),r.a.createElement(p.c,null,r.a.createElement(Gt,{tourneyId:t})),r.a.createElement(p.c,null,r.a.createElement(Qt,{tourneyId:t})),Object.keys(m).map(function(e){return r.a.createElement(p.c,{key:e},r.a.createElement(Mt,{roundId:Number(e),tourneyId:t}))})))}function Xt(e){var t=lt(),a=Object(d.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],m=o[1];return r.a.createElement("div",null,l.length>0&&r.a.createElement("h2",null,"Tournament list"),l.length>0?r.a.createElement("ol",null,l.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(u.a,{to:String(t)},e.name)," ",r.a.createElement("button",{title:"Delete \u201c".concat(e.name,"\u201d"),"aria-label":"Delete \u201c".concat(e.name,"\u201d"),className:"danger iconButton",onClick:function(){return c({type:"DEL_TOURNEY",index:t})}},r.a.createElement(j.a,null)))})):r.a.createElement("p",null,"No tournaments added yet."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({type:"ADD_TOURNEY",name:s}),m("")}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Make a new tournament"),r.a.createElement("label",null,"Name:"," ",r.a.createElement("input",{type:"text",placeholder:"tournament name",value:s,onChange:function(e){m(e.target.value)},required:!0})),r.a.createElement("input",{type:"submit",value:"Create"}))))}var Zt=function(e){return r.a.createElement("div",null,e.children)};function $t(e){var t=Number(e.playerId),a=_e(),l=a.playerState,c=a.playerDispatch,u=a.getPlayer,i=l.players,o=l.avoid,s=Object(n.useState)(be(t,o)),m=Object(d.a)(s,2),p=m[0],E=m[1],f=Object(n.useMemo)(function(){return i.map(function(e){return e.id}).filter(function(e){return!p.includes(e)&&e!==t})},[i,t,p]),y=Object(n.useState)(f[0]),b=Object(d.a)(y,2),g=b[0],h=b[1];function N(e){e.preventDefault();var a=e.currentTarget,n=a.firstName,r=a.lastName,l=a.matchCount,u=a.rating;c({type:"SET_PLAYER",id:t,firstName:n.value,lastName:r.value,matchCount:Number(l.value),rating:Number(u.value)})}return Object(n.useEffect)(function(){E(be(t,o))},[o,t]),Object(n.useEffect)(function(){h(f[0])},[h,f]),Object(n.useEffect)(function(){var e=document.title;return document.title=u(t).firstName+" "+u(t).lastName,function(){document.title=e}},[t,u]),r.a.createElement("div",null,r.a.createElement("h2",null,"Profile for"," ",u(t).firstName," ",u(t).lastName),r.a.createElement("form",{onChange:N,onSubmit:N},r.a.createElement("p",null,r.a.createElement("label",null,"First name"," ",r.a.createElement("input",{type:"text",name:"firstName",defaultValue:u(t).firstName}))),r.a.createElement("p",null,r.a.createElement("label",null,"Last name"," ",r.a.createElement("input",{type:"text",name:"lastName",defaultValue:u(t).lastName}))),r.a.createElement("p",null,r.a.createElement("label",null,"Matches played"," ",r.a.createElement("input",{type:"number",name:"matchCount",defaultValue:String(u(t).matchCount)}))),r.a.createElement("p",null,r.a.createElement("label",null,"Rating",r.a.createElement("input",{type:"number",name:"rating",defaultValue:String(u(t).rating)}))),r.a.createElement("p",null,r.a.createElement("label",null,"K factor",r.a.createElement("input",{type:"number",readOnly:!0,value:Q()(ge(u(t).matchCount)).format("00")})))),r.a.createElement("ul",null,r.a.createElement("h3",null,"Players to avoid"),p.map(function(e){return r.a.createElement("li",{key:e},u(e).firstName," ",u(e).lastName," ",r.a.createElement("button",{className:"danger iconButton",onClick:function(){return c({type:"DEL_AVOID_PAIR",pair:[t,e]})},title:"Remove ".concat(u(e).firstName," \n").concat(u(e).lastName),"arial-label":"Remove \n".concat(u(e).firstName," ").concat(u(e).lastName," from avoid list.")},r.a.createElement(j.a,null)))}),0===o.length&&r.a.createElement("li",null,"None")),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),c({type:"ADD_AVOID_PAIR",pair:[t,Number(g)]})}(e)}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Add player to avoid"),r.a.createElement("select",{onBlur:function(e){return h(Number(e.target.value))}},f.map(function(e){return r.a.createElement("option",{key:e,value:e},u(e).firstName," ",u(e).lastName)}))," ",r.a.createElement("input",{type:"submit",value:"Add"}))))}var ea=a(80),ta=a.n(ea);function aa(e){var t=_e(),a=t.playerState,n=t.playerDispatch;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("caption",null,"Demo Roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.players.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"table__player"},r.a.createElement(gt,{id:e.id,firstName:!0})),r.a.createElement("td",{className:"table__player"},r.a.createElement(gt,{id:e.id,lastName:!0})),r.a.createElement("td",{className:"table__number"},e.rating),r.a.createElement("td",null,r.a.createElement("button",{className:"danger iconButton",onClick:function(t){return function(e,t){e.preventDefault(),n({type:"DEL_PLAYER",id:t})}(t,e.id)},title:"Delete ".concat(e.firstName," ").concat(e.lastName),"aria-label":"Delete ".concat(e.firstName," ").concat(e.lastName)},r.a.createElement(j.a,null))),r.a.createElement("td",null,r.a.createElement(u.a,{to:String(e.id)},"Open",r.a.createElement(P.a,null," ",e.firstName," ",e.lastName)," ",r.a.createElement(ta.a,null))))}))),r.a.createElement(kt,null))}function na(e){return r.a.createElement("div",null,e.children)}function ra(e){var t=lt(),a=Object(d.a)(t,2),l=a[0],c=a[1],u=dt(),i=Object(d.a)(u,2),o=i[0],s=i[1],m=_e(),p=m.playerState,E=m.playerDispatch,f=Object(n.useState)(""),y=Object(d.a)(f,2),b=y[0],g=y[1],h=Object(n.useMemo)(function(){return{options:o,tourneys:l,playerState:p}},[o,l,p]);function N(e){c({type:"LOAD_STATE",state:e.tourneys}),s({type:"LOAD_STATE",state:e.options}),E({type:"LOAD_STATE",state:e.playerState}),window.alert("Data loaded!")}return Object(n.useEffect)(function(){g(JSON.stringify(h,null,4))},[h]),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Bye options"),"Select how many points a bye is worth:"," ",r.a.createElement("label",null,"1",r.a.createElement("input",{type:"radio",checked:1===o.byeValue,onChange:function(){return s({type:"SET_BYE_VALUE",byeValue:1})}}))," ",r.a.createElement("label",null,"\xbd",r.a.createElement("input",{type:"radio",checked:.5===o.byeValue,onChange:function(){return s({type:"SET_BYE_VALUE",byeValue:.5})}})))),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Manage data"),r.a.createElement("p",null,r.a.createElement("a",{href:"data:application/json,"+encodeURIComponent(JSON.stringify(h)),download:"chessahoochee.json"},"Download all data")),r.a.createElement("label",null,"Load data file:"," ",r.a.createElement("input",{type:"file",id:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t=e.target.result;N(JSON.parse(t))},t.readAsText(e.currentTarget.files[0]),e.currentTarget.value=""}}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(JSON.parse(b))}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Advanced: manually edit data"),r.a.createElement("textarea",{className:"json",rows:25,cols:50,value:b,name:"playerdata",onChange:function(e){return g(e.currentTarget.value)}}),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Load"})))))}var la=a(48),ca=a.n(la),ua=function(){return r.a.createElement("div",{className:ca.a.caution},r.a.createElement("p",{className:ca.a.caution__text},r.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f"),"\xa0 This is an unstable demo build. \xa0",r.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," ","Want to help make it better? Head to the"," ",r.a.createElement("span",{role:"img","aria-label":"finger pointing right"},"\ud83d\udc49"),"\xa0",r.a.createElement("a",{className:ca.a.caution__link,href:"https://github.com/johnridesabike/chessahoochee"},"Git repository"),"."))},ia=(a(115),a(34)),oa=o()(),sa=Object(u.e)(oa);var ma=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(ua,null),r.a.createElement(u.b,{history:sa},r.a.createElement("nav",{className:"header"},r.a.createElement(u.a,{to:"tourneys",className:ia.link},"Tournaments"),r.a.createElement(u.a,{to:"players",className:ia.link},"Players"),r.a.createElement(u.a,{to:"options",className:ia.link},"Options"),r.a.createElement(u.a,{to:"about",className:ia.link},"About")),r.a.createElement("main",{className:"content"},r.a.createElement(pt,null,r.a.createElement(je,null,r.a.createElement(it,null,r.a.createElement(u.d,null,r.a.createElement(Zt,{path:"tourneys"},r.a.createElement(Xt,{path:"/"}),r.a.createElement(zt,{path:":tourneyId"})),r.a.createElement(na,{path:"players"},r.a.createElement(aa,{path:"/"}),r.a.createElement($t,{path:":playerId"})),r.a.createElement(ra,{path:"options"}),r.a.createElement(s,{path:"about"}),r.a.createElement(m,{default:!0}),r.a.createElement(u.c,{from:"/",to:"tourneys",noThrow:!0}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(n.StrictMode,null,r.a.createElement(ma,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},15:function(e,t,a){e.exports={table:"scores_table__22BFZ",topHeader:"scores_topHeader__2RVRR",row:"scores_row__bmBzX",playerName:"scores_playerName__3ghv9",rank:"scores_rank__3AxBb"}},30:function(e,t,a){e.exports={table:"round_table__2JmnE",winnerSelect:"round_winnerSelect__317oT",toolbar:"round_toolbar__3CWVM",selected:"round_selected__bLYhT"}},33:function(e,t,a){e.exports={topToolbar:"tournament_topToolbar__11IoE",toolbarItem:"tournament_toolbarItem__1pUz6"}},34:function(e,t,a){e.exports={link:"App_link__TB6Cl"}},48:function(e,t,a){e.exports={caution:"caution_caution__17Bbq",caution__text:"caution_caution__text__2ptRS",caution__link:"caution_caution__link__X_K5Y"}},54:function(e){e.exports={playerList:[{id:0,type:"person",firstName:"Bruce",lastName:"Wayne",rating:1998,matchCount:9},{id:1,type:"person",firstName:"Dick",lastName:"Grayson",rating:1909,matchCount:9},{id:2,type:"person",firstName:"Alfred",lastName:"Pennyworth",rating:1999,matchCount:9},{id:3,type:"person",firstName:"Barbara",lastName:"Gordon",rating:1345,matchCount:7},{id:4,type:"person",firstName:"Kate",lastName:"Kane",rating:1538,matchCount:9},{id:5,type:"person",firstName:"Selina",lastName:"Kyle",rating:1495,matchCount:9},{id:6,type:"person",firstName:"Jason",lastName:"Todd",rating:1101,matchCount:7},{id:7,type:"person",firstName:"James",lastName:"Gordon",rating:1167,matchCount:7},{id:8,type:"person",firstName:"Helena",lastName:"Wayne",rating:1087,matchCount:7},{id:9,type:"person",firstName:"Joker",lastName:"",rating:1538,matchCount:1},{id:10,type:"person",firstName:"Harley",lastName:"Quinn",rating:1648,matchCount:1},{id:11,type:"person",firstName:"Victor",lastName:"Fries",rating:862,matchCount:1},{id:12,type:"person",firstName:"Oswald",lastName:"Cobblepot",rating:1812,matchCount:1},{id:13,type:"person",firstName:"Ra's",lastName:"al Ghul",rating:1404,matchCount:1},{id:14,type:"person",firstName:"Pamela",lastName:"Isley",rating:965,matchCount:1},{id:15,type:"person",firstName:"Edward",lastName:"Nigma",rating:948,matchCount:1},{id:16,type:"person",firstName:"Jonathan",lastName:"Crane",rating:899,matchCount:1},{id:17,type:"person",firstName:"Harvey",lastName:"Dent",rating:1649,matchCount:1},{id:18,type:"person",firstName:"Hugo",lastName:"Strange",rating:800,matchCount:0}],avoidList:[[3,7],[9,10],[8,0]]}},55:function(e,t,a){e.exports={panels:"utility_panels__LN75I",panel:"utility_panel__2GOiH"}},74:function(e){e.exports=[{name:"Wayne Manor Open",tieBreaks:[0,1,2,3],byeQueue:[],players:[0,1,2,3,4,5,6,7,8],roundList:[[{id:"6-1",players:[6,1],result:[0,1],origRating:[1238,2108],newRating:[1236,2109]},{id:"7-2",players:[7,2],result:[0,1],origRating:[1049,2260],newRating:[1049,2260]},{id:"4-3",players:[4,3],result:[.5,.5],origRating:[1527,1755],newRating:[1553,1722]},{id:"5-0",players:[5,0],result:[0,1],origRating:[1284,1881],newRating:[1278,1887]},{id:"8--1",players:[8,-1],result:[1,0],origRating:[831,0],newRating:[831,0]}],[{id:"1-4",players:[1,4],result:[1,0],origRating:[2109,1685],newRating:[2122,1672]},{id:"0-8",players:[0,8],result:[1,0],origRating:[1887,831],newRating:[1887,830]},{id:"2-5",players:[2,5],result:[0,1],origRating:[2260,1278],newRating:[2101,1437]},{id:"3-6",players:[3,6],result:[1,0],origRating:[1545,1236],newRating:[1574,1207]},{id:"7--1",players:[7,-1],result:[1,0],origRating:[1049,0],newRating:[1049,0]}],[{id:"2-0",players:[2,0],result:[0,1],origRating:[2101,1887],newRating:[1998,1990]},{id:"8-1",players:[8,1],result:[1,0],origRating:[830,2122],newRating:[990,2008]},{id:"5-3",players:[5,3],result:[1,0],origRating:[1437,1574],newRating:[1529,1464]},{id:"4-7",players:[4,7],result:[0,1],origRating:[1672,1049],newRating:[1542,1244]},{id:"6--1",players:[6,-1],result:[1,0],origRating:[1207,0],newRating:[1207,0]}],[{id:"0-4",players:[0,4],result:[1,0],origRating:[1990,1542],newRating:[1998,1534]},{id:"1-7",players:[1,7],result:[1,0],origRating:[2008,1244],newRating:[2009,1243]},{id:"8-5",players:[8,5],result:[0,1],origRating:[990,1529],newRating:[983,1534]},{id:"6-2",players:[6,2],result:[0,1],origRating:[1207,1998],newRating:[1205,1999]},{id:"3--1",players:[3,-1],result:[1,0],origRating:[1464,0],newRating:[1464,0]}]]},{name:"The Battle for Gotham City",tieBreaks:[0,1,2,3],byeQueue:[],players:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,7],roundList:[[{id:"15-0",players:[15,0],result:[0,1],origRating:[950,1998],newRating:[948,1998]},{id:"16-2",players:[16,2],result:[0,1],origRating:[900,1999],newRating:[899,1999]},{id:"17-1",players:[17,1],result:[1,0],origRating:[850,2009],newRating:[1649,1909]},{id:"13-5",players:[13,5],result:[.5,.5],origRating:[1050,1534],newRating:[1404,1495]},{id:"12-3",players:[12,3],result:[1,0],origRating:[1100,1464],newRating:[1812,1345]},{id:"14-4",players:[14,4],result:[0,1],origRating:[1e3,1534],newRating:[965,1538]},{id:"10-7",players:[10,7],result:[1,0],origRating:[1200,1242],newRating:[1648,1167]},{id:"11-9",players:[11,9],result:[0,1],origRating:[1150,1250],newRating:[862,1538]},{id:"8-6",players:[8,6],result:[1,0],origRating:[983,1205],newRating:[1087,1101]}]]}]},77:function(e){e.exports={byeValue:1}},88:function(e,t,a){e.exports=a(116)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.e1db35bc.chunk.js.map