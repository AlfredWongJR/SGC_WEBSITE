(this.webpackJsonpcoronate=this.webpackJsonpcoronate||[]).push([[0],{71:function(e,t,a){e.exports=a(72)},72:function(e,t,a){a(96)},77:function(e,t,a){e.exports=a.p+"static/media/icon-min.53b3e3eb.svg"},78:function(e,t,a){e.exports=a.p+"static/media/caution.01a9c1c3.svg"},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(41),i=a(13),o=a(3),c=a(1),l=a(54),u=a(55),s=a(36),d=a(10),m=a(2),_=a(28),f=a(34),g=a(56),v=a(26),h=a(6),b=a(17),y=a(16),p=a.n(y),E=a(9),k=a(102),w=a(103),N=a(31),R=a(15),C=a(57),I=a.n(C),S=a(45),O=a(8),D=a(5),B=a(98),T=a(99),M=a(100),L=a(101),F=a(32),A=a(42);function P(e){return I.a()}function x(e,t,a,n){return c.b(e,c.a(t,a),c.a(t,n))}function H(e,t,a,n){return c.b(e,c.a(t,n),c.a(t,a))}var W={last:function(e){return E.d(e,e.length-1|0)},sum:function(e){return E.k(e,0,(function(e,t){return e+t|0}))},sumF:function(e){return E.k(e,0,(function(e,t){return e+t}))},swap:function(e,t,a){var n=E.d(e,t),r=E.d(e,a);return void 0!==n&&void 0!==r?(E.o(e,t,D.e(r)),E.o(e,a,D.e(n)),e):e}};var J={sumF:function(e){return O.j(e,0,(function(e,t){return e+t}))},toReactArrayReverse:function(e,t){var a=[];return O.b(e,(function(e){return a.unshift(c.a(t,e))})),a},toReactArrayReverseWithIndex:function(e,t){var a=[];return O.c(O.k(e),(function(e,n){return a.push(c.b(t,e,n))})),a},toReactArray:function(e,t){var a=[];return O.b(e,(function(e){return a.push(c.a(t,e))})),a},toReactArrayWithIndex:function(e,t){var a=[];return O.c(e,(function(e,n){return a.push(c.b(t,e,n))})),a}};function K(e){return window.alert(e),0}var Q={logo:a(77),caution:a(78)},V={nbsp:"\xa0",copy:"\xa9"};var G=A.b(["en-US"],1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,0,0);var U={make:function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},A.a(G,t))}},z=A.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,void 0,void 0,void 0,0,0);var q={make:function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},A.a(z,t))}},j=o.K([o.m(-1010954439),[o.q(-822134326),[o.A("screen and (min-width: 600px)",[o.q(867913355),0]),0]]]),Y=o.K([o.z([25096,16]),0]);var Z={make:function(e){var t=e.children,a=e.className,r=void 0!==a?a:"",o=e.style,c=void 0!==o?D.e(o):{};return n.createElement("div",{className:i.c([Y,[r,0]]),style:c},t)}};var X={make:function(e){var t=e.children,a=e.className,r=void 0!==a?a:"",o=e.style,c=void 0!==o?D.e(o):{};return n.createElement("div",{className:i.c([j,[r,0]]),style:c},t)}},$=[5194459,"30e60b"],ee=[5194459,"003706"],te=[5194459,"ffe900"],ae=[5194459,"3e2800"],ne=[5194459,"d70022"],re=[5194459,"ffffff"],ie={magenta_50:[5194459,"ff1ad9"],magenta_60:[5194459,"ed00b5"],magenta_70:[5194459,"b5007f"],magenta_80:[5194459,"7d004f"],magenta_90:[5194459,"440027"],purple_30:[5194459,"c069ff"],purple_40:[5194459,"ad3bff"],purple_50:[5194459,"9400ff"],purple_60:[5194459,"8000d7"],purple_70:[5194459,"6200a4"],purple_80:[5194459,"440071"],purple_90:[5194459,"25003e"],blue_40:[5194459,"45a1ff"],blue_50:[5194459,"0a84ff"],blue_50_A30:[5194459,"0a84ff4c"],blue_60:[5194459,"0060df"],blue_70:[5194459,"003eaa"],blue_80:[5194459,"002275"],blue_90:[5194459,"000f40"],teal_50:[5194459,"00feff"],teal_60:[5194459,"00c8d7"],teal_70:[5194459,"008ea4"],teal_80:[5194459,"005a71"],teal_90:[5194459,"002d3e"],green_50:$,green_60:[5194459,"12bc00"],green_70:[5194459,"058b00"],green_80:[5194459,"006504"],green_90:ee,yellow_50:te,yellow_60:[5194459,"d7b600"],yellow_70:[5194459,"a47f00"],yellow_80:[5194459,"715100"],yellow_90:ae,red_50:[5194459,"ff0039"],red_60:ne,red_70:[5194459,"a4000f"],red_80:[5194459,"5a0002"],red_90:[5194459,"3e0200"],orange_50:[5194459,"ff9400"],orange_60:[5194459,"d76e00"],orange_70:[5194459,"a44900"],orange_80:[5194459,"712b00"],orange_90:[5194459,"3e1300"],grey_10:[5194459,"f9f9fa"],grey_10_A10:[5194459,"f9f9fa19"],grey_10_A20:[5194459,"f9f9fa33"],grey_10_A40:[5194459,"f9f9fa66"],grey_10_A60:[5194459,"f9f9fa99"],grey_10_A80:[5194459,"f9f9facc"],grey_20:[5194459,"ededf0"],grey_30:[5194459,"d7d7db"],grey_40:[5194459,"b1b1b3"],grey_50:[5194459,"737373"],grey_60:[5194459,"4a4a4f"],grey_70:[5194459,"38383d"],grey_80:[5194459,"2a2a2e"],grey_90:[5194459,"0c0c0d"],grey_90_A05:[5194459,"0c0c0d0c"],grey_90_A10:[5194459,"0c0c0d19"],grey_90_A20:[5194459,"0c0c0d33"],grey_90_A30:[5194459,"0c0c0d4c"],grey_90_A40:[5194459,"0c0c0d66"],grey_90_A50:[5194459,"0c0c0d7f"],grey_90_A60:[5194459,"0c0c0d99"],grey_90_A70:[5194459,"0c0c0db2"],grey_90_A80:[5194459,"0c0c0dcc"],grey_90_A90:[5194459,"0c0c0de5"],ink_70:[5194459,"363959"],ink_80:[5194459,"202340"],ink_90:[5194459,"0f1126"],white_100:re},oe=o.K([o.m(-1010954439),[o.n(5693978),[o.w(98248149),[o.B([25096,32]),[o.s([25096,13]),[o.t([5496390,400]),[o.I([25096,4]),[o.H([25096,4]),[o.y([25096,4],-789508312),[o.g([25096,4]),0]]]]]]]]]]),ce=o.K([o.m(-1010954439),[o.n(5693978),[o.b(98248149),0]]]),le=o.K([o.m(-1010954439),[o.n(5693978),[o.b(98248149),[o.p(1),[o.y(-789508312,[25096,4]),[o.s([25096,16]),[o.l(-989121855),0]]]]]]]),ue=o.K([o.k(ee),[o.c($),0]]),se=o.K([o.k(ae),[o.c(te),0]]),de=o.K([o.k(re),[o.c(ne),0]]);var me={Style:{container:oe,text:ce,icon:le,success:ue,warning:se,error:de},make:function(e){var t,a=e.children,r=e.kind,o=void 0!==r?r:3,c=e.tooltip,l=void 0!==c?c:"",u=e.className,s=void 0!==u?u:"",d=e.style,m=void 0!==d?D.e(d):{};switch(o){case 0:t=[n.createElement(B.a,{}),ue];break;case 1:t=[n.createElement(T.a,{}),se];break;case 2:t=[n.createElement(M.a,{}),de];break;case 3:t=[n.createElement(L.a,{}),""]}return n.createElement("div",{className:i.c([oe,[t[1],[s,0]]]),style:m},n.createElement("div",{"aria-label":l,className:le,title:l},t[0]),n.createElement("div",{className:ce},a))}};var _e={make:function(e){var t=e.children,a=e.to_,r=e.onDragStart,i=F.e(void 0,0).hash,o="/"===a&&""===i||i===a?"true":"false";return n.createElement("a",{"aria-current":o,href:"#"+a,onDragStart:r},t)}},fe={push:F.b,replace:F.c,watchUrl:F.f,unwatchUrl:F.d,dangerouslyGetInitialUrl:F.a,useUrl:F.e,hashPath:function(e){var t=O.d(e.split("/")),a=t?t[1]:t;return a||["",0]},HashLink:_e};var ge={make:function(e){var t=e.children,a=e.testId;return n.cloneElement(t,{"data-testid":a})}};S.c("fraction",S.a.make(S.b.make(/(1\/2)/,/(1\/2)/),(function(e,t,a){var n=Math.floor(e),r=e-n,i=.25!==r?.5!==r?.75!==r?"":"\xbe":"\xbd":"\xbc";return(0===n&&""!==i?"":n.toString())+i}),(function(e){return Number(e)})));var ve="https://github.com/johnridesabike/coronate",he="https://github.com/johnridesabike/coronate/blob/master/LICENSE",be="https://github.com/johnridesabike/coronate/issues/new",ye=a(48),pe=a.n(ye),Ee=a(38);var ke={opposite:function(e){return e?0:1},toScore:function(e){return e?1:-1}};function we(e,t){var a=void 0!==e?e:0;return{colorScores:0,colors:0,id:t,isDummy:!1,opponentResults:h.a,ratings:0,firstRating:a,results:0,resultsNoByes:0}}function Ne(e,t){var a=h.c(e,t);return void 0===a||!a.isDummy}function Re(e,t){var a=h.c(e,t);return void 0!==a?J.sumF(a.results):0}function Ce(e,t){var a=h.c(e,t);return void 0!==a?h.k(a.opponentResults,0,(function(t,a,n){return Ne(e,a)?[Re(e,a),t]:t})):0}function Ie(e,t){return d.f(O.n(d.f(O.n(O.m(Ce(e,t),R.d)),0,O.k)),0,J.sumF)}function Se(e,t){return J.sumF(Ce(e,t))}function Oe(e,t){if(e){var a=e[0];return([a+t,[a,e[1]]])}return[t,0]}function De(e,t){var a=h.c(e,t);return void 0!==a?J.sumF(O.j(a.resultsNoByes,0,Oe)):0}function Be(e,t){var a=h.c(e,t);return void 0!==a?J.sumF(O.i(h.k(a.opponentResults,0,(function(t,a,n){return Ne(e,a)?[a,t]:t})),(function(t){return De(e,t)}))):0}function Te(e,t){var a=h.c(e,t);return void 0!==a?J.sumF(a.colorScores):0}function Me(e){switch(e){case 0:return Ie;case 1:return Se;case 2:return De;case 3:return Be;case 4:return Te}}function Le(e,t){var a=O.i(O.d(t),(function(e){return[e,Me(e)]})),n=O.d(t);return O.m(O.k(h.k(e,0,(function(t,n,r){return[{id:n,score:J.sumF(r.results),tieBreaks:O.i(a,(function(t){return[t[0],c.b(t[1],e,n)]}))},t]}))),(function(e,t){return function(e,t,a){var n=R.d(a.score,t.score);if(0!==n)return n;for(var r=e;;){var i=r;if(!i)return 0;var o=i[1],c=function(e){return function(t){return O.e(t,e,(function(e,t){return e===t}))}}(i[0]),l=c(t.tieBreaks),u=c(a.tieBreaks);if(void 0===l)r=o;else{if(void 0!==u){var s=R.d(u,l);if(0!==s)return s;r=o;continue}r=o}}}(n,e,t)}))}function Fe(e){return O.j(e,0,(function(e,t){if(e){var a=e[0];if(a){var n=e[1];return function(e,t){if(e.score!==t.score)return!1;var a=O.j(e.tieBreaks,0,(function(e,a){var n=O.e(t.tieBreaks,a[0],(function(e,t){return e===t}));return void 0!==n?[a[1]!==n,e]:e}));return!O.g(a,!0,(function(e,t){return e===t}))}(a[0],t)?[[t,a],n]:[[t,0],[a,n]]}return[[t,0],e]}return[[t,0],0]}))}function Ae(e){var t=e>0?e:1;return Ee.b(800,t)}function Pe(e){return e>100?e:100}var xe={getKFactor:Ae,floor:100,keepAboveFloor:Pe,EloRank:0,calcNewRatings:function(e,t,a){var n=e[1],r=e[0],i=new pe.a(Ae(t[0])),o=new pe.a(Ae(t[1])),c=i.getExpected(r,n),l=o.getExpected(n,r);return[Pe(i.updateRating(c,a[0],r)),Pe(o.updateRating(l,a[1],n))]}},He=a(58),We=a(12),Je=a(24);function Ke(e){return.5!==e?0:1}function Qe(e){return Ke(We.a(e))}var Ve=He.a({cmp:function(e,t){var a=t[1],n=t[0],r=e[1],i=e[0],o=b.a(i,n),c=b.a(r,a),l=b.a(i,a),u=b.a(r,n);switch(o){case-1:if(1===c)switch(l){case-1:if(1===u)return-1;break;case 0:break;case 1:if(-1===u)return-1}break;case 0:break;case 1:if(-1===c)switch(l){case-1:if(1===u)return 1;break;case 0:break;case 1:if(-1===u)return 1}}return((o+c|0)+l|0)+u|0}}),Ge=f.c(Ve);function Ue(e){return f.b(We.d((function(e){return We.j(We.k,We.k,e)}),e),Ve)}function ze(e){return Je.a((function(e){return Je.e((function(e){return e}),(function(e){return e}),e)}),f.f(e))}function qe(e,t){var a=t[1],n=t[0],r=h.c(e,n),i=void 0!==r?[a,r]:[a,0],o=h.c(e,a),c=void 0!==o?[n,o]:[n,0];return h.n(h.n(e,n,i),a,c)}var je={T:Ve,empty:Ge,fromArray:function(e){return f.b(e,Ve)},decode:Ue,encode:ze,toMapReducer:qe,toMap:function(e){return f.d(e,h.a,qe)}};function Ye(e){return{avoidPairs:We.g("avoidPairs",Ue,e),byeValue:We.g("byeValue",Qe,e),lastBackup:We.g("lastBackup",We.e,e)}}function Ze(e){return Je.d([["avoidPairs",ze(e.avoidPairs)],[["byeValue",e.byeValue?.5:1],[["lastBackup",Je.b(e.lastBackup)],0]]])}var Xe={avoidPairs:Ge,byeValue:0,lastBackup:new Date(0)};function $e(e){switch(e){case 0:return"person";case 1:return"dummy";case 2:return"missing"}}function et(e){switch(e){case"dummy":return 1;case"missing":return 2;case"person":default:return 0}}function tt(e){return et(We.k(e))}var at={toString:$e,fromString:et,encode:$e,decode:tt};function nt(e){return{firstName:We.g("firstName",We.k,e),id:We.g("id",We.k,e),lastName:We.g("lastName",We.k,e),matchCount:We.g("matchCount",We.b,e),rating:We.g("rating",We.b,e),type_:We.g("type_",tt,e)}}function rt(e){return Je.d([["firstName",e.firstName],[["id",e.id],[["lastName",e.lastName],[["matchCount",e.matchCount],[["rating",e.rating],[["type_",$e(e.type_)],0]]]]]])}var it="________DUMMY________";function ot(e){return e===it}var ct={firstName:"Bye",id:it,lastName:"Player",matchCount:0,rating:0,type_:1};function lt(e,t){return t===it?ct:h.e(e,t,function(e){return{firstName:"Anonymous",id:e,lastName:"Player",matchCount:0,rating:0,type_:2}}(t))}var ut=a(20);function st(e,t){var a;if("number"===typeof t)a=e;else switch(0|t.tag){case 0:a={isDescending:t[0],column:e.column,table:e.table};break;case 1:a={isDescending:e.isDescending,column:t[0],table:e.table};break;case 2:a={isDescending:e.isDescending,column:e.column,table:t[0]}}var n,r=a.isDescending?H:x,i=a.column;switch(0|i.tag){case 0:var o=i[0];n=c.b(r,R.j,(function(e){return c.a(o,e).toLowerCase()}));break;case 1:n=c.b(r,R.f,i[0]);break;case 2:n=c.b(r,R.d,i[0]);break;case 3:var l=i[0];n=c.b(r,R.d,(function(e){return c.a(l,e).getTime()}))}var u=N.a(a.table,n);return{isDescending:a.isDescending,column:a.column,table:u}}function dt(e,t,a){var r={isDescending:a,column:t,table:e},i=n.useReducer(st,r),o=i[1];return n.useEffect((function(){c.a(o,0)}),[]),[i[0],o]}var mt={make:function(e){var t=e.children,a=e.sortColumn,r=e.data,i=e.dispatch,o=r.column===a?{opacity:"1"}:{opacity:"0"},l=r.isDescending;return n.createElement("button",{className:"button-micro dont-hide button-text-ghost title-20",style:{width:"100%"},onClick:function(e){return r.column===a?c.a(i,m.a(0,[!r.isDescending])):c.a(i,m.a(1,[a]))}},n.createElement("span",{"aria-hidden":!0},n.createElement(k.a,{style:{opacity:"0"}})),t,l?n.createElement("span",{style:o},n.createElement(k.a,{}),n.createElement(ut.a,{children:"Sort ascending."})):n.createElement("span",{style:o},n.createElement(w.a,{}),n.createElement(ut.a,{children:"Sort descending."})))}};function _t(e){return n.useEffect((function(){return document.body.style.cursor=e?"auto":"wait",function(e){return document.body.style.cursor="auto"}}),[e]),0}function ft(e,t,a,r,i,o,l,u){var s=h.c(t,e.id),m=void 0!==s?s:we(void 0,e.id),_=m.opponentResults,f=h.f(_,it),g=J.sumF(m.colorScores),v=g<0?"White +"+Math.abs(g).toString():g>0?"Black +"+g.toString():"Even",y=d.f(a,h.a,je.toMap),k=h.c(y,e.id),w=void 0!==k?k:0,N=J.sumF(m.results),R=E.i(h.p(_),(function(e){var t=e[1],a=e[0];return n.createElement("li",{key:a},b.b(" ",[c.a(r,a).firstName,[c.a(r,a).lastName,["-",[0!==t?.5!==t&&1===t?"Won":"Draw":"Lost",0]]]]))})),C=J.toReactArrayReverse(w,(function(e){var t=h.c(i,e);if(void 0!==t){var a=t;return n.createElement("li",{key:e},a.firstName+" "+a.lastName)}return null}));return{player:e,hasBye:f,colorBalance:v,score:N,rating:n.createElement(n.Fragment,void 0,o.toString(),void 0!==l?n.createElement("span",void 0," (",p.a(l-o|0).format("+0"),")"):null),opponentResults:R,avoidListHtml:C}}var gt=a(33),vt=a(62),ht=a.n(vt);function bt(e){return 8/e}function yt(e){return 0}var pt=J.sumF([bt(1),[4,[16,[32,0]]]]);function Et(e,t){if(e.id===t.id)return 0;var a=O.g(e.opponents,t.id,(function(e,t){return e===t})),n=O.g(e.avoidIds,t.id,(function(e,t){return e===t})),r=e.colors,i=t.colors,o=!r||!i||r[0]!==i[0],c=Math.abs(e.score-t.score)+1,l=s.b(e.halfPos-t.halfPos|0)+1|0,u=e.isUpperHalf!==t.isUpperHalf&&e.score===t.score;return J.sumF([o?4:0,[16/c,[(u?bt:yt)(l),[a||n?0:32,0]]]])}function kt(e,t){return H(R.f,(function(e){return e.rating}),e,t)}function wt(e){var t=h.q(e);return h.j(e,(function(e){var a=function(e){var t=e.length/2|0;return([E.q(e,0,t),E.r(e,t)])}(N.a(E.h(t,(function(t){return t.score===e.score})),kt)),n=function(t){return E.g(t,(function(t){return t===e}))},r=n(a[0]),i=n(a[1]),o=void 0!==r?[r,!0]:void 0!==i?[i,!1]:[0,!1];return{id:e.id,avoidIds:e.avoidIds,colorScores:e.colorScores,colors:e.colors,halfPos:o[0],isUpperHalf:o[1],opponents:e.opponents,rating:e.rating,score:e.score}}))}function Nt(e,t){var a=R.d(e.score,t.score);return 0!==a?a:R.f(e.rating,t.rating)}function Rt(e){var t=e[1],a=e[0];return J.sumF(a.colorScores)<J.sumF(t.colorScores)?[t.id,a.id]:[a.id,t.id]}function Ct(e){return e[0].score+e[1].score}function It(e){return e[0].rating+e[1].rating|0}function St(e,t){var a=R.d(Ct(t),Ct(e));return 0!==a?a:R.f(It(t),It(e))}function Ot(e){switch(e){case 0:return"whiteWon";case 1:return"blackWon";case 2:return"draw";case 3:return"notSet"}}function Dt(e){switch(e){case"blackWon":return 1;case"draw":return 2;case"whiteWon":return 0;default:return 3}}function Bt(e){return Dt(We.k(e))}var Tt={toFloat:function(e,t){switch(e){case 0:return t?0:1;case 1:return t?1:0;case 2:return.5;case 3:return 0}},toString:Ot,fromString:Dt,encode:Ot,decode:Bt};function Mt(e){return{id:We.g("id",We.k,e),whiteId:We.g("whiteId",We.k,e),blackId:We.g("blackId",We.k,e),whiteNewRating:We.g("whiteNewRating",We.b,e),blackNewRating:We.g("blackNewRating",We.b,e),whiteOrigRating:We.g("whiteOrigRating",We.b,e),blackOrigRating:We.g("blackOrigRating",We.b,e),result:We.g("result",Bt,e)}}function Lt(e){return Je.d([["id",e.id],[["whiteId",e.whiteId],[["blackId",e.blackId],[["whiteNewRating",e.whiteNewRating],[["blackNewRating",e.blackNewRating],[["whiteOrigRating",e.whiteOrigRating],[["blackOrigRating",e.blackOrigRating],[["result",Ot(e.result)],0]]]]]]]])}function Ft(e,t){return e?2:t?1:0}function At(e,t){var a=ot(e.whiteId),n=ot(e.blackId);return a?n?e:{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:Ft(t,1)}:n?{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:Ft(t,0)}:e}function Pt(e,t,a,n){var r=h.h(e,(function(e,t){return h.f(a,e)})),i=function(e,t,a){if(h.o(a)%2===0)return[a,void 0];var n,r=O.m(O.h(O.d(h.q(a)),(function(e){return!O.g(e.opponents,t,(function(e,t){return e===t}))})),Nt),i=O.i(r,(function(e){return e.id})),o=O.h(O.d(e),(function(e){return O.g(i,e,(function(e,t){return e===t}))}));if(o){var c=h.c(a,o[0]);n=void 0!==c?c:O.f(r,0)}else n=r?r[0]:O.f(O.m(O.d(h.q(a)),Nt),0);return[h.l(a,n.id),n]}(n,it,r),o=i[1],c=function(e){var t=h.i(e),a=h.q(e);return O.i(O.m(E.n(ht.a(E.n(a,[],(function(e,n,r){var i=E.i(E.r(a,r+1|0),(function(e){return[t.indexOf(n.id),t.indexOf(e.id),Et(n,e)]}));return E.b(e,i)}))),0,(function(a,n,r){var i=E.d(t,n),o=E.d(t,r);if(void 0!==i&&void 0!==o){var c=h.d(e,i),l=h.d(e,o),u=O.i(a,(function(e){return e[0]})),s=function(e){return O.g(u,e,(function(e,t){return e===t}))};return s(c)||s(l)?a:[[c,l],a]}return a})),St),Rt)}(i[0]),l=void 0!==o?O.k(O.a(O.k(c),[o.id,it])):c;return O.i(l,(function(e){var n=e[1],r=e[0];return At({id:P(),whiteId:r,blackId:n,whiteNewRating:lt(a,r).rating,blackNewRating:lt(a,n).rating,whiteOrigRating:lt(a,r).rating,blackOrigRating:lt(a,n).rating,result:3},t)}))}function xt(e,t){var a=e[1],n=e[0];return At({id:P(),whiteId:n.id,blackId:a.id,whiteNewRating:n.rating,blackNewRating:a.rating,whiteOrigRating:n.rating,blackOrigRating:a.rating,result:3},t)}function Ht(e){return Je.a(Lt,e)}function Wt(e){return We.d(Mt,e)}function Jt(e){return E.k(e,[],(function(e,t){return E.b(e,[t.whiteId,t.blackId])}))}function Kt(e,t){return E.e(e,(function(e){return e.id===t}))}function Qt(e,t){return d.a(d.e(E.g(e,(function(e){return e.id===t.id})),(function(a){return E.o(e,a,t)})),(function(t){if(t)return e}))}var Vt=[[]];function Gt(e){return We.d(Wt,e)}function Ut(e){return e.length}function zt(e){return e.length-1|0}var qt=E.d;function jt(e,t,a){if(E.o(e,t,a))return e}function Yt(e,t,a){return d.a(d.a(E.d(e,t),(function(e){return Qt(e,a)})),(function(a){return jt(e,t,a)}))}function Zt(e,t,a){var n=void 0!==t?E.q(e,0,t+1|0):e;return E.k(n,[],E.b)}function Xt(e,t,a){var n=E.d(e,a);if(void 0!==n&&a>=(e.length-1|0)){var r=n,i=Jt(r),o=h.m(t,i),c=E.i(r,(function(e){return e.result}));return 0===h.o(o)&&!c.includes(3)}return!0}function $t(e){return E.b(e,[[]])}function ea(e){return e.slice(0,-1)}function ta(e,t){return E.i(e,(function(e){return E.i(e,(function(e){return At(e,t)}))}))}var aa={fromArray:function(e){return e},toArray:function(e){return e},empty:[],encode:Ht,decode:Wt,size:function(e){return e.length},addMatches:E.b,getMatched:Jt,getMatchById:Kt,removeMatchById:function(e,t){return E.h(e,(function(e){return e.id!==t}))},setMatch:Qt,moveMatch:function(e,t,a){var n=Kt(e,t);if(void 0!==n){var r=e.indexOf(n),i=(r+a|0)>=0?r+a|0:0;return W.swap(e,r,i)}}};var na={avoidPairs:je.fromArray([["BarbaraGordon_cL6SpI2","JamesGordon_1ts9xICT3"],["Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH"],["HelenaWayne_fE6O0DJcE","BruceWayne_lv_ZsUHTU9"]]),byeValue:0,lastBackup:new Date("1970-01-01T00:00:00.000Z")},ra=h.b([["BruceWayne_lv_ZsUHTU9",{firstName:"Bruce",id:"BruceWayne_lv_ZsUHTU9",lastName:"Wayne",matchCount:9,rating:1998,type_:0}],["DickGrayson_1C2rCokHH",{firstName:"Dick",id:"DickGrayson_1C2rCokHH",lastName:"Grayson",matchCount:9,rating:1909,type_:0}],["AlfredPennyworth_y4dW",{firstName:"Alfred",id:"AlfredPennyworth_y4dW",lastName:"Pennyworth",matchCount:9,rating:1999,type_:0}],["BarbaraGordon_cL6SpI2",{firstName:"Barbara",id:"BarbaraGordon_cL6SpI2",lastName:"Gordon",matchCount:7,rating:1345,type_:0}],["KateKane_klFW6gDfUOTX",{firstName:"Kate",id:"KateKane_klFW6gDfUOTX",lastName:"Kane",matchCount:9,rating:1539,type_:0}],["SelinaKyle_rJBH-45Xoy",{firstName:"Selina",id:"SelinaKyle_rJBH-45Xoy",lastName:"Kyle",matchCount:9,rating:1495,type_:0}],["JasonTodd_fc9CeOa-Luw",{firstName:"Jason",id:"JasonTodd_fc9CeOa-Luw",lastName:"Todd",matchCount:7,rating:1101,type_:0}],["JamesGordon_1ts9xICT3",{firstName:"James",id:"JamesGordon_1ts9xICT3",lastName:"Gordon",matchCount:7,rating:1167,type_:0}],["HelenaWayne_fE6O0DJcE",{firstName:"Helena",id:"HelenaWayne_fE6O0DJcE",lastName:"Wayne",matchCount:7,rating:1087,type_:0}],["Joker_v0z2416fpAZ9o2c",{firstName:"Joker",id:"Joker_v0z2416fpAZ9o2c",lastName:"",matchCount:1,rating:1538,type_:0}],["HarleyQuinn_-10-02VPH",{firstName:"Harley",id:"HarleyQuinn_-10-02VPH",lastName:"Quinn",matchCount:1,rating:1648,type_:0}],["VictorFries_cWaQoW014",{firstName:"Victor",id:"VictorFries_cWaQoW014",lastName:"Fries",matchCount:1,rating:862,type_:0}],["OswaldCobblepot_lfCro",{firstName:"Oswald",id:"OswaldCobblepot_lfCro",lastName:"Cobblepot",matchCount:1,rating:1812,type_:0}],["RasAlGhul_k9n8k852bHr",{firstName:"Ra's",id:"RasAlGhul_k9n8k852bHr",lastName:"al Ghul",matchCount:1,rating:1404,type_:0}],["PamelaIsley_vH5vD8uPB",{firstName:"Pamela",id:"PamelaIsley_vH5vD8uPB",lastName:"Isley",matchCount:1,rating:965,type_:0}],["EdwardNigma_j80JfWOZq",{firstName:"Edward",id:"EdwardNigma_j80JfWOZq",lastName:"Nigma",matchCount:1,rating:948,type_:0}],["JonathanCrane_R4Q8tVW",{firstName:"Jonathan",id:"JonathanCrane_R4Q8tVW",lastName:"Crane",matchCount:1,rating:899,type_:0}],["HarveyDent_0eYIiP_Ij5",{firstName:"Harvey",id:"HarveyDent_0eYIiP_Ij5",lastName:"Dent",matchCount:1,rating:1649,type_:0}],["HugoStrange_az43f9mtS",{firstName:"Hugo",id:"HugoStrange_az43f9mtS",lastName:"Strange",matchCount:0,rating:800,type_:0}]]),ia=h.b([["CaouTNel9k70jUJ0h6SYM",{id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",date:new Date("2019-05-22T12:14:47.670Z"),playerIds:["BruceWayne_lv_ZsUHTU9",["DickGrayson_1C2rCokHH",["AlfredPennyworth_y4dW",["BarbaraGordon_cL6SpI2",["KateKane_klFW6gDfUOTX",["SelinaKyle_rJBH-45Xoy",["JasonTodd_fc9CeOa-Luw",["JamesGordon_1ts9xICT3",["HelenaWayne_fE6O0DJcE",0]]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"FUASEeyES6ez_ROoT6qmU",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:1236,blackNewRating:2109,whiteOrigRating:1238,blackOrigRating:2108,result:1},{id:"gqPyD66QMPF-pup41xsB2",whiteId:"JamesGordon_1ts9xICT3",blackId:"AlfredPennyworth_y4dW",whiteNewRating:1049,blackNewRating:2260,whiteOrigRating:1049,blackOrigRating:2260,result:1},{id:"KpS1lQSzsQWQ3VVWJyA2P",whiteId:"KateKane_klFW6gDfUOTX",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1553,blackNewRating:1722,whiteOrigRating:1527,blackOrigRating:1755,result:2},{id:"OgFuy-wq8mz378EWat46u",whiteId:"SelinaKyle_rJBH-45Xoy",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:1278,blackNewRating:1887,whiteOrigRating:1284,blackOrigRating:1881,result:1},{id:"f8Ps3GUmd0ZRsBBY8rZOp",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"________DUMMY________",whiteNewRating:831,blackNewRating:0,whiteOrigRating:831,blackOrigRating:0,result:0}]),aa.fromArray([{id:"6seKrw7ehbhL766g6L2PF",whiteId:"DickGrayson_1C2rCokHH",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:2122,blackNewRating:1672,whiteOrigRating:2109,blackOrigRating:1685,result:0},{id:"TCSjz48ZXqjamtYUFNg0B",whiteId:"BruceWayne_lv_ZsUHTU9",blackId:"HelenaWayne_fE6O0DJcE",whiteNewRating:1887,blackNewRating:830,whiteOrigRating:1887,blackOrigRating:831,result:0},{id:"zF64DEsN8sHydpDDsg37E",whiteId:"AlfredPennyworth_y4dW",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:2101,blackNewRating:1437,whiteOrigRating:2260,blackOrigRating:1278,result:1},{id:"qVGt1EJq9y0MmvFtumM0A",whiteId:"BarbaraGordon_cL6SpI2",blackId:"JasonTodd_fc9CeOa-Luw",whiteNewRating:1574,blackNewRating:1207,whiteOrigRating:1545,blackOrigRating:1236,result:0},{id:"UhfHaRWr_-BtVo22xAuJu",whiteId:"JamesGordon_1ts9xICT3",blackId:"________DUMMY________",whiteNewRating:1049,blackNewRating:0,whiteOrigRating:1049,blackOrigRating:0,result:0}]),aa.fromArray([{id:"odrOOnZJUe0YAwkfUDqUb",whiteId:"AlfredPennyworth_y4dW",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:1998,blackNewRating:1990,whiteOrigRating:2101,blackOrigRating:1887,result:1},{id:"qzCMqUwNIDAcFSAuA5yCm",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:990,blackNewRating:2008,whiteOrigRating:830,blackOrigRating:2122,result:0},{id:"6QgVqdtcJPjfVp3UZ8S9g",whiteId:"SelinaKyle_rJBH-45Xoy",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1529,blackNewRating:1464,whiteOrigRating:1437,blackOrigRating:1574,result:0},{id:"as45gODKMLC5-3_UsTyx5",whiteId:"KateKane_klFW6gDfUOTX",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:1542,blackNewRating:1244,whiteOrigRating:1672,blackOrigRating:1049,result:1},{id:"Pc0CWecSfeGNfvBPjyEIj",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"________DUMMY________",whiteNewRating:1207,blackNewRating:0,whiteOrigRating:1207,blackOrigRating:0,result:0}]),aa.fromArray([{id:"xj0y_Iqkb-g3MDGgmYx2-",whiteId:"BruceWayne_lv_ZsUHTU9",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:1998,blackNewRating:1534,whiteOrigRating:1990,blackOrigRating:1542,result:0},{id:"HWYWtsyaqUkHRExM6kQrt",whiteId:"DickGrayson_1C2rCokHH",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:2009,blackNewRating:1243,whiteOrigRating:2008,blackOrigRating:1244,result:0},{id:"uAzHZVMC71liQZ-6fWWeD",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:983,blackNewRating:1534,whiteOrigRating:990,blackOrigRating:1529,result:1},{id:"_tCBn9YNIyto-vXpxm7WI",whiteId:"JasonTodd_fc9CeOa-Luw",blackId:"AlfredPennyworth_y4dW",whiteNewRating:1205,blackNewRating:1999,whiteOrigRating:1207,blackOrigRating:1998,result:1},{id:"L7yatE2oVKlV7LOY6-d7Y",whiteId:"BarbaraGordon_cL6SpI2",blackId:"________DUMMY________",whiteNewRating:1464,blackNewRating:0,whiteOrigRating:1464,blackOrigRating:0,result:0}])]}],["tvAdS4YbSOznrBgrg0ITA",{id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",date:new Date("2019-05-29T12:15:20.593Z"),playerIds:["BruceWayne_lv_ZsUHTU9",["DickGrayson_1C2rCokHH",["AlfredPennyworth_y4dW",["BarbaraGordon_cL6SpI2",["KateKane_klFW6gDfUOTX",["SelinaKyle_rJBH-45Xoy",["JasonTodd_fc9CeOa-Luw",["JamesGordon_1ts9xICT3",["HelenaWayne_fE6O0DJcE",["Joker_v0z2416fpAZ9o2c",["HarleyQuinn_-10-02VPH",["VictorFries_cWaQoW014",["OswaldCobblepot_lfCro",["RasAlGhul_k9n8k852bHr",["PamelaIsley_vH5vD8uPB",["EdwardNigma_j80JfWOZq",["JonathanCrane_R4Q8tVW",["HarveyDent_0eYIiP_Ij5",0]]]]]]]]]]]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"5f8GYcR8V44NYvTN1cZle",whiteId:"EdwardNigma_j80JfWOZq",blackId:"BruceWayne_lv_ZsUHTU9",whiteNewRating:948,blackNewRating:1998,whiteOrigRating:950,blackOrigRating:1998,result:1},{id:"GPTct4sL368SryTLFUu8E",whiteId:"JonathanCrane_R4Q8tVW",blackId:"AlfredPennyworth_y4dW",whiteNewRating:899,blackNewRating:1999,whiteOrigRating:900,blackOrigRating:1999,result:1},{id:"AxtoztZ6O19nyrLfZ4YaU",whiteId:"HarveyDent_0eYIiP_Ij5",blackId:"DickGrayson_1C2rCokHH",whiteNewRating:1649,blackNewRating:1909,whiteOrigRating:850,blackOrigRating:2009,result:0},{id:"bUM_tWQsAtPe1gqRzlXd1",whiteId:"RasAlGhul_k9n8k852bHr",blackId:"SelinaKyle_rJBH-45Xoy",whiteNewRating:1404,blackNewRating:1495,whiteOrigRating:1050,blackOrigRating:1534,result:2},{id:"bAOVlP-M5xaPk1qofNReb",whiteId:"OswaldCobblepot_lfCro",blackId:"BarbaraGordon_cL6SpI2",whiteNewRating:1812,blackNewRating:1345,whiteOrigRating:1100,blackOrigRating:1464,result:0},{id:"4omlgiGSaE1BmrHdABSym",whiteId:"PamelaIsley_vH5vD8uPB",blackId:"KateKane_klFW6gDfUOTX",whiteNewRating:965,blackNewRating:1539,whiteOrigRating:1e3,blackOrigRating:1534,result:1},{id:"ysdEVYS2AyuKyOAwLLpTF",whiteId:"HarleyQuinn_-10-02VPH",blackId:"JamesGordon_1ts9xICT3",whiteNewRating:1648,blackNewRating:1167,whiteOrigRating:1200,blackOrigRating:1242,result:0},{id:"YoJ9WGokAYrmJjfxCCf87",whiteId:"VictorFries_cWaQoW014",blackId:"Joker_v0z2416fpAZ9o2c",whiteNewRating:862,blackNewRating:1538,whiteOrigRating:1150,blackOrigRating:1250,result:1},{id:"Az7SBl3cs7rbwKPBI0IsU",whiteId:"HelenaWayne_fE6O0DJcE",blackId:"JasonTodd_fc9CeOa-Luw",whiteNewRating:1087,blackNewRating:1101,whiteOrigRating:983,blackOrigRating:1205,result:0}]),aa.empty]}]]),oa=a(43);function ca(e){switch(e){case 0:return"Median";case 1:return"Solkoff";case 2:return"Cumulative";case 3:return"Cumulative of opposition";case 4:return"Most Black"}}function la(e){switch(e){case 0:return"median";case 1:return"solkoff";case 2:return"cumulative";case 3:return"cumulativeOfOpposition";case 4:return"mostBlack"}}var ua=la;function sa(e){return function(e){switch(e){case"cumulative":return 2;case"cumulativeOfOpposition":return 3;case"median":return 0;case"mostBlack":return 4;case"solkoff":return 1;default:return 0}}(We.k(e))}function da(e){var t=[We.e,[function(e){return e},0]];return{id:We.g("id",We.k,e),name:We.g("name",We.k,e),date:We.g("date",(function(e){return We.i(t,e)}),e),playerIds:We.g("playerIds",(function(e){return We.h(We.k,e)}),e),byeQueue:We.g("byeQueue",(function(e){return We.d(We.k,e)}),e),tieBreaks:We.g("tieBreaks",(function(e){return We.d(sa,e)}),e),roundList:We.g("roundList",Gt,e)}}function ma(e){return Je.d([["id",e.id],[["name",e.name],[["date",Je.b(e.date)],[["playerIds",Je.c((function(e){return e}),e.playerIds)],[["byeQueue",Je.a((function(e){return e}),e.byeQueue)],[["tieBreaks",Je.a(ua,e.tieBreaks)],[["roundList",(t=e.roundList,Je.a(Ht,t))],0]]]]]]]);var t}function _a(e){return g.a(e,(function(e){return console.error(e),String(e)}))}var fa=a(63).a.make;function ga(e){return c.b(fa,e,"Coronate")}var va=oa.b(c.e(ga(void 0),void 0,"Options",void 0,void 0,0),{$$default:Xe,decode:Ye,encode:Ze}),ha=gt.d(c.e(ga(void 0),void 0,"Players",void 0,void 0,0),{decode:nt,encode:rt}),ba=gt.d(c.e(ga(void 0),void 0,"Tournaments",void 0,void 0,0),{decode:da,encode:ma});function ya(e,t){switch(0|t.tag){case 0:return h.l(e,t[0]);case 1:return h.n(e,t[0],t[1]);case 2:return t[0]}}function pa(e){var t=n.useReducer(ya,h.a),a=t[1],r=t[0],i=n.useState((function(){return!1})),o=i[1],l=i[0];return _t(l),n.useEffect((function(){var t={contents:!1};return _.e(_.f(_a(gt.a(e)),(function(e){return t.contents?0:(c.a(a,m.a(2,[e])),c.a(o,(function(e){return!0})))})),(function(e){return t.contents?0:(v.clear(),c.a(o,(function(e){return!0})))})),function(e){return t.contents=!0,0}}),[]),n.useEffect((function(){l&&_.f(_a(gt.g(e,r)),(function(t){return _.f(_a(gt.c(e)),(function(t){var a=h.i(r),n=t.filter((function(e){return!a.includes(e)}));return 0!==n.length?(gt.e(e,n),0):0})),0}))}),[r,l]),[r,a,l]}function Ea(e){return pa(ha)}function ka(e){return pa(ba)}function wa(e,t){switch(0|t.tag){case 0:return{avoidPairs:f.a(e.avoidPairs,t[0]),byeValue:e.byeValue,lastBackup:e.lastBackup};case 1:return{avoidPairs:f.e(e.avoidPairs,t[0]),byeValue:e.byeValue,lastBackup:e.lastBackup};case 2:var a=t[0];return{avoidPairs:f.d(e.avoidPairs,je.empty,(function(e,t){var n=t[1],r=t[0];return r===a||n===a?e:f.a(e,[r,n])})),byeValue:e.byeValue,lastBackup:e.lastBackup};case 3:return{avoidPairs:t[0],byeValue:e.byeValue,lastBackup:e.lastBackup};case 4:return{avoidPairs:e.avoidPairs,byeValue:t[0],lastBackup:e.lastBackup};case 5:return t[0];case 6:return{avoidPairs:e.avoidPairs,byeValue:e.byeValue,lastBackup:t[0]}}}function Na(e){var t=n.useReducer(wa,Xe),a=t[1],r=t[0],i=n.useState((function(){return!1})),o=i[1],l=i[0];return n.useEffect((function(){var e={contents:!1};return _.e(_.f(_a(oa.a(va)),(function(t){return e.contents?0:(c.a(a,m.a(5,[t])),c.a(o,(function(e){return!0})))})),(function(t){return e.contents?0:(v.clear(),c.a(o,(function(e){return!0})))})),function(t){return e.contents=!0,0}}),[]),n.useEffect((function(){l&&oa.c(va,r)}),[r,l]),[r,a]}var Ra=a(111),Ca=a(64),Ia=a.n(Ca),Sa=a(65);var Oa={icon:a.n(Sa).a};function Da(e){var t=e.height,a=void 0!==t?t:"24",i=e.width,o=void 0!==i?i:"24",c=e.className,l=void 0!==c?c:"",u=e.style,s=void 0!==u?D.e(u):{},d=e.ariaLabel,m=void 0!==d?d:Oa.icon.title+" Icon",_=e.ariaHidden,f=void 0!==_&&_;return n.createElement("svg",{"aria-hidden":f,"aria-label":m,className:l,role:"img",style:r.a.combine({fill:"#"+Oa.icon.hex},s),height:a,width:o,viewBox:"0 0 24 24"},n.createElement("path",{d:Oa.icon.path}))}Da.displayName=Oa.icon.title;var Ba={make:Da},Ta={icon:Ia.a};function Ma(e){var t=e.height,a=void 0!==t?t:"24",i=e.width,o=void 0!==i?i:"24",c=e.className,l=void 0!==c?c:"",u=e.style,s=void 0!==u?D.e(u):{},d=e.ariaLabel,m=void 0!==d?d:Ta.icon.title+" Icon",_=e.ariaHidden,f=void 0!==_&&_;return n.createElement("svg",{"aria-hidden":f,"aria-label":m,className:l,role:"img",style:r.a.combine({fill:"#"+Ta.icon.hex},s),height:a,width:o,viewBox:"0 0 24 24"},n.createElement("path",{d:Ta.icon.path}))}Ma.displayName=Ta.icon.title;var La={make:Ma};var Fa={make:function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z",fill:"#000"}))}};var Aa={make:function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z",fill:"#000"}))}};var Pa={make:function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 4.399V5.5H0V4.399h11z",fill:"#000"}))}};var xa={make:function(e){var t=e.className,a=void 0!==t?t:"";return n.createElement("svg",{className:a,height:"11",width:"11",fill:"none",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z",fill:"#000"}))}},Ha=a(104),Wa=a(105),Ja=a(106),Ka=a(107),Qa=a(108),Va=a(109),Ga=a(110),Ua=window.require,za=void 0!==Ua?c.a(Ua,"electron"):void 0;function qa(e){if(void 0!==za)return D.c(c.a(e,D.e(za)))}qa((function(e){return e.remote.getCurrentWindow()}));function ja(e){return qa((function(t){return e.preventDefault(),t.shell.openExternal(e.target.href)})),0}function Ya(e){return qa((function(t){var a=e.target;if(!a.className.includes||!a.className.includes("double-click-control"))return 0;var n=t.remote.systemPreferences.getUserDefault("AppleActionOnDoubleClick","string"),r=t.remote.getCurrentWindow();switch(n){case"Maximize":return function(e){return e.isMaximized()?(e.unmaximize(),0):(e.maximize(),0)}(r);case"Minimize":return r.minimize(),0;default:return 0}})),0}var Za=navigator.appVersion.includes("Windows"),Xa=navigator.appVersion.includes("Mac"),$a=void 0!==za;var en={make:function(e){var t=e.children,a=e.os;return void 0!==za&&(a?Xa:Za)?c.a(t,D.e(za)):null}},tn=a(66);var an={make:function(e){var t=e.isOpen,a=e.onDismiss,r=e.ariaLabel,i=e.children,o=e.style,c=void 0!==o?D.e(o):{};return n.createElement(tn.a,{isOpen:t,onDismiss:a,style:c,"aria-label":r,children:i})}},nn="Coronate";function rn(e){return 0===e.length?nn:b.b(" - ",[e,[nn,0]])}var on={isBlur:!1,isDialogOpen:!1,isFullScreen:!1,isMaximized:!1,isSidebarOpen:!0,title:""};function cn(e,t){switch(0|t.tag){case 0:return{isBlur:t[0],isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 1:return{isBlur:e.isBlur,isDialogOpen:t[0],isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 2:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:t[0],isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:e.title};case 3:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:t[0],isSidebarOpen:e.isSidebarOpen,title:e.title};case 4:return{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:t[0],title:e.title};case 5:var a=t[0];return document.title=rn(a),{isBlur:e.isBlur,isDialogOpen:e.isDialogOpen,isFullScreen:e.isFullScreen,isMaximized:e.isMaximized,isSidebarOpen:e.isSidebarOpen,title:a}}}function ln(e){return n.createElement("article",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},n.createElement("div",{style:{textAlign:"center",flex:"0 0 48%"}},n.createElement("img",{alt:"",height:"196",src:Q.logo,width:"196"})),n.createElement("div",{style:{flex:"0 0 48%"}},n.createElement("h1",{className:"title",style:{textAlign:"left"}},"Coronate"),n.createElement("p",void 0,"Version 1.1.0-beta"),n.createElement("p",void 0,b.b("",["Copyright ",[V.copy,[" 2019 John",[V.nbsp,["Jackson",0]]]]])),n.createElement("p",void 0,"Coronate is free software."),n.createElement("p",void 0,n.createElement("a",{href:ve,onClick:ja},"Source code is available"),n.createElement("br",void 0)," under the ",n.createElement("a",{href:he,onClick:ja},"AGPL v3.0 license"),".")))}var un=o.K([o.u([-1044768619,[4846113,[-119887163,100],[25096,8]]]),[o.x([25096,-4]),0]]),sn=o.K([o.k(ie.grey_90),[o.s([25096,11]),[o.L(98248149),[o.O([25096,46]),[o.u([-119887163,100]),[o.g(-789508312),[o.c(582626130),[o.O([25096,46]),[o.C([25096,46]),[o.r([o.h(-922086728),[o.j(-922086728),[o.D(-922086728),0]]]),[o.J(" svg",[o.m(423610969),0]),0]]]]]]]]]]]),dn=o.K([o.m(423610969),[o.M("shapeRendering","crispEdges"),0]]),mn=o.K([o.v([o.c(ie.red_50),0]),0]);function _n(e){var t=e.isFullScreen,a=e.isMaximized,r=e.electron.remote.getCurrentWindow();return n.createElement("div",{className:un},n.createElement("button",{className:i.c([sn,["button-ghost1",0]]),onClick:function(e){return r.minimize(),0}},n.createElement(Pa.make,{className:dn})),t?n.createElement("button",{className:sn,onClick:function(e){return r.setFullScreen(!1),0}},n.createElement(Ha.a,{className:dn})):a?n.createElement("button",{className:sn,onClick:function(e){return r.unmaximize(),0}},n.createElement(xa.make,{className:dn})):n.createElement("button",{className:sn,onClick:function(e){return r.maximize(),0}},n.createElement(Aa.make,{className:dn})),n.createElement("button",{className:i.c([sn,[mn,0]]),onClick:function(e){return r.close(),0}},n.createElement(Fa.make,{className:dn})))}var fn=o.K([o.k(ie.grey_90),0]),gn=Xa&&$a,vn=i.c([fn,[i.b("macos-button-toolbar",gn),[i.b("button-ghost",!gn),0]]]);function hn(e){var t=e.isBlur,a=e.isFullScreen,r=e.isMaximized,o=e.isSidebarOpen,l=e.title,u=e.dispatch;return n.createElement("header",{className:i.c(["app__header",["double-click-control",[i.b("traffic-light-padding",gn&&!a),0]]]),onDoubleClick:Ya},n.createElement("div",void 0,n.createElement(en.make,{children:function(e){return n.createElement("span",{style:{display:"inline-flex",marginRight:"8px",marginLeft:"4px",alignItems:"center"}},n.createElement("img",{alt:"",height:"16",src:Q.logo,width:"16"}))},os:0}),n.createElement("button",{className:vn,onClick:function(e){return c.a(u,m.a(4,[!o]))}},n.createElement(Wa.a,{}),n.createElement(ut.a,{children:"Toggle sidebar"})),n.createElement("button",{className:vn,onClick:function(e){return c.a(u,m.a(1,[!0]))}},n.createElement(Ja.a,{}),n.createElement(ut.a,{children:"About Coronate"}))),n.createElement("div",{className:i.c(["body-20",["double-click-control",[i.b("disabled",t),0]]]),style:{left:"0",marginRight:"auto",marginLeft:"auto",position:"absolute",right:"0",textAlign:"center",width:"50%"}},rn(l)),n.createElement(en.make,{children:function(e){return n.createElement(_n,{isFullScreen:a,isMaximized:r,electron:e})},os:0}))}function bn(e){return e.preventDefault(),0}function yn(e){return n.createElement("nav",void 0,n.createElement("ul",{style:{margin:"0"}},n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/tourneys",onDragStart:bn},n.createElement(Ka.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},V.nbsp+"Tournaments"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/players",onDragStart:bn},n.createElement(Qa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},V.nbsp+"Players"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/options",onDragStart:bn},n.createElement(Va.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},V.nbsp+"Options"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/timecalc",onDragStart:bn},n.createElement(Ga.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},V.nbsp+"Time calculator"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/",onDragStart:bn},n.createElement(Ja.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},V.nbsp+"Info")))))}function pn(e){return n.createElement(yn,{})}var En={make:function(e){var t=e.children,a=e.footerFunc,r=e.sidebarFunc,o=void 0!==r?r:pn;return n.createElement("div",{className:i.c(["winBody",[i.a("winBody-hasFooter",a),0]])},n.createElement("div",{className:"win__sidebar"},c.a(o,0)),n.createElement("div",{className:"win__content"},t),void 0!==a?n.createElement("footer",{className:i.c(["win__footer",0])},c.a(a,0)):null)}},kn=function(e){var t=e.children,a=e.className,r=n.useReducer(cn,on),o=r[0],l=o.isSidebarOpen,u=o.isBlur,s=r[1];return n.useEffect((function(){return qa((function(e){var t=e.remote.getCurrentWindow(),a=function(e){return t.removeAllListeners("enter-full-screen"),t.removeAllListeners("leave-full-screen"),t.removeAllListeners("blur"),t.removeAllListeners("focus"),t.removeAllListeners("maximize"),t.removeAllListeners("unmaximize"),0};return a(),t.on("enter-full-screen",(function(e){return c.a(s,m.a(2,[!0]))})),t.on("leave-full-screen",(function(e){return c.a(s,m.a(2,[!1]))})),t.on("maximize",(function(e){return c.a(s,m.a(3,[!0]))})),t.on("unmaximize",(function(e){return c.a(s,m.a(3,[!1]))})),t.on("blur",(function(e){return c.a(s,m.a(0,[!0]))})),t.on("focus",(function(e){return c.a(s,m.a(0,[!1]))})),c.a(s,m.a(0,[!t.isFocused()])),c.a(s,m.a(2,[t.isFullScreen()])),c.a(s,m.a(3,[t.isMaximized()])),a}))}),[]),n.createElement("div",{className:i.c([a,[i.b("open-sidebar",l),[i.b("closed-sidebar",!l),[i.b("window-blur",u),[i.b("isWindows",Za),[i.b("isMacOS",Xa),[i.b("isElectron",$a),0]]]]]]])},n.createElement(hn,{isBlur:u,isFullScreen:o.isFullScreen,isMaximized:o.isMaximized,isSidebarOpen:l,title:o.title,dispatch:s}),c.a(t,s),n.createElement(an.make,{isOpen:o.isDialogOpen,onDismiss:function(e){return c.a(s,m.a(1,[!1]))},ariaLabel:"About Coronate",children:null,style:{backgroundColor:"var(--grey-20)"}},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(s,m.a(1,[!1]))}},"Close"),n.createElement(ln,{})))},wn=o.K([o.m(-1010954439),[o.n(-963948842),[o.a(98248149),[o.u([-119887163,100]),[o.w(516682146),[o.c(ie.grey_10),0]]]]]]),Nn=o.K([o.y(-789508312,-1065951377),[o.u([25096,64]),[o.E(589592690),0]]]),Rn=o.K([o.y([25096,8],-789508312),0]),Cn=o.K([o.c(ie.ink_80),[o.k(ie.grey_20),[o.G(-789508312,[25096,16]),[o.m(-1010954439),[o.w(516682146),0]]]]]),In=o.K([o.k(ie.teal_50),[o.v([o.k(ie.teal_60),0]),0]]),Sn=o.K([o.k(ie.grey_90),[o.y(-789508312,-1065951377),[o.m(-1010954439),[o.b(98248149),0]]]]),On=o.K([o.p(1),[o.z([25096,8]),0]]),Dn=o.K([o.o(1),0]),Bn=o.K([o.L(-379319332),[o.x(-789508312),0]]);var Tn={Style:{container:wn,hint:Nn,hintLi:Rn,footer:Cn,footerLink:In,title:Sn,titleIcon:On,titleText:Dn,subtitle:Bn},make:function(e){return n.createElement(En.make,{children:n.createElement("div",{className:wn},n.createElement("aside",{className:Nn},n.createElement("ol",void 0,n.createElement("li",{className:Rn},n.createElement("button",{className:"button-primary",onClick:function(e){return document.body.style.cursor="wait",Promise.all([oa.c(va,na),gt.g(ha,ra),gt.g(ba,ia)]).then((function(e){return document.body.style.cursor="auto",K("Demo data loaded!"),Promise.resolve(0)})).catch((function(e){return document.body.style.cursor="auto",Promise.resolve(0)})),0}},"Click here to load the demo data")," (optional)"),n.createElement("li",{className:Rn},n.createElement(Ra.a,{})," Select a menu item."),n.createElement("li",{className:Rn},"Start creating your tournaments!")),n.createElement(me.make,{children:null,kind:1},"If you experience glitches or crashes,",n.createElement("br",void 0),"clear your browser cache and try again.")),n.createElement("div",{className:Sn},n.createElement("div",{className:On},n.createElement("img",{alt:"",height:"96",src:Q.logo,width:"96"})),n.createElement("div",{className:Dn},n.createElement("h1",{className:"title",style:{fontSize:"40px"}},"Coronate"),n.createElement("p",{className:i.c([Bn,["caption-30",0]])},"Tournament manager"))),n.createElement("footer",{className:i.c([Cn,["body-20",0]])},n.createElement("div",{style:{textAlign:"left"}},n.createElement("p",void 0,"Copyright "+V.copy+" 2019 John Jackson."),n.createElement("p",void 0,"Coronate is free software.",n.createElement("br",void 0),n.createElement("a",{className:In,href:ve,onClick:ja},"Source code is available")," under the ",n.createElement("a",{className:In,href:he,onClick:ja},"AGPL v3.0 license"),".")),n.createElement("div",{style:{textAlign:"right"}},n.createElement("p",void 0,n.createElement("a",{className:In,href:be,onClick:ja},"Suggestions and bug reports are welcome.")),n.createElement("p",void 0,"Built with ",n.createElement("a",{className:In,href:"https://reasonml.github.io/",onClick:ja},"Reason")," & ",n.createElement("a",{className:In,href:"https://reasonml.github.io/reason-react/",onClick:ja},"ReasonReact"),". ",n.createElement("span",{style:{fontSize:"16px"}},n.createElement(Ba.make,{})," ",n.createElement(La.make,{}))))))})}};function Mn(e){return Math.log(e)/Math.log(2)}function Ln(e){return e<0||e===s.c||e===s.d?0:e}function Fn(e,t,a){a.preventDefault();var n=d.c(u.a(a.currentTarget.value),t),r=n<t?t:n;return c.a(e,(function(e){return r}))}function An(e,t,a){a.preventDefault();var n=d.c(l.a(a.currentTarget.value),t),r=n<t?t:n;return c.a(e,(function(e){return r}))}var Pn={updateFloat:Fn,updateInt:An,make:function(e){var t=n.useState((function(){return 2})),a=t[1],r=t[0],i=n.useState((function(){return 5})),o=i[1],c=i[0],l=n.useState((function(){return 4})),u=l[1],s=l[0];return n.createElement(En.make,{children:n.createElement("div",{className:"content-area"},n.createElement("h1",void 0,"Time calculator"),n.createElement("p",{className:"caption-30"},"Estimate the time requirements for planning your Swiss-style tournament."),n.createElement("form",void 0,n.createElement("table",{style:{margin:"0"}},n.createElement("tbody",void 0,n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"playerCount"},"Player count ")),n.createElement("td",void 0,n.createElement("input",{id:"playerCount",style:{width:"40px"},min:0,type:"number",value:r.toString(),onChange:function(e){return An(a,0,e)}}))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",void 0,"Round count")),n.createElement("td",void 0,Ln(Math.ceil(Mn(r))).toString())),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"breakTime"},"Breaks between rounds ")),n.createElement("td",void 0,n.createElement("input",{id:"breakTime",style:{width:"40px"},min:0,step:5,type:"number",value:c.toString(),onChange:function(e){return An(o,0,e)}})," minutes")),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"totalTime"},"Total time available ")),n.createElement("td",void 0,n.createElement("input",{id:"totalTime",style:{width:"40px"},min:0,step:.5,type:"number",value:s.toString(),onChange:function(e){return Fn(u,.5,e)}})," hours"))))),n.createElement("p",{className:"title-20"},"Maximum time control: "),n.createElement("p",void 0,n.createElement("span",{className:"title-20"},Ln(Math.ceil((60*s/Math.ceil(Mn(r))-c)/2)).toString()," minutes"),n.createElement("span",{className:"caption-30"}," = ((",n.createElement("strong",{className:"monospace"},s.toString())," \xd7 60 \xf7 \u2308log\u2082(",n.createElement("strong",{className:"monospace"},r.toString()),")\u2309) - ",n.createElement("strong",{className:"monospace"},c.toString()),") \xf7 2")))})}};var xn={make:function(e){return n.createElement("p",{className:"content-area"},"Page not found.")}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Hn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var Wn=a(46),Jn=a(25),Kn=a(112),Qn=(je.fromArray([["TVs_Frank____________","TVs_Son_of_TVs_Frank_"],["Pearl_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Pearl_Forrester______"]]),new Date("1970-01-01T00:00:00.000Z"),h.b([["Cambot_______________",{firstName:"Cambot",id:"Cambot_______________",lastName:"",matchCount:25,rating:1500,type_:0}],["Crow_T_Robot_________",{firstName:"Crow T",id:"Crow_T_Robot_________",lastName:"Robot",matchCount:5,rating:1700,type_:0}],["Dr_Clayton_Forrester_",{firstName:"Clayton",id:"Dr_Clayton_Forrester_",lastName:"Forrester",matchCount:40,rating:2100,type_:0}],["Grandy_McMaster______",{firstName:"Grandy",id:"Grandy_McMaster______",lastName:"McMaster",matchCount:100,rating:2600,type_:0}],["Gypsy________________",{firstName:"Gypsy",id:"Gypsy________________",lastName:"",matchCount:15,rating:1600,type_:0}],["Joel_Robinson________",{firstName:"Joel",id:"Joel_Robinson________",lastName:"Robinson",matchCount:70,rating:2400,type_:0}],["Jonah_Heston_________",{firstName:"Jonah",id:"Jonah_Heston_________",lastName:"Heston",matchCount:50,rating:2200,type_:0}],["Kinga_Forrester______",{firstName:"Kinga",id:"Kinga_Forrester______",lastName:"Forrester",matchCount:20,rating:1900,type_:0}],["Larry_Erhardt________",{firstName:"Larry",id:"Larry_Erhardt________",lastName:"Erhardt",matchCount:45,rating:1300,type_:0}],["Mike_Nelson__________",{firstName:"Mike",id:"Mike_Nelson__________",lastName:"Nelson",matchCount:60,rating:2300,type_:0}],["Newbie_McNewberson___",{firstName:"Newbie",id:"Newbie_McNewberson___",lastName:"McNewberson",matchCount:0,rating:800,type_:0}],["Observer_Brain_Guy___",{firstName:"Brain",id:"Observer_Brain_Guy___",lastName:"Guy",matchCount:55,rating:1200,type_:0}],["Pearl_Forrester______",{firstName:"Pearl",id:"Pearl_Forrester______",lastName:"Forrester",matchCount:30,rating:2e3,type_:0}],["Professor_Bobo_______",{firstName:"Bobo",id:"Professor_Bobo_______",lastName:"Professor",matchCount:75,rating:1e3,type_:0}],["TVs_Frank____________",{firstName:"TV's",id:"TVs_Frank____________",lastName:"Frank",matchCount:35,rating:1400,type_:0}],["TVs_Son_of_TVs_Frank_",{firstName:"TV's",id:"TVs_Son_of_TVs_Frank_",lastName:"Max",matchCount:65,rating:1100,type_:0}],["Tom_Servo____________",{firstName:"Tom",id:"Tom_Servo____________",lastName:"Servo",matchCount:10,rating:1800,type_:0}]]),h.b([["Bye_Round_Tourney____",{id:"Bye_Round_Tourney____",name:"Bye Round Tourney",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:["Joel_Robinson________",["Crow_T_Robot_________",["Tom_Servo____________",["Gypsy________________",["Cambot_______________",["Newbie_McNewberson___",["Grandy_McMaster______",0]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:Vt}],["Bye_Round_Tourney_2__",{id:"Bye_Round_Tourney_2__",name:"Bye Round Tourney 2",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:["Joel_Robinson________",["Crow_T_Robot_________",["Tom_Servo____________",["Gypsy________________",["Cambot_______________",["Newbie_McNewberson___",["Grandy_McMaster______",0]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"xTXxZHB0sTt__xIAg45fm",whiteId:"Grandy_McMaster______",blackId:"Crow_T_Robot_________",whiteNewRating:2592,blackNewRating:1833,whiteOrigRating:2600,blackOrigRating:1700,result:1},{id:"zQcf9RWXK7iuU6ibPzrhU",whiteId:"Joel_Robinson________",blackId:"Gypsy________________",whiteNewRating:2400,blackNewRating:1600,whiteOrigRating:2400,blackOrigRating:1600,result:0},{id:"Vw_X0c7O4vshrYEO-oSzR",whiteId:"Tom_Servo____________",blackId:"Cambot_______________",whiteNewRating:1738,blackNewRating:1526,whiteOrigRating:1800,blackOrigRating:1500,result:1},{id:"iSDujOVkOTrcLv_KJmd7s",whiteId:"Newbie_McNewberson___",blackId:"________DUMMY________",whiteNewRating:800,blackNewRating:0,whiteOrigRating:800,blackOrigRating:0,result:0}])]}],["Bye_Tourney_3________",{id:"Bye_Tourney_3________",name:"Bye Tourney 3",date:new Date("2019-06-17T23:00:29.603Z"),playerIds:["Kinga_Forrester______",["Newbie_McNewberson___",["Jonah_Heston_________",0]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"KkFr4B7FDqiHRWmACgApf",whiteId:"Kinga_Forrester______",blackId:"Jonah_Heston_________",whiteNewRating:1894,blackNewRating:2202,whiteOrigRating:1900,blackOrigRating:2200,result:1},{id:"R_BTsGSziwgyvFZM3yc5u",whiteId:"Newbie_McNewberson___",blackId:"________DUMMY________",whiteNewRating:793,blackNewRating:0,whiteOrigRating:793,blackOrigRating:0,result:0}]),aa.fromArray([{id:"rcyCfpZU6olav5kdVac44",whiteId:"Jonah_Heston_________",blackId:"Newbie_McNewberson___",whiteNewRating:2187,blackNewRating:953,whiteOrigRating:2202,blackOrigRating:793,result:1},{id:"Nc0Om5fEuwSuzFls9wmME",whiteId:"Kinga_Forrester______",blackId:"________DUMMY________",whiteNewRating:1894,blackNewRating:0,whiteOrigRating:1894,blackOrigRating:0,result:0}]),aa.fromArray([{id:"uawjKwbiA38RP8pA--tlw",whiteId:"Newbie_McNewberson___",blackId:"Kinga_Forrester______",whiteNewRating:952,blackNewRating:1894,whiteOrigRating:953,blackOrigRating:1894,result:1},{id:"-kwIDxjPhWVRbqxtRZ26_",whiteId:"Jonah_Heston_________",blackId:"________DUMMY________",whiteNewRating:2187,blackNewRating:0,whiteOrigRating:2187,blackOrigRating:0,result:0}])]}],["Simple_Pairing_______",{id:"Simple_Pairing_______",name:"Simple Pairing",date:new Date("2019-06-14T11:40:34.407Z"),playerIds:["Newbie_McNewberson___",["Grandy_McMaster______",["Joel_Robinson________",["Dr_Clayton_Forrester_",["TVs_Frank____________",["Crow_T_Robot_________",["Tom_Servo____________",["Gypsy________________",0]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"KdLva8hWqYHdaU9KnFTe2",whiteId:"Crow_T_Robot_________",blackId:"Grandy_McMaster______",whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"WDPFsNF1yADs4qofFwCY0",whiteId:"Gypsy________________",blackId:"Joel_Robinson________",whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"R5sXfTOJw5vrJ4IytAjSi",whiteId:"TVs_Frank____________",blackId:"Dr_Clayton_Forrester_",whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"2YOsn_JJFnaUMhRBAc9KY",whiteId:"Newbie_McNewberson___",blackId:"Tom_Servo____________",whiteNewRating:1597,blackNewRating:1728,whiteOrigRating:800,blackOrigRating:1800,result:0}]),aa.empty]}],["Pairing_With_Draws___",{id:"Pairing_With_Draws___",name:"Pairing with draws",date:new Date("2019-06-14T14:18:06.686Z"),playerIds:["Newbie_McNewberson___",["Grandy_McMaster______",["Joel_Robinson________",["Dr_Clayton_Forrester_",["TVs_Frank____________",["Crow_T_Robot_________",["Tom_Servo____________",["Gypsy________________",0]]]]]]]],byeQueue:[],tieBreaks:[0,1,2,3],roundList:[aa.fromArray([{id:"ryWXwvFGwBKQqGBbMYeps",whiteId:"Crow_T_Robot_________",blackId:"Grandy_McMaster______",whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"2KKVbi0AfNxfJAJobTgP5",whiteId:"Gypsy________________",blackId:"Joel_Robinson________",whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"zdlBHBAqgV2qabn2oBa2a",whiteId:"TVs_Frank____________",blackId:"Dr_Clayton_Forrester_",whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"8fGxU3tLpd8GibuSQr9-Y",whiteId:"Newbie_McNewberson___",blackId:"Tom_Servo____________",whiteNewRating:1197,blackNewRating:1764,whiteOrigRating:800,blackOrigRating:1800,result:2}]),aa.empty]}]]),a(19));function Vn(e){var t=new Date;return b.b("-",[t.getFullYear().toString(),[p.a(t.getMonth()+1).format("00"),[p.a(t.getDate()).format("00"),0]]])}function Gn(e){var t=We.g("players",(function(e){return We.f(nt,e)}),e),a=We.g("tournaments",(function(e){return We.f(da,e)}),e);return{config:We.g("config",Ye,e),players:h.b(Jn.a(t)),tournaments:h.b(Jn.a(a))}}function Un(e){var t=h.j(e.players,rt),a=h.j(e.tournaments,ma);return Je.d([["config",Ze(e.config)],[["players",Jn.b(h.p(t))],[["tournaments",Jn.b(h.p(a))],0]]])}function zn(e){var t=e.date;return 0===t.getTime()?"Never":n.createElement(q.make,{date:t})}var qn=function(e){var t=e.windowDispatch,a=ka(),r=a[1],i=a[0],o=Ea(),l=o[1],u=o[0],s=n.useState((function(){return""})),d=s[1],_=s[0],f=Na(),g=f[1],v=f[0];n.useEffect((function(){return c.a(t,m.a(5,["Options"])),function(e){return c.a(t,m.a(5,[""]))}}),[t]);var h=n.useMemo((function(){return{config:v,players:u,tournaments:i}}),[v,i,u]),b=encodeURIComponent(Wn.b(Un(h)));n.useEffect((function(){var e=Un(h),t=JSON.stringify(e,null,4);c.a(d,(function(e){return t}))}),[h,d]);var y=function(e,t,a){return c.a(r,m.a(2,[e])),c.a(g,m.a(5,[a])),c.a(l,m.a(2,[t])),K("Data loaded.")};return n.createElement(En.make,{children:n.createElement("div",{className:"content-area"},n.createElement("h2",void 0,"Bye  settings"),n.createElement("form",void 0,n.createElement("p",{className:"caption-30"},"Select the default score for a bye round."),n.createElement("label",{className:"monospace body-30"},"1 ",n.createElement("input",{checked:0===v.byeValue,type:"radio",onChange:function(e){return c.a(g,m.a(4,[0]))}})),n.createElement("label",{className:"monospace body-30"},"\xbd ",n.createElement("input",{checked:1===v.byeValue,type:"radio",onChange:function(e){return c.a(g,m.a(4,[1]))}}))),n.createElement("h2",void 0,"Manage data"),n.createElement("p",{className:"caption-20"},"Last export: ",n.createElement(zn,{date:v.lastBackup})),n.createElement("p",void 0,n.createElement("a",{download:"coronate-"+Vn()+".json",href:"data:application/json,"+b,onClick:function(e){return c.a(g,m.a(6,[new Date]))}},n.createElement(Kn.a,{})," Export all data")),n.createElement("label",{htmlFor:"file"},"Load data file:"),n.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;return t.onload=function(e){var t=e.target.result,a=Wn.a(t);if(void 0!==a){var n;try{n=Gn(D.e(a))}catch(i){var r=Qn.b(i);if(r[0]===We.c)return K("That data is invalid! A more helpful error message could not be written yet.");throw r}return y(n.tournaments,n.players,n.config)}return K("That data is invalid! A more helpful error message could not be written yet.")},t.readAsText(E.f(e.currentTarget.files,0)),e.currentTarget.value="",0}}),n.createElement("h2",void 0,"Danger zone"),n.createElement("p",{className:"caption-30"},"I hope you know what you're doing..."),n.createElement("button",{onClick:function(e){return e.preventDefault(),y(ia,ra,na)}},"Reset demo data (this erases everything else)")," ",null,n.createElement("h3",void 0,"Advanced: manually edit data"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Wn.a(_);if(void 0!==t){var a;try{a=Gn(D.e(t))}catch(r){var n=Qn.b(r);if(n[0]===We.c)return K("That data is invalid! A more helpful error message could not be written yet.");throw n}return y(a.tournaments,a.players,a.config)}return K("That data is invalid! A more helpful error message could not be written yet.")}},n.createElement("textarea",{className:"json",spellCheck:!1,cols:50,name:"playerdata",rows:25,value:_,onChange:function(e){var t=e.currentTarget.value;return c.a(d,(function(e){return t}))}}),n.createElement("p",void 0,n.createElement("input",{type:"submit",value:"Load"}))))})},jn=a(29),Yn=a(113),Zn=a(114),Xn=a(115),$n=m.a(0,[function(e){return e.firstName}]),er=m.a(1,[function(e){return e.rating}]),tr=m.a(1,[function(e){return e.matchCount}]);function ar(e){return""}function nr(e){return""}function rr(e){return 1200}function ir(e){var t=e.dispatch,a=e.addPlayerCallback,r=n.useState((function(){return""})),i=r[1],o=r[0],l=n.useState((function(){return""})),u=l[1],s=l[0],d=n.useState((function(){return 1200})),_=d[1],f=d[0],g=function(e){e.preventDefault();var t=e.currentTarget.name,a=e.currentTarget.value;switch(t){case"firstName":return c.a(i,(function(e){return a}));case"lastName":return c.a(u,(function(e){return a}));case"rating":return c.a(_,(function(e){return jn.c(a)}));default:return 0}};return n.createElement("form",{onSubmit:function(e){e.preventDefault(),c.a(i,ar),c.a(u,nr),c.a(_,rr);var n=P();return c.a(t,m.a(1,[n,{firstName:o,id:n,lastName:s,matchCount:0,rating:f,type_:0}])),void 0!==a?c.a(a,n):0}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Register a new player"),n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",required:!0,type:"text",value:o,onChange:g})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",required:!0,type:"text",value:s,onChange:g})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{name:"rating",required:!0,type:"number",value:String(f),onChange:g})),n.createElement("p",void 0,n.createElement("input",{type:"submit",value:"Add"}))))}var or={make:ir};function cr(e){var t=e.sorted,a=e.sortDispatch,r=e.players,i=e.playersDispatch,o=e.configDispatch,l=e.windowDispatch,u=n.useState((function(){return!1})),s=u[1];return n.useEffect((function(){return c.a(l,m.a(5,["Players"])),function(e){return c.a(l,m.a(5,[""]))}}),[l]),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return c.a(s,(function(e){return!0}))}},n.createElement(Yn.a,{})," Add a new player")),n.createElement("table",{style:{margin:"auto"}},n.createElement("caption",void 0,"Player roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(mt.make,{children:"Name",sortColumn:$n,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(mt.make,{children:"Rating",sortColumn:er,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(mt.make,{children:"Matches",sortColumn:tr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(ut.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},E.i(t.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",{className:"table__player"},n.createElement(fe.HashLink.make,{children:b.b(" ",[e.firstName,[e.lastName,0]]),to_:"/players/"+e.id})),n.createElement("td",{className:"table__number"},String(e.rating)),n.createElement("td",{className:"table__number"},String(e.matchCount)),n.createElement("td",void 0,n.createElement("button",{className:"danger button-ghost",onClick:function(t){var a=t,n=e.id;a.preventDefault();var l=h.c(r,n);if(void 0!==l){var u=l,s=b.b("",["Are you sure you want to delete ",[u.firstName,[" ",[u.lastName,["?",0]]]]]);return window.confirm(s)?(c.a(i,m.a(0,[n])),c.a(o,m.a(2,[n]))):0}return 0}},n.createElement(Zn.a,{}),n.createElement(ut.a,{children:b.b(" ",["Delete",[e.firstName,[e.lastName,0]]])}))))})))),n.createElement(an.make,{isOpen:u[0],onDismiss:function(e){return c.a(s,(function(e){return!1}))},ariaLabel:"New player form",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(s,(function(e){return!1}))}},"Close"),n.createElement(ir,{dispatch:i})))}function lr(e){var t=e.player,a=e.players,r=e.playersDispatch,i=e.config,o=e.configDispatch,l=e.windowDispatch,u=t.id,s=b.b(" ",[t.firstName,[t.lastName,0]]);n.useEffect((function(){return c.a(l,m.a(5,["Profile for "+s])),function(e){return c.a(l,m.a(5,[""]))}}),[l,s]);var d=je.toMap(i.avoidPairs),_=h.c(d,u),f=void 0!==_?_:0,g=O.h(O.d(h.i(a)),(function(e){return!O.g(f,e,(function(e,t){return e===t}))&&e!==u})),v=n.useState((function(){if(g)return g[0]})),y=v[1],p=v[0],E=function(e){e.preventDefault();var a=e.currentTarget,n=a.firstName.value,i=a.lastName.value,o=jn.c(a.matchCount.value),l=jn.c(a.rating.value);return c.a(r,m.a(1,[u,{firstName:n,id:u,lastName:i,matchCount:o,rating:l,type_:t.type_}]))};return n.createElement("div",{className:"content-area",style:{margin:"auto",width:"650px"}},n.createElement(fe.HashLink.make,{children:null,to_:"/players"},n.createElement(Xn.a,{})," Back"),n.createElement("h2",void 0,"Profile for "+s),n.createElement("form",{onChange:E,onSubmit:E},n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{defaultValue:t.firstName,name:"firstName",type:"text"})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{defaultValue:t.lastName,name:"lastName",type:"text"})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"matchCount"},"Matches played"),n.createElement("input",{defaultValue:String(t.matchCount),name:"matchCount",type:"number"})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{defaultValue:String(t.rating),name:"rating",type:"number"})),n.createElement("p",void 0,n.createElement("label",{htmlFor:"Kfactor"},"K factor"),n.createElement("input",{disabled:!0,name:"kfactor",readOnly:!0,type:"number",value:String(xe.getKFactor(t.matchCount))}))),n.createElement("h3",void 0,"Players to avoid"),n.createElement("ul",void 0,J.toReactArray(f,(function(e){return n.createElement("li",{key:e},lt(a,e).firstName," ",lt(a,e).lastName,n.createElement("button",{"aria-label":b.b(" ",["Remove",[lt(a,e).firstName,[lt(a,e).lastName,["from avoid list.",0]]]]),className:"danger button-ghost",title:b.b(" ",["Remove",[lt(a,e).firstName,[lt(a,e).lastName,["from avoid list.",0]]]]),onClick:function(t){return c.a(o,m.a(1,[[u,e]]))}},n.createElement(Zn.a,{})))})),f?null:n.createElement("li",void 0,"None")),n.createElement("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==p){var t,a=p;if(c.a(o,m.a(0,[[u,a]])),g){var n=g[1],r=g[0];t=r!==a?r:n?n[0]:void 0}else t=void 0;return c.a(y,(function(e){return t}))}return 0}},n.createElement("label",{htmlFor:"avoid-select"},"Select a new player to avoid."),void 0!==p?n.createElement(n.Fragment,void 0,n.createElement("select",{id:"avoid-select",value:p,onBlur:function(e){var t=e.currentTarget.value;return c.a(y,(function(e){return t}))},onChange:function(e){var t=e.currentTarget.value;return c.a(y,(function(e){return t}))}},J.toReactArray(g,(function(e){return n.createElement("option",{key:e,value:e},lt(a,e).firstName," ",lt(a,e).lastName)})))," ",n.createElement("input",{className:"button-micro",type:"submit",value:"Add"})):"No players are available to avoid."))}var ur=function(e){var t=e.id,a=e.windowDispatch,r=Ea(),i=r[1],o=r[0],l=dt(h.q(o),$n,!1),u=l[1];n.useEffect((function(){c.a(u,m.a(2,[h.q(o)]))}),[o,u]);var s,d=Na(),_=d[1];if(void 0!==t){var f=h.c(o,t);s=void 0!==f?n.createElement(lr,{player:f,players:o,playersDispatch:i,config:d[0],configDispatch:_,windowDispatch:a}):n.createElement("div",void 0,"Loading...")}else s=n.createElement(cr,{sorted:l[0],sortDispatch:u,players:o,playersDispatch:i,configDispatch:_,windowDispatch:a});return n.createElement(En.make,{children:s})},sr=a(124),dr=a(125),mr=a(123),_r=a(126),fr=a(27),gr=a(119),vr=a(120),hr=a(118),br=a(121),yr=a(122),pr=a(117);function Er(e,t,a,n,r,i,o){var c=h.c(e,t),l=void 0!==c?c:we(a,t),u=ot(i)?l.resultsNoByes:[r,l.resultsNoByes],s=l.opponentResults,d=h.c(s,i),m=void 0!==d?d+r:r;return{colorScores:[ke.toScore(o),l.colorScores],colors:[o,l.colors],id:l.id,isDummy:ot(t),opponentResults:h.n(s,i,m),ratings:[n,l.ratings],firstRating:l.firstRating,results:[r,l.results],resultsNoByes:u}}function kr(e){return E.k(e,h.a,(function(e,t){if(t.result>=3)return e;var a=Er(e,t.whiteId,t.whiteOrigRating,t.whiteNewRating,Tt.toFloat(t.result,0),t.blackId,0),n=Er(e,t.blackId,t.blackOrigRating,t.blackNewRating,Tt.toFloat(t.result,1),t.whiteId,1);return h.n(h.n(e,t.whiteId,a),t.blackId,n)}))}var wr=a(116);function Nr(e){var t=e.tourney,a=e.setTourney,r=e.players,i=e.playersDispatch,o=t.playerIds,l=function(e){var n=e.target.value;return e.target.checked?c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:[n,o],byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList}):c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:O.h(o,(function(e){return e!==n})),byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})};return n.createElement("div",void 0,n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:O.d(h.i(r)),byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select all"),n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:0,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select none")),n.createElement("table",void 0,n.createElement("caption",void 0,"Select players"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"First name"),n.createElement("th",void 0,"Last name"),n.createElement("th",void 0,"Select"))),n.createElement("tbody",void 0,E.i(h.q(r),(function(e){var t=e.lastName,a=e.id,r=e.firstName;return n.createElement("tr",{key:a},n.createElement("td",void 0,r),n.createElement("td",void 0,t),n.createElement("td",void 0,n.createElement(ut.a,{children:n.createElement("label",{htmlFor:"select-"+a},b.b(" ",["Select",[r,[t,0]]]))}),n.createElement("input",{id:"select-"+a,checked:O.g(o,a,(function(e,t){return e===t})),type:"checkbox",value:a,onChange:l})))})))),n.createElement(or.make,{dispatch:i,addPlayerCallback:function(e){return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:[e,o],byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}}))}var Rr={make:Nr};function Cr(e,t){return e.filter((function(e){return[e.whiteId,e.blackId].includes(t)})).reduce((function(e,t){return e.concat([t.whiteId,t.blackId])}),[]).includes(it)}function Ir(e){var t=e.players,a=e.tourney,r=e.setTourney,o=e.byeQueue;return n.createElement(n.Fragment,void 0,E.i(h.q(t),(function(e){return n.createElement("tr",{key:e.id,className:i.c([at.toString(e.type_),["player",0]])},n.createElement("td",void 0,e.firstName),n.createElement("td",void 0,e.lastName),n.createElement("td",void 0,n.createElement("button",{className:"button-micro",disabled:o.includes(e.id),onClick:function(t){return c.a(r,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:E.b(o,[e.id]),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Bye signup")))})))}var Sr=function(e){var t=e.tournament,a=t.tourney,r=a.byeQueue,o=a.playerIds,l=t.setTourney,u=t.activePlayers,s=n.useState((function(){return!o})),d=s[1],m=Zt(a.roundList,void 0);return n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{onClick:function(e){return c.a(d,(function(e){return!0}))}},n.createElement(wr.a,{})," Edit player roster")),n.createElement(X.make,{children:null},n.createElement(Z.make,{children:n.createElement("table",void 0,n.createElement("caption",void 0,"Current roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{colSpan:2},"Name"),n.createElement("th",void 0,"Options"))),n.createElement("tbody",{className:"content"},n.createElement(Ir,{players:u,tourney:a,setTourney:l,byeQueue:r}))),style:{flexShrink:"0"}}),n.createElement(Z.make,{children:null},n.createElement("h3",void 0,"Bye queue"),0===r.length?n.createElement("p",void 0,"No players have signed up for a bye round."):null,n.createElement("ol",void 0,E.i(r,(function(e){return n.createElement("li",{key:e,className:i.c(["buttons-on-hover",[i.b("disabled",Cr(m,e)),0]])},b.b(" ",[h.d(u,e).firstName,[h.d(u,e).lastName,0]])," ",n.createElement("button",{className:"button-micro",onClick:function(t){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:r.filter((function(t){return e!==t})),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Remove"))})))),n.createElement(an.make,{isOpen:s[0],onDismiss:function(e){return c.a(d,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return c.a(d,(function(e){return!1}))}},"Done"),n.createElement(Nr,{tourney:a,setTourney:l,players:t.players,playersDispatch:t.playersDispatch}))))},Or=m.a(0,[function(e){return e.player.firstName}]),Dr=m.a(2,[function(e){return e.ideal}]);function Br(e){var t=e.pairData,a=e.stagedPlayers,r=e.setStagedPlayers,i=e.unmatched,o=a[1],l=a[0],u=dt(E.i(h.q(i),(function(e){return{player:e,ideal:0}})),Or,!1),s=u[1],d=u[0],_=l!==o&&(void 0===l||void 0===o),f=function(e){var t=a[0];if(void 0!==t)return void 0===a[1]&&t!==e;var n=a[1];return void 0===n||n!==e};return n.useEffect((function(e){var n=function(e){var n,r=a[0];if(void 0!==r)n=void 0!==a[1]?void 0:r;else{var i=a[1];n=void 0!==i?i:void 0}if(void 0!==n){var o=h.c(t,n);return void 0!==o&&void 0!==e?Et(o,e)/pt:0}return 0},r=E.i(h.q(i),(function(e){return{player:e,ideal:n(h.c(t,e.id))}}));c.a(s,m.a(2,[r]))}),[i,t,s,a]),0===h.o(i)?null:n.createElement("table",{className:"content"},n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(ut.a,{children:"Controls"})),n.createElement("th",void 0,n.createElement(mt.make,{children:"Name",sortColumn:Or,data:d,dispatch:s})),n.createElement("th",void 0,n.createElement(mt.make,{children:"Ideal",sortColumn:Dr,data:d,dispatch:s})))),n.createElement("tbody",void 0,E.i(d.table,(function(e){var t=e.player;return n.createElement("tr",{key:t.id},n.createElement("td",void 0,n.createElement("button",{className:"button-ghost",disabled:!f(t.id),onClick:function(e){var n=t.id,i=a[0];if(void 0!==i){if(void 0!==a[1])return 0;var o=i;return c.a(r,(function(e){return[o,n]}))}var l=a[1];if(void 0!==l){var u=l;return c.a(r,(function(e){return[n,u]}))}return c.a(r,(function(e){return[n,void 0]}))}},n.createElement(Yn.a,{}),n.createElement(ut.a,{children:b.b(" ",["Add",[t.firstName,[t.lastName,0]]])}))),n.createElement("td",void 0,t.firstName+" "+t.lastName),n.createElement("td",void 0,_?p.a(e.ideal).format("%"):"-"))}))))}function Tr(e){var t,a,r=e.getPlayer,i=e.pairData,o=e.roundId,l=e.stagedPlayers,u=e.setStagedPlayers,s=e.setTourney,d=e.byeValue,m=e.tourney,_=e.round,f=m.roundList,g=l[1],v=l[0],b=void 0===l[0]&&void 0===l[1],y=void 0!==l[0]&&void 0!==l[1];if(void 0!==v){var E=v;t=c.a(r,E).firstName+" "+c.a(r,E).lastName}else t="";if(void 0!==g){var k=g;a=c.a(r,k).firstName+" "+c.a(r,k).lastName}else a="";var w,N=function(e){return e?c.a(u,(function(e){return[e[0],void 0]})):c.a(u,(function(e){return[void 0,e[1]]}))},R=l[0];if(void 0!==R){var C=l[1];if(void 0!==C){var I=h.c(i,R),S=h.c(i,C);if(void 0!==I&&void 0!==S){var O=Et(I,S);w=p.a(O/pt).format("%")}else w=""}else w=""}else w="";return n.createElement("div",void 0,n.createElement("h2",void 0,"Selected for matching:"),n.createElement("div",{className:"content"},n.createElement("p",void 0,"White: ",void 0!==v?n.createElement(n.Fragment,void 0,t+" ",n.createElement("button",{"aria-label":"remove "+t,className:"button-micro",onClick:function(e){return N(0)}},n.createElement(pr.a,{})," Remove")):null),n.createElement("p",void 0,"Black: ",void 0!==g?n.createElement(n.Fragment,void 0,a+" ",n.createElement("button",{"aria-label":"remove "+a,className:"button-micro",onClick:function(e){return N(1)}},n.createElement(pr.a,{})," Remove")):null),n.createElement("p",void 0,"Match ideal: "+w)),n.createElement("div",{className:"toolbar"},n.createElement("button",{disabled:b,onClick:function(e){return c.a(u,(function(e){return[e[1],e[0]]}))}},n.createElement(hr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-primary",disabled:!y,onClick:function(e){var t=l[0];if(void 0!==t){var a=l[1];if(void 0!==a){var n=aa.addMatches(_,[xt([c.a(r,t),c.a(r,a)],d)]),i=jt(f,o,n);return void 0!==i&&c.a(s,{id:m.id,name:m.name,date:m.date,playerIds:m.playerIds,byeQueue:m.byeQueue,tieBreaks:m.tieBreaks,roundList:D.e(i)}),c.a(u,(function(e){return[void 0,void 0]}))}return 0}return 0}},n.createElement(B.a,{})," Match selected")))}function Mr(e){var t=e.player,a=e.scoreData,r=e.players,i=e.avoidPairs,o=e.origRating,c=e.newRating,l=e.getPlayer,u=ft(t,a,D.c(i),l,r,o,c),s=u.player,d=s.firstName+" "+s.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,d),n.createElement("p",void 0,"Score: ",u.score.toString()),n.createElement("p",{id:"rating-"+s.id},"Rating: ",u.rating),n.createElement("p",void 0,"Color balance: "+u.colorBalance),n.createElement("p",void 0,"Has had a bye round: "+(u.hasBye?"Yes":"No")),n.createElement("p",void 0,"Opponent history:"),n.createElement("ol",void 0,u.opponentResults),n.createElement("p",void 0,"Players to avoid:"),u.avoidListHtml)}var Lr=function(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=e.unmatched,o=e.unmatchedCount,l=e.unmatchedWithDummy,u=n.useState((function(){return[void 0,void 0]})),s=u[0],d=s[1],m=s[0],_=u[1],f=Na(),g=a.tourney,v=g.roundList,b=g.byeQueue,y=a.setTourney,p=a.players,k=a.getPlayer,w=a.activePlayers,N=f[0],R=N.byeValue,C=N.avoidPairs,I=qt(v,t),S=n.useState((function(){return!1})),B=S[1],T=n.useMemo((function(){return wt(function(e,t,a){var n=je.toMap(a);return h.k(t,h.a,(function(t,a,r){var i=h.c(e,a),o=void 0!==i?i:we(void 0,a),c=h.c(n,a),l=void 0!==c?c:0,u={id:r.id,avoidIds:l,colorScores:o.colorScores,colors:o.colors,halfPos:0,isUpperHalf:!1,opponents:O.d(h.i(o.opponentResults)),rating:r.rating,score:J.sumF(o.results)};return h.n(t,a,u)}))}(r,w,C))}),[w,C,r]);if(n.useEffect((function(e){void 0!==m&&(void 0===h.c(l,m)&&c.a(_,(function(e){return[void 0,e[1]]})));void 0!==d&&(void 0===h.c(l,d)&&c.a(_,(function(e){return[e[0],void 0]})))}),[l,m,d,_]),void 0!==I){var M=D.e(I);return n.createElement("div",{className:"content-area",style:{width:"720px"}},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-primary",disabled:0===o,onClick:function(e){var a=M,n=aa.addMatches(a,O.o(Pt(T,R,i,b))),r=jt(v,t,n);return void 0!==r?c.a(y,{id:g.id,name:g.name,date:g.date,playerIds:g.playerIds,byeQueue:g.byeQueue,tieBreaks:g.tieBreaks,roundList:D.e(r)}):0}},"Auto-pair unmatched players")," ",n.createElement("button",{onClick:function(e){return c.a(B,(function(e){return!0}))}},"Add or remove players from the roster.")),n.createElement(X.make,{children:null},n.createElement(Z.make,{children:n.createElement(Br,{pairData:T,stagedPlayers:s,setStagedPlayers:_,unmatched:l})}),n.createElement(Z.make,{children:null,style:{flexGrow:"1"}},n.createElement(Tr,{getPlayer:k,pairData:T,roundId:t,stagedPlayers:s,setStagedPlayers:_,setTourney:y,byeValue:R,tourney:g,round:M}),n.createElement(X.make,{children:E.i([m,d],(function(e){if(void 0!==e){var t=e;return n.createElement(Z.make,{children:n.createElement(Mr,{player:c.a(k,t),scoreData:r,players:p,avoidPairs:C,origRating:c.a(k,t).rating,newRating:void 0,getPlayer:k}),key:t})}return null}))}))),n.createElement(an.make,{isOpen:S[0],onDismiss:function(e){return c.a(B,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(B,(function(e){return!1}))}},"Done"),n.createElement(Rr.make,{tourney:g,setTourney:y,players:p,playersDispatch:a.playersDispatch})))}return n.createElement("div",void 0,"No round available.")};function Fr(e){var t,a=Math.ceil((t=e,Math.log(t)/Math.log(2)));return a!==s.d?0|a:0}var Ar={id:P(),name:"",date:new Date(0),playerIds:0,byeQueue:[],tieBreaks:[0],roundList:Vt};function Pr(e,t){return t}var xr=function(e){var t=e.children,a=e.tourneyId,r=e.windowDispatch,i=n.useReducer(Pr,Ar),o=i[0],l=o.roundList,u=o.playerIds,s=o.name,d=i[1],f=Ea(),g=f[2],v=f[0],b=n.useState((function(){return 0})),y=b[1],p=b[0];switch(_t(0!==p&&g),n.useEffect((function(){return c.a(r,m.a(5,[s])),function(e){return c.a(r,m.a(5,[""]))}}),[s,r]),n.useEffect((function(){var e={contents:!1};return _.e(_.f(_a(gt.b(ba,a)),(function(t){return e.contents?0:void 0!==t?(c.a(d,t),c.a(y,(function(e){return 1}))):c.a(y,(function(e){return 2}))})),(function(t){return e.contents?0:c.a(y,(function(e){return 2}))})),function(t){return e.contents=!0,0}}),[a]),n.useEffect((function(e){1===p&&gt.f(ba,a,o)}),[p,a,o]),p){case 0:break;case 1:if(g){var E=h.h(v,(function(e,t){return O.g(u,e,(function(e,t){return e===t}))})),k=Fr(h.o(E)),w=Ut(l)>=k,N=!!(0===Ut(l))||Xt(l,E,Ut(l)-1|0);return c.a(t,{activePlayers:E,getPlayer:function(e){return lt(v,e)},isItOver:w,isNewRoundReady:N,players:v,playersDispatch:f[1],roundCount:k,tourney:o,setTourney:d})}break;case 2:return n.createElement(En.make,{children:"Error: tournament couldn't be loaded."})}return n.createElement(En.make,{children:"Loading..."})},Hr=o.K([o.O([-119887163,100]),[o.s([22632,1]),0]]),Wr=o.K([o.O([-119887163,100]),[o.J(" tr:not(:last-of-type)",[o.d(12956715),[o.i([25096,1]),[o.f(ie.grey_40),0]]]),0]]),Jr=o.K([o.G([25096,8],[25096,4]),0]),Kr=o.K([o.O([25096,20]),[o.F([25096,4]),[o.L(98248149),0]]]),Qr=o.K([o.O([25096,72]),0]),Vr=o.K([o.O([25096,140]),0]),Gr=o.K([o.O([25096,32]),[o.L(98248149),0]]);function Ur(e){var t=e.player,a=e.origRating,r=e.newRating,i=e.getPlayer,o=ft(t,e.scoreData,void 0,i,e.players,a,r),c=o.player,l=c.firstName+" "+c.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,l),n.createElement("dt",void 0,"Score"),n.createElement("dd",void 0,o.score.toString()),n.createElement("dt",void 0,"Rating"),n.createElement(ge.make,{children:n.createElement("dd",{"aria-label":"Rating for "+l},o.rating),testId:"rating-"+c.id}),n.createElement("dt",void 0,"Color balance"),n.createElement("dd",void 0,o.colorBalance),n.createElement("dt",void 0,"Has had a bye round"),n.createElement("dd",void 0,o.hasBye?"Yes":"No"),n.createElement("dt",void 0,"Opponent history"),n.createElement("dd",void 0,n.createElement("ol",void 0,o.opponentResults)),n.createElement("p",void 0,"Players to avoid:"),o.avoidListHtml)}function zr(e){var t,a=e.isCompact,r=void 0!==a&&a,l=e.pos,u=e.m,s=e.roundId,_=e.selectedMatch,f=void 0!==_?D.e(_):void 0,g=e.setSelectedMatch,v=e.scoreData,y=e.tournament,p=e.className,E=void 0!==p?p:"",k=y.tourney,w=k.roundList,N=y.setTourney,R=y.playersDispatch,C=y.players,I=y.getPlayer,S=n.useState((function(){return!1})),O=S[1],B=c.a(I,u.whiteId),T=c.a(I,u.blackId),M=u.whiteId===it||u.blackId===it,F=b.b(" ",[B.firstName,[B.lastName,0]]),A=b.b(" ",[T.firstName,[T.lastName,0]]),P=function(e){var t=n.createElement(Ka.a,{className:o.K([o.k(ie.yellow_70),0])}),a=n.createElement(ut.a,{children:"Lost"});switch(u.result){case 0:return e?a:t;case 1:return e?t:a;case 2:return n.createElement("span",{"aria-label":"Draw",role:"img",style:{filter:"grayscale(70%)"}},"\ud83e\udd1d");case 3:return n.createElement(ut.a,{children:"Not set"})}},x=function(e){var t=Tt.fromString(e);if(u.result!==t){var a=h.d(C,u.whiteId),n=h.d(C,u.blackId),r=Tt.toFloat(t,0),i=Tt.toFloat(t,1),o=t>=3?[u.whiteOrigRating,u.blackOrigRating]:xe.calcNewRatings([u.whiteOrigRating,u.blackOrigRating],[a.matchCount,n.matchCount],[r,i]),l=o[1],_=o[0],f=a.firstName,g=a.id,v=a.lastName,b=a.matchCount,y=a.type_,p={firstName:f,id:g,lastName:v,matchCount:b,rating:_,type_:y},E=n.firstName,I=n.id,S=n.lastName,O=n.matchCount,D=n.type_,B={firstName:E,id:I,lastName:S,matchCount:O,rating:l,type_:D};u.result>=3?(c.a(R,m.a(1,[g,{firstName:f,id:g,lastName:v,matchCount:b+1|0,rating:_,type_:y}])),c.a(R,m.a(1,[I,{firstName:E,id:I,lastName:S,matchCount:O+1|0,rating:l,type_:D}]))):3===t?(c.a(R,m.a(1,[g,{firstName:f,id:g,lastName:v,matchCount:b-1|0,rating:_,type_:y}])),c.a(R,m.a(1,[I,{firstName:E,id:I,lastName:S,matchCount:O-1|0,rating:l,type_:D}]))):(c.a(R,m.a(1,[g,p])),c.a(R,m.a(1,[I,B])));var T={id:u.id,whiteId:u.whiteId,blackId:u.blackId,whiteNewRating:_,blackNewRating:l,whiteOrigRating:u.whiteOrigRating,blackOrigRating:u.blackOrigRating,result:t};return d.e(Yt(w,s,T),(function(e){return c.a(N,{id:k.id,name:k.name,date:k.date,playerIds:k.playerIds,byeQueue:k.byeQueue,tieBreaks:k.tieBreaks,roundList:e})})),0}return 0};if(r||void 0===g)t=null;else{var H,W=g,J=d.f(f,!0,(function(e){return e!==u.id}));if(void 0!==v){var K=D.e(v);H=n.createElement(an.make,{isOpen:S[0],onDismiss:function(e){return c.a(O,(function(e){return!1}))},ariaLabel:"Match information",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return c.a(O,(function(e){return!1}))}},"close"),n.createElement("p",void 0,k.name),n.createElement("p",void 0,b.b(" ",["Round",[(s+1|0).toString(),["match",[(l+1|0).toString(),0]]]])),n.createElement(X.make,{children:null},n.createElement(Z.make,{children:n.createElement(Ur,{player:c.a(I,u.whiteId),origRating:u.whiteOrigRating,newRating:u.whiteNewRating,getPlayer:I,scoreData:K,players:C})}),n.createElement(Z.make,{children:n.createElement(Ur,{player:c.a(I,u.blackId),origRating:u.blackOrigRating,newRating:u.blackNewRating,getPlayer:I,scoreData:K,players:C})})))}else H=null;t=n.createElement("td",{className:i.c([Qr,["data__input",0]])},J?n.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(e){return c.a(W,(function(e){return u.id}))}},n.createElement(gr.a,{}),n.createElement(ut.a,{children:b.b(" ",["Edit match for",[F,["versus",[A,0]]]])})):n.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(e){return c.a(W,(function(e){}))}},n.createElement(vr.a,{})),n.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(e){return c.a(O,(function(e){return!0}))}},n.createElement(L.a,{}),n.createElement(ut.a,{children:b.b(" ",["View information for match:",[F,["versus",[A,0]]]])})),H)}return n.createElement("tr",{className:i.c([E,[d.f(f,"",(function(e){return u.id===e?"selected":"buttons-on-hover"})),0]])},n.createElement("th",{className:i.c([Kr,["table__number",0]]),scope:"row"},String(l+1|0)),n.createElement("td",{className:Gr},P(0)),n.createElement("td",{className:i.c(["table__player row__player",[at.toString(B.type_),0]]),id:"match-"+String(l)+"-white"},F),n.createElement("td",{className:Gr},P(1)),n.createElement("td",{className:i.c(["table__player row__player",[at.toString(T.type_),0]]),id:"match-"+String(l)+"-black"},A),n.createElement("td",{className:i.c([Vr,["data__input row__controls",0]])},n.createElement("select",{className:Hr,disabled:M,value:Tt.toString(u.result),onBlur:function(e){return x(e.target.value)},onChange:function(e){return x(e.target.value)}},n.createElement("option",{value:Tt.toString(3)},"Select winner"),n.createElement("option",{value:Tt.toString(0)},"White won"),n.createElement("option",{value:Tt.toString(1)},"Black won"),n.createElement("option",{value:Tt.toString(2)},"Draw"))),t)}function qr(e){var t=e.isCompact,a=void 0!==t&&t,r=e.roundId,i=e.matches,o=e.selectedMatch,c=void 0!==o?D.e(o):void 0,l=e.setSelectedMatch,u=e.tournament,s=e.scoreData,d=0===i.length;return n.createElement("table",{className:Wr},d?null:n.createElement(n.Fragment,void 0,n.createElement("caption",{className:a?"title-30":"title-40"},"Round ",(r+1|0).toString()),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{className:Kr,scope:"col"},"#"),n.createElement("th",{scope:"col"},n.createElement(ut.a,{children:"White result"})),n.createElement("th",{className:"row__player",scope:"col"},"White"),n.createElement("th",{scope:"col"},n.createElement(ut.a,{children:"Black result"})),n.createElement("th",{className:"row__player",scope:"col"},"Black"),n.createElement("th",{className:"row__result",scope:"col"},"Match result"),a?null:n.createElement("th",{className:"row__controls",scope:"col"},n.createElement(ut.a,{children:"Controls"}))))),n.createElement("tbody",{className:"content"},E.j(i,(function(e,t){return n.createElement(zr,{isCompact:a,pos:e,m:t,roundId:r,selectedMatch:c,setSelectedMatch:l,scoreData:s,tournament:u,className:Jr,key:t.id})}))))}var jr={make:qr};function Yr(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=a.tourney,o=i.roundList,l=a.setTourney,u=a.playersDispatch,s=a.players,_=n.useState((function(){})),f=_[1],g=_[0],v=function(e,a,n){var r=aa.moveMatch(n,e,a);if(void 0!==r){var u=jt(o,t,D.e(r));return void 0!==u?c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:D.e(u)}):0}return 0},b=qt(i.roundList,t);if(void 0!==b){var y=D.e(b),p=0===aa.size(y);return n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){return d.e(g,(function(e){var a=e,n=y,r=aa.getMatchById(n,a);if(void 0!==r){var d=r;3!==d.result&&O.b([[d.whiteId,d.whiteOrigRating],[[d.blackId,d.blackOrigRating],0]],(function(e){var t=h.c(s,e[0]);if(void 0!==t){var a=t;return c.a(u,m.a(1,[a.id,{firstName:a.firstName,id:a.id,lastName:a.lastName,matchCount:a.matchCount-1|0,rating:e[1],type_:a.type_}]))}return 0}))}var _=aa.removeMatchById(n,a),g=jt(o,t,_);return void 0!==g&&c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:D.e(g)}),c.a(f,(function(e){}))})),0}},n.createElement(Zn.a,{})," Unmatch")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){return d.e(g,(function(e){var a=e,n=y,r=aa.getMatchById(n,a);if(void 0!==r){var u=function(e){var t;switch(e.result){case 0:t=1;break;case 1:t=0;break;case 2:t=2;break;case 3:t=3}return{id:e.id,whiteId:e.blackId,blackId:e.whiteId,whiteNewRating:e.blackNewRating,blackNewRating:e.whiteNewRating,whiteOrigRating:e.blackOrigRating,blackOrigRating:e.whiteOrigRating,result:t}}(r);return d.e(Yt(o,t,u),(function(e){return c.a(l,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:e})})),0}return 0})),0}},n.createElement(hr.a,{})," Swap colors")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){return d.e(g,(function(e){return v(e,-1,y)})),0}},n.createElement(br.a,{})," Move up")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){return d.e(g,(function(e){return v(e,1,y)})),0}},n.createElement(yr.a,{})," Move down")),p?n.createElement("p",void 0,"No players matched yet."):null,n.createElement(qr,{roundId:t,matches:aa.toArray(y),selectedMatch:g,setSelectedMatch:f,tournament:a,scoreData:r}))}return n.createElement(xn.make,{})}function Zr(e){var t=e.roundId,a=e.tournament,r=function(e,t){var a,r=t.tourney.roundList,i=t.activePlayers,o=n.useMemo((function(){return kr(Zt(r,void 0))}),[r]),l=qt(r,e),u=e===zt(r);if(void 0!==l&&u){var s=aa.getMatched(D.e(l));a=h.m(i,s)}else a=h.a;var d=h.o(a),m=d%2!==0?h.n(a,it,c.a(t.getPlayer,it)):a;return{activePlayersCount:h.o(i),scoreData:o,unmatched:a,unmatchedCount:d,unmatchedWithDummy:m}}(t,a),i=r.unmatchedCount,o=r.scoreData,l=r.activePlayersCount,u=i===l?1:0,s=n.useState((function(){return u})),d=s[1];n.useEffect((function(e){i===l&&c.a(d,(function(e){return 1})),0===i&&c.a(d,(function(e){return 0}))}),[i,l,d]);var m=0!==i;return n.createElement(fr.e,{index:s[0],onChange:function(e){return c.a(d,(function(t){return e}))},children:null},n.createElement(fr.b,{children:null},n.createElement(fr.a,{disabled:i===l,children:null},n.createElement(mr.a,{})," Matches"),n.createElement(fr.a,{disabled:0===i,children:null},n.createElement(Qa.a,{}),b.b("",[" Unmatched players (",[i.toString(),[")",0]]]))),n.createElement(fr.d,{children:null},n.createElement(fr.c,{children:n.createElement(Yr,{roundId:t,tournament:a,scoreData:o})}),n.createElement(fr.c,{children:n.createElement("div",void 0,m?n.createElement(Lr,{roundId:t,tournament:a,scoreData:o,unmatched:r.unmatched,unmatchedCount:i,unmatchedWithDummy:r.unmatchedWithDummy}):null)})))}var Xr=function(e){var t=e.roundId,a=e.tournament;return n.createElement(Zr,{roundId:t,tournament:a})},$r=a(67);function ei(e){var t=e.getFullYear().toString(),a=e.getMonth(),n=e.getDate(),r=a<9?"0"+(a+1).toString():(a+1).toString(),i=n<10?"0"+n.toString():n.toString();return b.b("-",[t,[r,[i,0]]])}var ti=function(e){var t=e.tournament,a=t.tourney,r=a.roundList,i=a.date,o=a.name,l=t.setTourney,u=n.useState((function(){return 2})),s=u[1],m=u[0],_=n.useRef(null),f=n.useRef(null),g=function(e){return d.e(d.a(D.b(e.current),$r.a),(function(e){return e.focus(),0})),0};return n.useEffect((function(){switch(m){case 0:g(_);break;case 1:g(f)}}),[m]),n.createElement("div",{className:"content-area"},0!==m?n.createElement("h1",{style:{textAlign:"left"}},n.createElement("span",{className:"inputPlaceholder"},o)," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(s,(function(e){return 0}))}},n.createElement(wr.a,{}),n.createElement(ut.a,{children:"Edit name"}))):n.createElement("form",{className:"display-20",style:{textAlign:"left"},onSubmit:function(e){return c.a(s,(function(e){return 2}))}},n.createElement("input",{ref:_,className:"display-20",style:{textAlign:"left"},type:"text",value:o,onChange:function(e){return c.a(l,{id:a.id,name:e.currentTarget.value,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(s,(function(e){return 2}))}},n.createElement(B.a,{}))),1!==m?n.createElement("p",{className:"caption-30"},n.createElement(U.make,{date:i})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(s,(function(e){return 1}))}},n.createElement(wr.a,{}),n.createElement(ut.a,{children:"Edit date"}))):n.createElement("form",{className:"caption-30",onSubmit:function(e){return c.a(s,(function(e){return 2}))}},n.createElement("input",{ref:f,className:"caption-30",type:"date",value:ei(i),onChange:function(e){var t,n=e.currentTarget.value.split("-");3!==n.length?t=["2000","01","01"]:t=[n[0],n[1],n[2]];var r=Number(t[0]),i=Number(t[1])-1,o=Number(t[2]);return c.a(l,{id:a.id,name:a.name,date:new Date(r,i,o),playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return c.a(s,(function(e){return 2}))}},n.createElement(B.a,{}))),n.createElement("h2",void 0,"Change bye scores"),n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:ta(r,0)}),K("Bye scores updated to 1.")}},"Change byes to 1")," ",n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return c.a(l,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:ta(r,1)}),K("Bye scores updated to \xbd.")}},"Change byes to \xbd"),n.createElement("p",{className:"caption-30",id:"score-desc"},"This will update all bye matches which have been previously\n          scored in this tournament. To change the default bye value in\n          future matches, go to the ",n.createElement(fe.HashLink.make,{children:"app options",to_:"/options"}),"."))},ai=o.K([o.e(-996847251),[o.M("width","min-content"),0]]),ni=o.K([o.N(-445061397),0]),ri=o.K(0),ii=o.K([o.J(":nth-of-type(even)",[o.c(ie.white_100),0]),[o.J(":nth-of-type(odd)",[o.c(ie.grey_20),0]),0]]),oi=o.K([o.i([25096,1]),[o.f(ie.grey_40),[o.h(12956715),0]]]),ci=o.K([o.d(12956715),[o.i([25096,1]),[o.f(ie.grey_40),[o.c(ie.white_100),0]]]]),li=o.K([o.L(-944764921),[o.k(ie.grey_90),0]]),ui=o.K([o.L(98248149),[o.k(ie.grey_90),0]]),si=o.K([o.F([25096,4]),0]);function di(e){var t=e.isCompact,a=void 0!==t&&t,r=e.tourney,o=e.getPlayer,l=e.title,u=r.tieBreaks,s=E.i(u,ca),d=Fe(O.h(Le(kr(Zt(r.roundList,void 0)),u),(function(e){return!ot(e.id)})));return n.createElement("table",{className:i.c([ai,[i.b(ri,a),0]])},n.createElement("caption",{className:i.c([i.b("title-30",a),[i.b("title-40",!a),0]])},l),n.createElement("thead",void 0,n.createElement("tr",{className:ni},n.createElement("th",{className:"title-10",scope:"col"},"Rank"),n.createElement("th",{className:"title-10",scope:"col"},"Name"),n.createElement("th",{className:"title-10",scope:"col"},"Score"),a?null:E.j(s,(function(e,t){return n.createElement("th",{key:String(e),className:"title-10",scope:"col"},t)})))),n.createElement("tbody",void 0,J.toReactArrayReverseWithIndex(d,(function(e,t){return J.toReactArrayReverseWithIndex(t,(function(r,l){var u=0===r;return n.createElement("tr",{key:l.id,className:ii},u?n.createElement("th",{className:i.c(["table__number",[si,[ui,[ci,0]]]]),rowSpan:O.l(t),scope:"row"},String(e+1|0)):null,a?n.createElement("td",{className:i.c([oi,[li,0]])},c.a(o,l.id).firstName,V.nbsp,c.a(o,l.id).lastName):n.createElement("th",{className:i.c([ci,[li,0]]),scope:"row"},c.a(o,l.id).firstName,V.nbsp,c.a(o,l.id).lastName),n.createElement("td",{className:i.c([si,[oi,["table__number",0]]])},p.a(l.score).format("1/2")),a?null:J.toReactArray(l.tieBreaks,(function(e){return n.createElement("td",{key:ca(e[0]),className:i.c([oi,["table__number",0]])},p.a(e[1]).format("1/2"))})))}))}))))}var mi={make:di};function _i(e){var t=e.tourney,a=e.setTourney,r=t.tieBreaks,o=n.useState((function(){})),l=o[1],u=o[0],s=function(e){return void 0!==e?e:void 0!==u?u:0},d=function(e){return r.includes(s(e))?(c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.filter((function(t){return s(e)!==t})),roundList:t.roundList}),c.a(l,(function(e){}))):c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.concat([s(e)]),roundList:t.roundList})},m=function(e){if(void 0!==u){var n=r.indexOf(u);return c.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,byeQueue:t.byeQueue,tieBreaks:W.swap(t.tieBreaks,n,n+e|0),roundList:t.roundList})}return 0};return n.createElement(X.make,{children:null,className:"content-area"},n.createElement(Z.make,{children:null},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===u,onClick:function(e){return d(void 0)}},"Toggle"),n.createElement("button",{className:"button-micro",disabled:void 0===u,onClick:function(e){return m(-1)}},n.createElement(br.a,{})," Move up"),n.createElement("button",{className:"button-micro",disabled:void 0===u,onClick:function(e){return m(1)}},n.createElement(yr.a,{})," Move down"),n.createElement("button",{className:i.c(["button-micro",[i.a("button-primary",u),0]]),disabled:void 0===u,onClick:function(e){return c.a(l,(function(e){}))}},"Done")),n.createElement("table",void 0,n.createElement("caption",{className:"title-30"},"Selected tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(ut.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},E.i(r,(function(e){var t;void 0!==u?t=u===e?"Done":"Edit":t="Edit";return n.createElement("tr",{key:la(e),className:i.c([i.b("selected",u===e),0])},n.createElement("td",void 0,ca(e)),n.createElement("td",{style:{width:"48px"}},n.createElement("button",{className:"button-micro",disabled:void 0!==u&&u!==e,onClick:function(t){return void 0!==u&&u===e?c.a(l,(function(e){})):c.a(l,(function(t){return e}))}},t)))}))))),n.createElement(Z.make,{children:null},n.createElement("div",{className:"toolbar"},V.nbsp),n.createElement("table",{style:{marginTop:"16px"}},n.createElement("caption",{className:"title-30"},"Available tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(ut.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},E.i([0,1,2,3,4],(function(e){var t=r.includes(e),a=r.includes(e);return n.createElement("tr",{key:la(e)},n.createElement("td",void 0,n.createElement("span",{className:t?"disabled":"enabled"},ca(e))),n.createElement("td",void 0,a?null:n.createElement("button",{className:"button-micro",onClick:function(t){return d(e)}},"Add")))}))))))}function fi(e,t,a){if(t===a)return n.createElement(M.a,{className:"disabled"});var r=h.c(e,t);if(void 0!==r){var i=h.c(r.opponentResults,a);return void 0!==i?p.a(i).format("1/2"):null}return null}function gi(e,t){var a=h.d(e,t).firstRating,r=h.d(e,t).ratings,o=r?r[0]:a,c=p.a(o-a|0).format("+0");return n.createElement(n.Fragment,void 0,n.createElement("td",{className:i.c([oi,["table__number",0]])},o.toString()),n.createElement("td",{className:i.c([oi,["table__number body-10",0]])},c))}var vi={getXScore:fi,getRatingChangeTds:gi,make:function(e){var t=e.tournament,a=t.tourney,r=t.getPlayer,o=kr(Zt(a.roundList,void 0)),l=Le(o,a.tieBreaks);return n.createElement("table",{className:ai},n.createElement("caption",void 0,"Crosstable"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"#"),n.createElement("th",void 0,"Name"),J.toReactArrayWithIndex(l,(function(e,t){return n.createElement("th",{key:String(e)},String(e+1|0))})),n.createElement("th",void 0,"Score"),n.createElement("th",{colSpan:2},"Rating"))),n.createElement("tbody",void 0,J.toReactArrayWithIndex(l,(function(e,t){return n.createElement("tr",{key:String(e),className:ii},n.createElement("th",{className:i.c([ci,[ui,0]]),scope:"col"},String(e+1|0)),n.createElement("th",{className:i.c([ci,[li,0]]),scope:"row"},c.a(r,t.id).firstName,V.nbsp,c.a(r,t.id).lastName),J.toReactArrayWithIndex(l,(function(e,a){return n.createElement("td",{key:String(e),className:i.c([oi,["table__number",0]])},fi(o,t.id,a.id))})),n.createElement("td",{className:i.c([oi,["table__number",0]])},p.a(t.score).format("1/2")),gi(o,t.id))}))))}},hi=function(e){var t=e.tournament,a=t.tourney;return n.createElement(fr.e,{children:null},n.createElement(fr.b,{children:null},n.createElement(fr.a,{children:null},n.createElement(mr.a,{})," Scores"),n.createElement(fr.a,{children:null},n.createElement(Va.a,{})," Edit tiebreak rules")),n.createElement(fr.d,{children:null},n.createElement(fr.c,{children:n.createElement(di,{tourney:a,getPlayer:t.getPlayer,title:"Score detail"})}),n.createElement(fr.c,{children:n.createElement(_i,{tourney:a,setTourney:t.setTourney})})))};var bi=function(e){var t,a=e.tournament,r=a.tourney,i=zt(r.roundList),o=qt(r.roundList,i);if(void 0!==o){var c=D.e(o);t=0===aa.size(c)?n.createElement("p",void 0,"Matched players in the current round will be shown here."):n.createElement(jr.make,{isCompact:!0,roundId:i,matches:aa.toArray(c),tournament:a})}else t=n.createElement("p",void 0,"No rounds played yet.");return n.createElement(n.Fragment,void 0,n.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),n.createElement(X.make,{children:null,style:{justifyContent:"center"}},n.createElement(Z.make,{children:t}),n.createElement(Z.make,{children:n.createElement(mi.make,{isCompact:!0,tourney:r,getPlayer:a.getPlayer,title:"Rankings"})})))};function yi(e){var t=e.tournament,a=t.isNewRoundReady?t.isItOver?[V.nbsp+" All rounds have completed.",1]:[V.nbsp+" Ready to begin a new round.",0]:[V.nbsp+"Round in progress.",3],r=a[0];return n.createElement(n.Fragment,void 0,n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Rounds: ",Ut(t.tourney.roundList).toString(),n.createElement("small",void 0," out of "),t.roundCount.toString()),n.createElement("hr",{className:"win__footer-divider"}),n.createElement(me.make,{children:r,kind:a[1],tooltip:r,className:"win__footer-block",style:{backgroundColor:"transparent",color:"initial",display:"inline-flex",margin:"0",minHeight:"initial"}}),n.createElement("hr",{className:"win__footer-divider"}),n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Registered players: ",h.o(t.activePlayers).toString()))}function pi(e){return e.preventDefault(),0}function Ei(e){var t=e.tournament,a=t.tourney,r=a.roundList,o=t.setTourney,l=t.playersDispatch,u=t.players,s=t.isItOver,d=t.activePlayers,_="/tourneys/"+a.id;return n.createElement("div",void 0,n.createElement("nav",void 0,n.createElement("ul",{style:{marginTop:"0"}},n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:"/tourneys",onDragStart:pi},n.createElement(Xn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Back")))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:_+"/setup",onDragStart:pi},n.createElement(Va.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Setup"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:_,onDragStart:pi},n.createElement(Qa.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Players"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:_+"/status",onDragStart:pi},n.createElement(sr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Status"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:_+"/crosstable",onDragStart:pi},n.createElement(dr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Crosstable"))),n.createElement("li",void 0,n.createElement(fe.HashLink.make,{children:null,to_:_+"/scores",onDragStart:pi},n.createElement(mr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Score detail")))),n.createElement("hr",void 0),n.createElement("h5",{className:"sidebar__hide-on-close sidebar__header"},"Rounds"),n.createElement("ul",{className:"center-on-close"},E.j(r,(function(e,t){var a=Xt(r,d,e);return n.createElement("li",{key:e.toString()},n.createElement(fe.HashLink.make,{children:null,to_:_+"/round/"+e.toString(),onDragStart:pi},(e+1|0).toString(),a?n.createElement("span",{className:i.c(["sidebar__hide-on-close",["caption-20",0]])}," Complete ",n.createElement(B.a,{})):n.createElement("span",{className:i.c(["sidebar__hide-on-close",["caption-20",0]])}," Not complete ",n.createElement(T.a,{}))))})))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement("button",{className:"sidebar-button",style:{width:"100%"},disabled:!t.isNewRoundReady,onClick:function(e){return e.preventDefault(),!(s&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?"))?c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:$t(r)}):0}},n.createElement(_r.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," New round"))),n.createElement("li",{style:{textAlign:"center"}},n.createElement("button",{className:"button-micro sidebar-button",style:{marginTop:"8px"},disabled:0===Ut(r),onClick:function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete the last round?")){F.b("#/tourneys/"+a.id);var t=zt(r),n=qt(r,t);return void 0!==n&&E.c(aa.toArray(D.e(n)),(function(e){return e.result>=3?0:O.b([[e.whiteId,e.whiteOrigRating],[[e.blackId,e.blackOrigRating],0]],(function(e){var t=h.c(u,e[0]);if(void 0!==t){var a=t,n=a.matchCount-1|0;return c.a(l,m.a(1,[a.id,{firstName:a.firstName,id:a.id,lastName:a.lastName,matchCount:n,rating:e[1],type_:a.type_}]))}return 0}))})),c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:ea(r)}),0===Ut(r)?c.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:$t(r)}):0}return 0}},n.createElement(Zn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Remove last round")))))}var ki=function(e){var t=e.tourneyId,a=e.hashPath,r=e.windowDispatch;return n.createElement(xr,{children:function(e){var t,r=0;if(a)switch(a[0]){case"":a[1]?r=1:t=n.createElement(Sr,{tournament:e});break;case"crosstable":a[1]?r=1:t=n.createElement(vi.make,{tournament:e});break;case"round":var i=a[1];i&&!i[1]?t=n.createElement(Xr,{roundId:jn.c(i[0]),tournament:e}):r=1;break;case"scores":a[1]?r=1:t=n.createElement(hi,{tournament:e});break;case"setup":a[1]?r=1:t=n.createElement(ti,{tournament:e});break;case"status":a[1]?r=1:t=n.createElement(bi,{tournament:e});break;default:r=1}else r=1;return 1===r&&(t=n.createElement(xn.make,{})),n.createElement(En.make,{children:t,footerFunc:function(t){return function(e,t){return n.createElement(yi,{tournament:e})}(e)},sidebarFunc:function(t){return function(e,t){return n.createElement(Ei,{tournament:e})}(e)}})},tourneyId:t,windowDispatch:r})},wi=m.a(3,[function(e){return e.date}]),Ni=m.a(0,[function(e){return e.name}]);var Ri=function(e){var t=e.windowDispatch,a=ka(),r=a[1],i=a[0],o=dt(h.q(i),wi,!0),l=o[1],u=o[0],s=n.useState((function(){return""})),d=s[1],_=s[0],f=n.useState((function(){return!1})),g=f[1];n.useEffect((function(){return c.a(t,m.a(5,["Tournament list"])),function(e){return c.a(t,m.a(5,[""]))}}),[t]),n.useEffect((function(){c.a(l,m.a(2,[h.q(i)]))}),[i,l]);var v=h.g(i);return n.createElement(En.make,{children:n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return c.a(g,(function(e){return!0}))}},n.createElement(_r.a,{})," Add tournament")),v?n.createElement("p",void 0,"No tournaments are added yet."):n.createElement("table",void 0,n.createElement("caption",void 0,"Tournament list"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(mt.make,{children:"Name",sortColumn:Ni,data:u,dispatch:l})),n.createElement("th",void 0,n.createElement(mt.make,{children:"Date",sortColumn:wi,data:u,dispatch:l})),n.createElement("th",void 0,n.createElement(ut.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},E.i(u.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",void 0,n.createElement(fe.HashLink.make,{children:e.name,to_:"/tourneys/"+e.id})),n.createElement("td",void 0,n.createElement(U.make,{date:e.date})),n.createElement("td",void 0,n.createElement("button",{"aria-label":"Delete "+e.name,className:"danger button-ghost",title:"Delete "+e.name,onClick:function(t){var a=e.id,n=e.name,i="Are you sure you want to delete \u201c"+String(n)+"\u201d?";return window.confirm(i)?c.a(r,m.a(0,[a])):0}},n.createElement(Zn.a,{}))))})))),n.createElement(an.make,{isOpen:f[0],onDismiss:function(e){return c.a(g,(function(e){return!1}))},ariaLabel:"Create new tournament",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return c.a(g,(function(e){return!1}))}},"Close"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=P();return c.a(r,m.a(1,[t,{id:t,name:_,date:new Date,playerIds:0,byeQueue:[],tieBreaks:[0,1,2,3],roundList:Vt}])),c.a(d,(function(e){return""})),c.a(g,(function(e){return!1}))}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Make a new tournament"),n.createElement("label",{htmlFor:"tourney-name"},"Name:"),n.createElement("input",{id:"tourney-name",name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:_,onChange:function(e){return c.a(d,e.currentTarget.value)}})," ",n.createElement("input",{className:"button-primary",type:"submit",value:"Create"})))))})};a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(95);function Ci(e){var t=F.e(void 0,0);return n.createElement(kn,{children:function(e){var a,r=fe.hashPath(t.hash),i=0;if(r)switch(r[0]){case"":r[1]?i=1:a=n.createElement(Tn.make,{});break;case"options":r[1]?i=1:a=n.createElement(qn,{windowDispatch:e});break;case"players":var o=r[1];o?o[1]?i=1:a=n.createElement(ur,{id:o[0],windowDispatch:e}):a=n.createElement(ur,{windowDispatch:e});break;case"timecalc":r[1]?i=1:a=n.createElement(Pn.make,{});break;case"tourneys":var c=r[1];if(c){var l=c[1],u=c[0];a=l?n.createElement(ki,{tourneyId:u,hashPath:l,windowDispatch:e}):n.createElement(ki,{tourneyId:u,hashPath:["",0],windowDispatch:e})}else a=n.createElement(Ri,{windowDispatch:e});break;default:i=1}else i=1;return 1===i&&(a=n.createElement(En.make,{children:n.createElement(xn.make,{})})),n.createElement("main",{className:"app__main"},a)},className:"app"})}a.d(t,"App",(function(){return Ii})),a.d(t,"ServiceWorker",(function(){return Si}));var Ii={make:Ci};r.b(n.createElement(Ci,{}),"root");var Si={unregister:function(e){return Hn(),0}};Hn()}},[[71,1,2]]]);
//# sourceMappingURL=main.103a849f.chunk.js.map