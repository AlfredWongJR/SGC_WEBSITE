{"version":3,"sources":["index.js","assets/icon-min.svg","assets/caution.svg","Utils.bs.js","Scoring.bs.js","Data/Data_Config.bs.js","Data/Data_Player.bs.js","Hooks.bs.js","Pairing.bs.js","Data/Data_Match.bs.js","Data/Data_Rounds.bs.js","DemoData.bs.js","Data/Data_Tournament.bs.js","Db.bs.js","Icons.bs.js","Electron.bs.js","Externals.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","PagePlayers.bs.js","Data/Data_Converters.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageRound.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js"],"names":["require","module","exports","nanoid","prim","Nanoid","ascend","cmp","getter","a","b","Curry","descend","$$Array","last","arr","Belt_Array","length","sum","__x","prim$1","sumF","swap","idx1","idx2","match","match$1","undefined","Caml_option","List","list","Belt_List","toReactArrayReverse","fn","result","item","unshift","toReactArrayReverseWithIndex","i","push","toReactArray","toReactArrayWithIndex","alert","window","WebpackAssets","logo","caution","Entities","nbsp","copy","formatter","Intl_DateTimeFormat","DateFormat","make","Props","date","React","dateTime","toISOString","formatter$1","DateTimeFormat","panels","Css","panel","Panel","children","className","style","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","magenta_50","magenta_60","magenta_70","magenta_80","magenta_90","purple_30","purple_40","purple_50","purple_60","purple_70","purple_80","purple_90","blue_40","blue_50","blue_50_A30","blue_60","blue_70","blue_80","blue_90","teal_50","teal_60","teal_70","teal_80","teal_90","green_60","green_70","green_80","yellow_60","yellow_70","yellow_80","red_50","red_70","red_80","red_90","orange_50","orange_60","orange_70","orange_80","orange_90","grey_10","grey_10_A10","grey_10_A20","grey_10_A40","grey_10_A60","grey_10_A80","grey_20","grey_30","grey_40","grey_50","grey_60","grey_70","grey_80","grey_90","grey_90_A05","grey_90_A10","grey_90_A20","grey_90_A30","grey_90_A40","grey_90_A50","grey_90_A60","grey_90_A70","grey_90_A80","grey_90_A90","ink_70","ink_80","ink_90","container","text","icon","success","warning","error","$$Notification","Style","match$4","kind","tooltip","match$2","match$3","ReactFeather","title","HashLink","to_","onDragStart","hash","ReasonReactRouter","ariaCurrent","href","Router","replace","watchUrl","unwatchUrl","dangerouslyGetInitialUrl","useUrl","hashPath","hashString","split","path","TestId","testId","Numeral","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","toString","Number","github_url","license_url","issues_url","Color","opposite","color","toScore","createBlankScoreData","$staropt$star","id","firstRating","colorScores","colors","isDummy","opponentResults","Belt_MapString","ratings","results","resultsNoByes","isNotDummy","scores","oppId","getPlayerScore","Utils$Coronate","getOpponentScores","acc","param","getMedianScore","Belt_Option","Caml_primitive","getSolkoffScore","runningReducer","score","getCumulativeScore","getCumulativeOfOpponentScore","key","getColorBalanceScore","mapTieBreak","tieBreak","createStandingList","methods","funcList","tbType","partial_arg","data","tieBreaks","param$1","x","_tieBreaks","tieBreaks$1","rest","getTieBreak","x$1","standingsSorter","createStandingTree","standingList","standing","lastRank","pastRanks","standing1","standing2","comparisons","areScoresEqual","getKFactor","matchCount","ne","Caml_int32","keepAboveFloor","rating","Ratings","EloRank","calcNewRatings","param$2","blackRating","whiteRating","whiteElo","blackElo","whiteExpected","getExpected","blackExpected","updateRating","fromFloat","json","decode","Json_decode","T","Belt_Id","d","c","w","$$String","y","z","empty","Belt_Set","decode$1","encode$1","Json_encode","toMapReducer","id2","id1","newList1","newList2","AvoidPairs","fromArray","encode","toMap","decode$2","avoidPairs","byeValue","lastBackup","encode$2","$$default","Date","fromString","str","Type","firstName","lastName","type_","dummy_id","isDummyId","playerId","dummyPlayer","getPlayerMaybe","playerMap","makeMissingPlayer","sortedTableReducer","state","action","newState","tag","isDescending","column","table","sortFunc","direction","func","toLowerCase","func$1","getTime","Belt_SortArray","useSortedTable","initialState","dispatch","SortButton","sortColumn","chevronStyle","opacity","width","onClick","Block","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","useScoreInfo","player","scoreData","getPlayer","players","origRating","newRating","Scoring$Coronate","hasBye","Data_Player$Coronate","colorBalance","abs","avoidMap","Data_Config$Coronate","avoidList","opponentResults$1","opId","avoidListHtml","pId","format","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","metBefore","opponents","mustAvoid","avoidIds","isDiffDueColor","scoreDiff","halfDiff","Pervasives","halfPos","isDiffHalf","isUpperHalf","descendingRating","setUpperHalves","dataList","playerData","midpoint","splitInHalf","getIndex","sortByScoreThenRating","data1","data2","assignColorsForPair","pair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","Result","toFloat","whiteId","blackId","whiteNewRating","blackNewRating","whiteOrigRating","blackOrigRating","byeResultForPlayerColor","scoreByeMatch","match_","autoPair","pairData","byeQueue","filteredData","dummyId","dataForNextBye","p","playerIdsWithoutByes","nextByeSignups","Pairing$Coronate","byePlayerData","pairs","playerIdArray","playerArray","EdmondsBlossom","accArr","index","playerMatches","indexOf","p1Index","p2Index","p1Id","p2Id","p1","p2","matched","matchedHasId","pairsWithBye","manualPair","black","white","Data_Match$Coronate","getMatched","round","getMatchById","setMatch","wasSuccessful","empty$1","size$1","getLastKey","rounds","get","set","setMatch$1","rounds2Matches","roundList","lastRound","isRoundComplete","roundId","unmatched","includes","addRound","delLastRound","slice","updateByeScores","newValue","Round","toArray","size","addMatches","removeMatchById","moveMatch","matchId","oldIndex","newIndex","config","tournaments","name","playerIds","Data_Rounds$Coronate","mapTieBreakName","tieBreakToString","encodeTieBreak","decodeTieBreak","tieBreakFromString","futureFromPromise","FutureJs","console","String","LocalForageJs$LocalForage","localForageConfig","configDb","Record$LocalForage","Map$LocalForage","Data_Tournament$Coronate","genericDbReducer","useAllDb","store","items","setIsLoaded","Hooks$Coronate","didCancel","contents","Future","Localforage","keys","stateKeys","deleted","filter","useAllPlayers","useAllTournaments","configReducer","useConfig","values","IconData","Reason","Icons$SimpleIcon","height","ariaLabel","match$5","ariaHidden","role","ReactDOMRe","combine","fill","hex","viewBox","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","electron","ifElectron","remote","getCurrentWindow","openInBrowser","$$event","preventDefault","shell","openExternal","target","macOSDoubleClick","doubleClickAction","systemPreferences","getUserDefault","$$window","isMaximized","unmaximize","maximize","toggleMaximize","minimize","isWin","navigator","appVersion","isMac","isElectron","IfElectron","os","Dialog$1","isOpen","onDismiss","Dialog","global_title","formatTitle","initialWinState","isBlur","isDialogOpen","isFullScreen","isSidebarOpen","windowReducer","Window$About","display","justifyContent","textAlign","flex","alt","src","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","sidebarCallback","Body","footerFunc","sidebarFunc","win","unregisterListeners","removeAllListeners","on","isFocused","Externals$Coronate","backgroundColor","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","Splash","Window$Coronate","Promise","all","DemoData$Coronate","then","resolve","catch","fontSize","log2","num","log","fixNumber","updateFloat","minimum","Belt_Float","currentTarget","safeValue","updateInt","Belt_Int","TimeCalculator","setPlayers","setBreakTime","breakTime","setTotalTime","totalTime","htmlFor","min","type","onChange","ceil","step","NotFound","Boolean","location","hostname","unregister","serviceWorker","ready","registration","getDateForFile","getFullYear","getMonth","getDate","decodeOptions","dict","dict$1","Js_dict","encodeOptions","map","map$1","PageOptions$LastBackupDate","windowDispatch","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","checked","download","reader","FileReader","onload","ev","val","raw_exn","exn","Caml_js_exceptions","readAsText","files","onSubmit","spellCheck","cols","rows","newText","sortName","sortRating","sortMatchCount","defaultFirstName","defaultLastName","defaultRating","PagePlayers$NewPlayerForm","addPlayerCallback","setFirstName","setLastName","setRating","updateField","Caml_format","required","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","setIsDialogOpen","$$event$1","playerOpt","message","confirm","PagePlayers$Profile","playerName","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","handleChange","defaultValue","disabled","readOnly","newSelected","selectedAvoider$1","onBlur","tmp","makeScoreData","existingData","oldData","newResultsNoByes","oldOppResults","oppResult","matches2ScoreData","matchList","whiteData","blackData","PageTourneyPlayers$Selecting","tourney","setTourney","togglePlayer","PagePlayers$Coronate","Selecting","hasHadBye","matches","reduce","concat","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","colSpan","flexShrink","sortByName","sortByIdeal","ideal","PairPicker$SelectList","stagedPlayers","setStagedPlayers","sortedDispatch","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","PairPicker$Stage","whiteName","blackName","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","newRound","PairPicker$PlayerInfo","fullName","unmatchedCount","unmatchedWithDummy","setIsModalOpen","playerStats","newAvoidIds","newData","Data_Converters$Coronate","round$1","round$2","flexGrow","PageTourneyPlayers$Coronate","calcNumOfRounds","playerCount","roundCount","emptyTourney","tournamentReducer","tourneyId","arePlayersLoaded","setTourneyLoaded","tourneyLoaded","isItOver","isNewRoundReady","winnerSelect","td","rowId","controls","matchResult","playerResult","PageRound$PlayerMatchInfo","PageRound$MatchRow","isCompact","pos","m","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","newResult","newWhiteScore","newBlackScore","white_firstName","white_id","white_lastName","white_matchCount","white_type_","white$1","black_firstName","black_id","black_lastName","black_matchCount","black_type_","black$1","newMatch","tmp$1","setSelectedMatch$1","scoreData$1","scope","PageRound$RoundTable","RoundTable","PageRound$Round","Pages$Coronate","PageRound$PageRound","isThisTheLastRound","activePlayersCount","LoadTournament$Coronate","initialTab","setOpenTab","Tabs","PairPicker$Coronate","makeDateInput","year","rawMonth","rawDate","month","day","setEditing","editing","nameInput","dateInput","focusRef","myref","current","Webapi__Dom__Element","focus","ref","year$1","month$1","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreakNames","standingTree","rank$1","standingsFlat","rowSpan","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","tbId","moveTb","marginTop","getXScore","player1Id","player2Id","getRatingChangeTds","lastRating","change","Crosstable","standings","index2","opponent","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","basePath","exit","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","t","placeholder","Index$App","url","PageOptions$Coronate","PageTourney$Coronate","PageTournamentList$Coronate","App","ServiceWorker$1","ServiceWorker"],"mappings":"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CRkC,OApNkC,CAClC,QACA,UAmNAC,OAhNkC,CAClC,QACA,UA+MAC,OA5MkC,CAClC,QACA,UA2MAC,UAxMqC,CACrC,QACA,UAuMAC,UApMqC,CACrC,QACA,UAmMAC,UAhMqC,CACrC,QACA,UA+LAC,UA5LqC,CACrC,QACA,UA2LAC,UAxLqC,CACrC,QACA,UAuLAC,QApLmC,CACnC,QACA,UAmLAC,YAhLuC,CACvC,QACA,YA+KAC,YA5KuC,CACvC,QACA,YA2KAC,YAxKuC,CACvC,QACA,YAuKAC,YApKuC,CACvC,QACA,YAmKAC,YAhKuC,CACvC,QACA,YA+JAC,QA5JmC,CACnC,QACA,UA2JAC,QAxJmC,CACnC,QACA,UAuJAC,QApJmC,CACnC,QACA,UAmJAC,QAhJmC,CACnC,QACA,UA+IAC,QA5ImC,CACnC,QACA,UA2IAC,QAxImC,CACnC,QACA,UAuIAC,QApImC,CACnC,QACA,UAmIAC,QAhImC,CACnC,QACA,UA+HAC,YA5HuC,CACvC,QACA,YA2HAC,YAxHuC,CACvC,QACA,YAuHAC,YApHuC,CACvC,QACA,YAmHAC,YAhHuC,CACvC,QACA,YA+GAC,YA5GuC,CACvC,QACA,YA2GAC,YAxGuC,CACvC,QACA,YAuGAC,YApGuC,CACvC,QACA,YAmGAC,YAhGuC,CACvC,QACA,YA+FAC,YA5FuC,CACvC,QACA,YA2FAC,YAxFuC,CACvC,QACA,YAuFAC,OApFkC,CAClC,QACA,UAmFAC,OAhFkC,CAClC,QACA,UA+EAC,OA5EkC,CAClC,QACA,UA2EAnE,UAAWA,IAGToE,GAAYjF,IAAkB,CAC5BA,KAAuB,YACf,CACNA,IAA2B,SACnB,CACNA,IAA+B,UACvB,CACNA,IAAuB,CACjB,MACA,KAEE,CACNA,IAAsB,CAChB,MACA,KAEE,CACNA,IAAyB,CACnB,QACA,MAEE,CACNA,IAAwB,CAClB,MACA,IAEE,CACNA,IAA2B,CACrB,MACA,IAEE,CACNA,IAAqB,CACf,MACA,IACY,WACV,CACNA,IAA0B,CACpB,MACA,IAEE,aAY5BkF,GAAOlF,IAAkB,CACvBA,KAAuB,YACf,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","file":"static/js/main.103a849f.chunk.js","sourcesContent":["require(\"./Index.bs\");","module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Nanoid from \"nanoid\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction nanoid(prim) {\n  return Nanoid.default();\n}\n\nfunction ascend(cmp, getter, a, b) {\n  return Curry._2(cmp, Curry._1(getter, a), Curry._1(getter, b));\n}\n\nfunction descend(cmp, getter, a, b) {\n  return Curry._2(cmp, Curry._1(getter, b), Curry._1(getter, a));\n}\n\nfunction last(arr) {\n  return Belt_Array.get(arr, arr.length - 1 | 0);\n}\n\nfunction sum(__x) {\n  return Belt_Array.reduce(__x, 0, (function (prim, prim$1) {\n                return prim + prim$1 | 0;\n              }));\n}\n\nfunction sumF(__x) {\n  return Belt_Array.reduce(__x, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  last: last,\n  sum: sum,\n  sumF: sumF,\n  swap: swap\n};\n\nfunction sumF$1(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction toReactArrayReverse(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEach(list, (function (item) {\n          return result.unshift(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayReverseWithIndex(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEachWithIndex(Belt_List.reverse(list), (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nfunction toReactArray(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEach(list, (function (item) {\n          return result.push(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayWithIndex(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEachWithIndex(list, (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nvar List = {\n  sumF: sumF$1,\n  toReactArrayReverse: toReactArrayReverse,\n  toReactArrayReverseWithIndex: toReactArrayReverseWithIndex,\n  toReactArray: toReactArray,\n  toReactArrayWithIndex: toReactArrayWithIndex\n};\n\nfunction alert(__x) {\n  window.alert(__x);\n  return /* () */0;\n}\n\nvar logo = require(\"./assets/icon-min.svg\");\n\nvar caution = require(\"./assets/caution.svg\");\n\nvar WebpackAssets = {\n  logo: logo,\n  caution: caution\n};\n\nvar Entities = {\n  nbsp: \"\\xa0\",\n  copy: \"\\xa9\"\n};\n\nfunction MakeDateTimeFormat(M) {\n  var Utils$MakeDateTimeFormat = function (Props) {\n    var date = Props.date;\n    return React.createElement(\"time\", {\n                dateTime: date.toISOString()\n              }, Intl_DateTimeFormat.format(M.formatter, date));\n  };\n  return {\n          make: Utils$MakeDateTimeFormat\n        };\n}\n\nvar formatter = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar DateFormat = {\n  make: Utils$MakeDateTimeFormat\n};\n\nvar formatter$1 = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat$1(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$1, date));\n}\n\nvar DateTimeFormat = {\n  make: Utils$MakeDateTimeFormat$1\n};\n\nvar panels = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Css.style(/* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  panels: panels,\n  panel: panel\n};\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_magenta_50 = /* `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_magenta_60 = /* `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_magenta_70 = /* `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_magenta_80 = /* `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_magenta_90 = /* `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_purple_30 = /* `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_purple_40 = /* `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_purple_50 = /* `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_purple_60 = /* `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_purple_70 = /* `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_purple_80 = /* `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_purple_90 = /* `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_blue_40 = /* `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_blue_50 = /* `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_blue_50_A30 = /* `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_blue_60 = /* `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_blue_70 = /* `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_blue_80 = /* `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_blue_90 = /* `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_teal_50 = /* `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_teal_60 = /* `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_teal_70 = /* `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_teal_80 = /* `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_teal_90 = /* `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_green_60 = /* `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_green_70 = /* `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_green_80 = /* `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_yellow_60 = /* `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_yellow_70 = /* `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_yellow_80 = /* `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_red_50 = /* `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_red_70 = /* `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_red_80 = /* `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_red_90 = /* `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_orange_50 = /* `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_orange_60 = /* `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_orange_70 = /* `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_orange_80 = /* `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_orange_90 = /* `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_grey_10 = /* `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_grey_10_A10 = /* `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_grey_10_A20 = /* `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_grey_10_A40 = /* `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_grey_10_A60 = /* `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_grey_10_A80 = /* `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_grey_20 = /* `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_grey_30 = /* `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_grey_40 = /* `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_grey_50 = /* `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_grey_60 = /* `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_grey_70 = /* `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_grey_80 = /* `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_grey_90 = /* `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_grey_90_A05 = /* `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_grey_90_A10 = /* `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_grey_90_A20 = /* `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_grey_90_A30 = /* `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_grey_90_A40 = /* `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_grey_90_A50 = /* `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_grey_90_A60 = /* `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_grey_90_A70 = /* `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_grey_90_A80 = /* `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_grey_90_A90 = /* `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_ink_70 = /* `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_ink_80 = /* `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_ink_90 = /* `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = {\n  magenta_50: PhotonColors_magenta_50,\n  magenta_60: PhotonColors_magenta_60,\n  magenta_70: PhotonColors_magenta_70,\n  magenta_80: PhotonColors_magenta_80,\n  magenta_90: PhotonColors_magenta_90,\n  purple_30: PhotonColors_purple_30,\n  purple_40: PhotonColors_purple_40,\n  purple_50: PhotonColors_purple_50,\n  purple_60: PhotonColors_purple_60,\n  purple_70: PhotonColors_purple_70,\n  purple_80: PhotonColors_purple_80,\n  purple_90: PhotonColors_purple_90,\n  blue_40: PhotonColors_blue_40,\n  blue_50: PhotonColors_blue_50,\n  blue_50_A30: PhotonColors_blue_50_A30,\n  blue_60: PhotonColors_blue_60,\n  blue_70: PhotonColors_blue_70,\n  blue_80: PhotonColors_blue_80,\n  blue_90: PhotonColors_blue_90,\n  teal_50: PhotonColors_teal_50,\n  teal_60: PhotonColors_teal_60,\n  teal_70: PhotonColors_teal_70,\n  teal_80: PhotonColors_teal_80,\n  teal_90: PhotonColors_teal_90,\n  green_50: green_50,\n  green_60: PhotonColors_green_60,\n  green_70: PhotonColors_green_70,\n  green_80: PhotonColors_green_80,\n  green_90: green_90,\n  yellow_50: yellow_50,\n  yellow_60: PhotonColors_yellow_60,\n  yellow_70: PhotonColors_yellow_70,\n  yellow_80: PhotonColors_yellow_80,\n  yellow_90: yellow_90,\n  red_50: PhotonColors_red_50,\n  red_60: red_60,\n  red_70: PhotonColors_red_70,\n  red_80: PhotonColors_red_80,\n  red_90: PhotonColors_red_90,\n  orange_50: PhotonColors_orange_50,\n  orange_60: PhotonColors_orange_60,\n  orange_70: PhotonColors_orange_70,\n  orange_80: PhotonColors_orange_80,\n  orange_90: PhotonColors_orange_90,\n  grey_10: PhotonColors_grey_10,\n  grey_10_A10: PhotonColors_grey_10_A10,\n  grey_10_A20: PhotonColors_grey_10_A20,\n  grey_10_A40: PhotonColors_grey_10_A40,\n  grey_10_A60: PhotonColors_grey_10_A60,\n  grey_10_A80: PhotonColors_grey_10_A80,\n  grey_20: PhotonColors_grey_20,\n  grey_30: PhotonColors_grey_30,\n  grey_40: PhotonColors_grey_40,\n  grey_50: PhotonColors_grey_50,\n  grey_60: PhotonColors_grey_60,\n  grey_70: PhotonColors_grey_70,\n  grey_80: PhotonColors_grey_80,\n  grey_90: PhotonColors_grey_90,\n  grey_90_A05: PhotonColors_grey_90_A05,\n  grey_90_A10: PhotonColors_grey_90_A10,\n  grey_90_A20: PhotonColors_grey_90_A20,\n  grey_90_A30: PhotonColors_grey_90_A30,\n  grey_90_A40: PhotonColors_grey_90_A40,\n  grey_90_A50: PhotonColors_grey_90_A50,\n  grey_90_A60: PhotonColors_grey_90_A60,\n  grey_90_A70: PhotonColors_grey_90_A70,\n  grey_90_A80: PhotonColors_grey_90_A80,\n  grey_90_A90: PhotonColors_grey_90_A90,\n  ink_70: PhotonColors_ink_70,\n  ink_80: PhotonColors_ink_80,\n  ink_90: PhotonColors_ink_90,\n  white_100: white_100\n};\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Css.style(/* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Css.style(/* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Css.style(/* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nvar Style$1 = {\n  container: container,\n  text: text,\n  icon: icon,\n  success: success,\n  warning: warning,\n  error: error\n};\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var match = Props.kind;\n  var kind = match !== undefined ? match : /* Generic */3;\n  var match$1 = Props.tooltip;\n  var tooltip = match$1 !== undefined ? match$1 : \"\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4;\n  switch (kind) {\n    case /* Success */0 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case /* Warning */1 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case /* Error */2 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.X, { }),\n          error\n        ];\n        break;\n    case /* Generic */3 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match$4[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match$4[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nvar $$Notification = {\n  Style: Style$1,\n  make: Utils$Notification\n};\n\nfunction hashPath(hashString) {\n  var list = Belt_List.fromArray(hashString.split(\"/\"));\n  var path = list ? list[1] : list;\n  if (path) {\n    return path;\n  } else {\n    return /* :: */[\n            \"\",\n            /* [] */0\n          ];\n  }\n}\n\nfunction Utils$Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var hash = match.hash;\n  var isCurrent = to_ === \"/\" ? hash === \"\" || hash === to_ : hash === to_;\n  var ariaCurrent = isCurrent ? \"true\" : \"false\";\n  return React.createElement(\"a\", {\n              \"aria-current\": ariaCurrent,\n              href: \"#\" + to_,\n              onDragStart: onDragStart\n            }, children);\n}\n\nvar HashLink = {\n  make: Utils$Router$HashLink\n};\n\nvar Router = {\n  push: ReasonReactRouter.push,\n  replace: ReasonReactRouter.replace,\n  watchUrl: ReasonReactRouter.watchUrl,\n  unwatchUrl: ReasonReactRouter.unwatchUrl,\n  dangerouslyGetInitialUrl: ReasonReactRouter.dangerouslyGetInitialUrl,\n  useUrl: ReasonReactRouter.useUrl,\n  hashPath: hashPath,\n  HashLink: HashLink\n};\n\nfunction Utils$TestId(Props) {\n  var children = Props.children;\n  var testId = Props.testId;\n  return React.cloneElement(children, {\n              \"data-testid\": testId\n            });\n}\n\nvar TestId = {\n  make: Utils$TestId\n};\n\nNumeral.registerFormat(\"fraction\", Numeral.Format.make(Numeral.RegExps.make((/(1\\/2)/), (/(1\\/2)/)), (function (value, _format, _roundingFunction) {\n            var whole = Math.floor(value);\n            var remainder = value - whole;\n            var fraction = remainder !== 0.25 ? (\n                remainder !== 0.5 ? (\n                    remainder !== 0.75 ? \"\" : \"¾\"\n                  ) : \"½\"\n              ) : \"¼\";\n            var match = whole === 0.0 && fraction !== \"\";\n            var stringedWhole = match ? \"\" : whole.toString();\n            return stringedWhole + fraction;\n          }), (function (value) {\n            return Number(value);\n          })));\n\nvar Tabs = /* alias */0;\n\nvar VisuallyHidden = /* alias */0;\n\nvar Dialog = /* alias */0;\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nexport {\n  Tabs ,\n  VisuallyHidden ,\n  Dialog ,\n  nanoid ,\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  List ,\n  alert ,\n  WebpackAssets ,\n  Entities ,\n  MakeDateTimeFormat ,\n  DateFormat ,\n  DateTimeFormat ,\n  Style ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  Router ,\n  TestId ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as EloRank from \"elo-rank\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nfunction opposite(color) {\n  if (color) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(color) {\n  if (color) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction createBlankScoreData($staropt$star, id) {\n  var firstRating = $staropt$star !== undefined ? $staropt$star : 0;\n  return {\n          colorScores: /* [] */0,\n          colors: /* [] */0,\n          id: id,\n          isDummy: false,\n          opponentResults: Belt_MapString.empty,\n          ratings: /* [] */0,\n          firstRating: firstRating,\n          results: /* [] */0,\n          resultsNoByes: /* [] */0\n        };\n}\n\nfunction isNotDummy(scores, oppId) {\n  var match = Belt_MapString.get(scores, oppId);\n  if (match !== undefined) {\n    return !match.isDummy;\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.results);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Belt_MapString.reduce(match.opponentResults, /* [] */0, (function (acc, oppId, param) {\n                  if (isNotDummy(scores, oppId)) {\n                    return /* :: */[\n                            getPlayerScore(scores, oppId),\n                            acc\n                          ];\n                  } else {\n                    return acc;\n                  }\n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  return Belt_Option.mapWithDefault(Belt_List.tail(Belt_Option.mapWithDefault(Belt_List.tail(Belt_List.sort(getOpponentScores(scores, id), Caml_primitive.caml_float_compare)), /* [] */0, Belt_List.reverse)), 0.0, Utils$Coronate.List.sumF);\n}\n\nfunction getSolkoffScore(scores, id) {\n  return Utils$Coronate.List.sumF(getOpponentScores(scores, id));\n}\n\nfunction runningReducer(acc, score) {\n  if (acc) {\n    var last = acc[0];\n    return /* :: */[\n            last + score,\n            /* :: */[\n              last,\n              acc[1]\n            ]\n          ];\n  } else {\n    return /* :: */[\n            score,\n            /* [] */0\n          ];\n  }\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.reduce(match.resultsNoByes, /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.map(Belt_MapString.reduce(match.opponentResults, /* [] */0, (function (acc, key, param) {\n                          if (isNotDummy(scores, key)) {\n                            return /* :: */[\n                                    key,\n                                    acc\n                                  ];\n                          } else {\n                            return acc;\n                          }\n                        })), (function (param) {\n                      return getCumulativeScore(scores, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.colorScores);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction mapTieBreak(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return getMedianScore;\n    case /* Solkoff */1 :\n        return getSolkoffScore;\n    case /* Cumulative */2 :\n        return getCumulativeScore;\n    case /* CumulativeOfOpposition */3 :\n        return getCumulativeOfOpponentScore;\n    case /* MostBlack */4 :\n        return getColorBalanceScore;\n    \n  }\n}\n\nfunction standingsSorter(tieBreaks, a, b) {\n  var x = Caml_primitive.caml_float_compare(b.score, a.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    var _tieBreaks = tieBreaks;\n    while(true) {\n      var tieBreaks$1 = _tieBreaks;\n      if (tieBreaks$1) {\n        var rest = tieBreaks$1[1];\n        var tieBreak = tieBreaks$1[0];\n        var getTieBreak = (function(tieBreak){\n        return function getTieBreak(__x) {\n          return Belt_List.getAssoc(__x, tieBreak, (function (prim, prim$1) {\n                        return prim === prim$1;\n                      }));\n        }\n        }(tieBreak));\n        var match = getTieBreak(a.tieBreaks);\n        var match$1 = getTieBreak(b.tieBreaks);\n        if (match !== undefined) {\n          if (match$1 !== undefined) {\n            var x$1 = Caml_primitive.caml_float_compare(match$1, match);\n            if (x$1 !== 0) {\n              return x$1;\n            } else {\n              _tieBreaks = rest;\n              continue ;\n            }\n          } else {\n            _tieBreaks = rest;\n            continue ;\n          }\n        } else {\n          _tieBreaks = rest;\n          continue ;\n        }\n      } else {\n        return 0;\n      }\n    };\n  }\n}\n\nfunction createStandingList(scores, methods) {\n  var funcList = Belt_List.map(Belt_List.fromArray(methods), (function (tbType) {\n          return /* tuple */[\n                  tbType,\n                  mapTieBreak(tbType)\n                ];\n        }));\n  var partial_arg = Belt_List.fromArray(methods);\n  return Belt_List.sort(Belt_List.reverse(Belt_MapString.reduce(scores, /* [] */0, (function (acc, id, data) {\n                        return /* :: */[\n                                {\n                                  id: id,\n                                  score: Utils$Coronate.List.sumF(data.results),\n                                  tieBreaks: Belt_List.map(funcList, (function (param) {\n                                          return /* tuple */[\n                                                  param[0],\n                                                  Curry._2(param[1], scores, id)\n                                                ];\n                                        }))\n                                },\n                                acc\n                              ];\n                      }))), (function (param, param$1) {\n                return standingsSorter(partial_arg, param, param$1);\n              }));\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  if (standing1.score !== standing2.score) {\n    return false;\n  } else {\n    var comparisons = Belt_List.reduce(standing1.tieBreaks, /* [] */0, (function (acc, param) {\n            var match = Belt_List.getAssoc(standing2.tieBreaks, param[0], (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n            if (match !== undefined) {\n              return /* :: */[\n                      param[1] !== match,\n                      acc\n                    ];\n            } else {\n              return acc;\n            }\n          }));\n    return !Belt_List.has(comparisons, true, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  }\n}\n\nfunction createStandingTree(standingList) {\n  return Belt_List.reduce(standingList, /* [] */0, (function (acc, standing) {\n                if (acc) {\n                  var lastRank = acc[0];\n                  if (lastRank) {\n                    var pastRanks = acc[1];\n                    if (areScoresEqual(lastRank[0], standing)) {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                lastRank\n                              ],\n                              pastRanks\n                            ];\n                    } else {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                /* [] */0\n                              ],\n                              /* :: */[\n                                lastRank,\n                                pastRanks\n                              ]\n                            ];\n                    }\n                  } else {\n                    return /* :: */[\n                            /* :: */[\n                              standing,\n                              /* [] */0\n                            ],\n                            acc\n                          ];\n                  }\n                } else {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          /* [] */0\n                        ];\n                }\n              }));\n}\n\nfunction getKFactor(matchCount) {\n  var match = matchCount > 0;\n  var ne = match ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  var match = rating > 100;\n  if (match) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(param, param$1, param$2) {\n  var blackRating = param[1];\n  var whiteRating = param[0];\n  var whiteElo = new EloRank.default(getKFactor(param$1[0]));\n  var blackElo = new EloRank.default(getKFactor(param$1[1]));\n  var whiteExpected = whiteElo.getExpected(whiteRating, blackRating);\n  var blackExpected = blackElo.getExpected(blackRating, whiteRating);\n  return /* tuple */[\n          keepAboveFloor(whiteElo.updateRating(whiteExpected, param$2[0], whiteRating)),\n          keepAboveFloor(blackElo.updateRating(blackExpected, param$2[1], blackRating))\n        ];\n}\n\nvar Ratings = {\n  getKFactor: getKFactor,\n  floor: 100,\n  keepAboveFloor: keepAboveFloor,\n  EloRank: /* alias */0,\n  calcNewRatings: calcNewRatings\n};\n\nexport {\n  Color ,\n  createBlankScoreData ,\n  isNotDummy ,\n  getPlayerScore ,\n  getOpponentScores ,\n  getMedianScore ,\n  getSolkoffScore ,\n  runningReducer ,\n  getCumulativeScore ,\n  getCumulativeOfOpponentScore ,\n  getColorBalanceScore ,\n  mapTieBreak ,\n  standingsSorter ,\n  createStandingList ,\n  areScoresEqual ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* elo-rank Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nfunction toFloat(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(json) {\n  if (json !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction cmp(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  var w = $$String.compare(a, c);\n  var x = $$String.compare(b, d);\n  var y = $$String.compare(a, d);\n  var z = $$String.compare(b, c);\n  switch (w) {\n    case -1 :\n        if (x === 1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return -1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return -1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    case 0 :\n        break;\n    case 1 :\n        if (x === -1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return 1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return 1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    default:\n      \n  }\n  return ((w + x | 0) + y | 0) + z | 0;\n}\n\nvar T = Belt_Id.MakeComparable({\n      cmp: cmp\n    });\n\nvar empty = Belt_Set.make(T);\n\nfunction fromArray(param) {\n  return Belt_Set.fromArray(param, T);\n}\n\nfunction decode$1(json) {\n  return Belt_Set.fromArray(Json_decode.array((function (param) {\n                    return Json_decode.pair(Json_decode.string, Json_decode.string, param);\n                  }), json), T);\n}\n\nfunction encode$1(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair((function (prim) {\n                              return prim;\n                            }), (function (prim) {\n                              return prim;\n                            }), param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var match = Belt_MapString.get(acc, id1);\n  var newList1 = match !== undefined ? /* :: */[\n      id2,\n      match\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var match$1 = Belt_MapString.get(acc, id2);\n  var newList2 = match$1 !== undefined ? /* :: */[\n      id1,\n      match$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_MapString.set(Belt_MapString.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction toMap(__x) {\n  return Belt_Set.reduce(__x, Belt_MapString.empty, toMapReducer);\n}\n\nvar AvoidPairs = {\n  T: T,\n  empty: empty,\n  fromArray: fromArray,\n  decode: decode$1,\n  encode: encode$1,\n  toMapReducer: toMapReducer,\n  toMap: toMap\n};\n\nfunction decode$2(json) {\n  return {\n          avoidPairs: Json_decode.field(\"avoidPairs\", decode$1, json),\n          byeValue: Json_decode.field(\"byeValue\", decode, json),\n          lastBackup: Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        };\n}\n\nfunction encode$2(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"avoidPairs\",\n                encode$1(data.avoidPairs)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"byeValue\",\n                  data.byeValue ? 0.5 : 1.0\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastBackup\",\n                    Json_encode.date(data.lastBackup)\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nvar default_lastBackup = new Date(0.0);\n\nvar $$default = {\n  avoidPairs: empty,\n  byeValue: /* Full */0,\n  lastBackup: default_lastBackup\n};\n\nexport {\n  ByeValue ,\n  AvoidPairs ,\n  decode$2 as decode,\n  encode$2 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* T Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          firstName: Json_decode.field(\"firstName\", Json_decode.string, json),\n          id: Json_decode.field(\"id\", Json_decode.string, json),\n          lastName: Json_decode.field(\"lastName\", Json_decode.string, json),\n          matchCount: Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          rating: Json_decode.field(\"rating\", Json_decode.$$int, json),\n          type_: Json_decode.field(\"type_\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"firstName\",\n                data.firstName\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"id\",\n                  data.id\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastName\",\n                    data.lastName\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"matchCount\",\n                      data.matchCount\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"rating\",\n                        data.rating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"type_\",\n                          toString(data.type_)\n                        ],\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar dummy_id = \"________DUMMY________\";\n\nfunction isDummyId(playerId) {\n  return playerId === dummy_id;\n}\n\nvar dummyPlayer = {\n  firstName: \"Bye\",\n  id: dummy_id,\n  lastName: \"Player\",\n  matchCount: 0,\n  rating: 0,\n  type_: /* Dummy */1\n};\n\nfunction makeMissingPlayer(id) {\n  return {\n          firstName: \"Anonymous\",\n          id: id,\n          lastName: \"Player\",\n          matchCount: 0,\n          rating: 0,\n          type_: /* Missing */2\n        };\n}\n\nfunction getPlayerMaybe(playerMap, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    return Belt_MapString.getWithDefault(playerMap, id, makeMissingPlayer(id));\n  }\n}\n\nexport {\n  Type ,\n  decode$1 as decode,\n  encode$1 as encode,\n  dummy_id ,\n  isDummyId ,\n  dummyPlayer ,\n  makeMissingPlayer ,\n  getPlayerMaybe ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case /* SetIsDescending */0 :\n          newState = {\n            isDescending: action[0],\n            column: state.column,\n            table: state.table\n          };\n          break;\n      case /* SetColumn */1 :\n          newState = {\n            isDescending: state.isDescending,\n            column: action[0],\n            table: state.table\n          };\n          break;\n      case /* SetTable */2 :\n          newState = {\n            isDescending: state.isDescending,\n            column: state.column,\n            table: action[0]\n          };\n          break;\n      \n    }\n  }\n  var match = newState.isDescending;\n  var direction = match ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var match$1 = newState.column;\n  var sortFunc;\n  switch (match$1.tag | 0) {\n    case /* GetString */0 :\n        var func = match$1[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_string_compare, (function (str) {\n                return Curry._1(func, str).toLowerCase();\n              }));\n        break;\n    case /* GetInt */1 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_int_compare, match$1[0]);\n        break;\n    case /* GetFloat */2 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, match$1[0]);\n        break;\n    case /* GetDate */3 :\n        var func$1 = match$1[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, (function (date) {\n                return Curry._1(func$1, date).getTime();\n              }));\n        break;\n    \n  }\n  var table = Belt_SortArray.stableSortBy(newState.table, sortFunc);\n  return {\n          isDescending: newState.isDescending,\n          column: newState.column,\n          table: table\n        };\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = {\n    isDescending: isDescending,\n    column: column,\n    table: table\n  };\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          return ;\n        }), ([]));\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var match = data.column === sortColumn;\n  var chevronStyle = match ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  var match$1 = data.isDescending;\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  var match = data.column === sortColumn;\n                  if (match) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data.isDescending]));\n                  } else {\n                    return Curry._1(dispatch, /* SetColumn */Block.__(1, [sortColumn]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, match$1 ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), /* array */[isLoaded]);\n  return /* () */0;\n}\n\nfunction useScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating, param) {\n  var match = Belt_MapString.get(scoreData, player.id);\n  var match$1 = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, player.id);\n  var opponentResults = match$1.opponentResults;\n  var hasBye = Belt_MapString.has(opponentResults, Data_Player$Coronate.dummy_id);\n  var x = Utils$Coronate.List.sumF(match$1.colorScores);\n  var colorBalance = x < 0.0 ? \"White +\" + Math.abs(x).toString() : (\n      x > 0.0 ? \"Black +\" + x.toString() : \"Even\"\n    );\n  var avoidMap = Belt_Option.mapWithDefault(avoidPairs, Belt_MapString.empty, Data_Config$Coronate.AvoidPairs.toMap);\n  var match$2 = Belt_MapString.get(avoidMap, player.id);\n  var avoidList = match$2 !== undefined ? match$2 : /* [] */0;\n  var score = Utils$Coronate.List.sumF(match$1.results);\n  var opponentResults$1 = Belt_Array.map(Belt_MapString.toArray(opponentResults), (function (param) {\n          var result = param[1];\n          var opId = param[0];\n          return React.createElement(\"li\", {\n                      key: opId\n                    }, $$String.concat(\" \", /* :: */[\n                          Curry._1(getPlayer, opId).firstName,\n                          /* :: */[\n                            Curry._1(getPlayer, opId).lastName,\n                            /* :: */[\n                              \"-\",\n                              /* :: */[\n                                result !== 0.0 ? (\n                                    result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                  ) : \"Lost\",\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]));\n        }));\n  var avoidListHtml = Utils$Coronate.List.toReactArrayReverse(avoidList, (function (pId) {\n          var match = Belt_MapString.get(players, pId);\n          if (match !== undefined) {\n            var match$1 = match;\n            return React.createElement(\"li\", {\n                        key: pId\n                      }, match$1.firstName + (\" \" + match$1.lastName));\n          } else {\n            return null;\n          }\n        }));\n  var rating = React.createElement(React.Fragment, undefined, origRating.toString(), newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n  return {\n          player: player,\n          hasBye: hasBye,\n          colorBalance: colorBalance,\n          score: score,\n          rating: rating,\n          opponentResults: opponentResults$1,\n          avoidListHtml: avoidListHtml\n        };\n}\n\nexport {\n  sortedTableReducer ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  useScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as EdmondsBlossom from \"edmonds-blossom\";\n\nfunction priority(value, condition) {\n  if (condition) {\n    return value;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction divisiblePriority(dividend, divisor) {\n  return dividend / divisor;\n}\n\nfunction avoidMeetingTwice(param) {\n  if (param) {\n    return 32.0;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction sameScores(param) {\n  return 16.0 / param;\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nfunction differentHalf(isDiffHalf) {\n  if (isDiffHalf) {\n    return halfPosition;\n  } else {\n    return sameHalfPriority;\n  }\n}\n\nfunction differentDueColor(param) {\n  if (param) {\n    return 4.0;\n  } else {\n    return 0.0;\n  }\n}\n\nvar maxPriority = Utils$Coronate.List.sumF(/* :: */[\n      halfPosition(1.0),\n      /* :: */[\n        4.0,\n        /* :: */[\n          16.0 / 1.0,\n          /* :: */[\n            32.0,\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1.id === player2.id) {\n    return 0.0;\n  } else {\n    var metBefore = Belt_List.has(player1.opponents, player2.id, (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var mustAvoid = Belt_List.has(player1.avoidIds, player2.id, (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var match = player1.colors;\n    var match$1 = player2.colors;\n    var isDiffDueColor = match && match$1 ? match[0] !== match$1[0] : true;\n    var scoreDiff = Math.abs(player1.score - player2.score) + 1.0;\n    var halfDiff = Pervasives.abs(player1.halfPos - player2.halfPos | 0) + 1 | 0;\n    var isDiffHalf = player1.isUpperHalf !== player2.isUpperHalf && player1.score === player2.score;\n    return Utils$Coronate.List.sumF(/* :: */[\n                isDiffDueColor ? 4.0 : 0.0,\n                /* :: */[\n                  16.0 / scoreDiff,\n                  /* :: */[\n                    (\n                        isDiffHalf ? halfPosition : sameHalfPriority\n                      )(halfDiff),\n                    /* :: */[\n                      !metBefore && !mustAvoid ? 32.0 : 0.0,\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]);\n  }\n}\n\nfunction descendingScore(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_float_compare, (function (x) {\n                return x.score;\n              }), param, param$1);\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_int_compare, (function (x) {\n                return x.rating;\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return /* tuple */[\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_MapString.valuesToArray(data);\n  return Belt_MapString.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataList, (function (param) {\n                                return param.score === playerData.score;\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return x === playerData;\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? /* tuple */[\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? /* tuple */[\n                        match$2,\n                        false\n                      ] : /* tuple */[\n                        0,\n                        false\n                      ]\n                  );\n                return {\n                        id: playerData.id,\n                        avoidIds: playerData.avoidIds,\n                        colorScores: playerData.colorScores,\n                        colors: playerData.colors,\n                        halfPos: match$3[0],\n                        isUpperHalf: match$3[1],\n                        opponents: playerData.opponents,\n                        rating: playerData.rating,\n                        score: playerData.score\n                      };\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1.score, data2.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1.rating, data2.rating);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p.opponents, dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  if (Belt_MapString.size(data) % 2 === 0) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  } else {\n    var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n    var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n            return p.id;\n          }));\n    var hasntHadByeFn = function (id) {\n      return Belt_List.has(playerIdsWithoutByes, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n    };\n    var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n    var dataForNextBye;\n    if (nextByeSignups) {\n      var match = Belt_MapString.get(data, nextByeSignups[0]);\n      dataForNextBye = match !== undefined ? match : Belt_List.getExn(dataList, 0);\n    } else {\n      dataForNextBye = dataList ? dataList[0] : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), sortByScoreThenRating), 0);\n    }\n    var dataWithoutBye = Belt_MapString.remove(data, dataForNextBye.id);\n    return /* tuple */[\n            dataWithoutBye,\n            dataForNextBye\n          ];\n  }\n}\n\nfunction assignColorsForPair(pair) {\n  var player2 = pair[1];\n  var player1 = pair[0];\n  var match = Utils$Coronate.List.sumF(player1.colorScores) < Utils$Coronate.List.sumF(player2.colorScores);\n  if (match) {\n    return /* tuple */[\n            player2.id,\n            player1.id\n          ];\n  } else {\n    return /* tuple */[\n            player1.id,\n            player2.id\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0].score + param[1].score;\n}\n\nfunction netRating(param) {\n  return param[0].rating + param[1].rating | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairPlayers(pairData) {\n  var playerIdArray = Belt_MapString.keysToArray(pairData);\n  var playerArray = Belt_MapString.valuesToArray(pairData);\n  var pairIdealReducer = function (accArr, player1, index) {\n    var playerMatches = Belt_Array.map(Belt_Array.sliceToEnd(playerArray, index + 1 | 0), (function (player2) {\n            return /* tuple */[\n                    playerIdArray.indexOf(player1.id),\n                    playerIdArray.indexOf(player2.id),\n                    calcPairIdeal(player1, player2)\n                  ];\n          }));\n    return Belt_Array.concat(accArr, playerMatches);\n  };\n  var blossom2Pairs = function (acc, p1Index, p2Index) {\n    var p1Id = Belt_Array.get(playerIdArray, p1Index);\n    var p2Id = Belt_Array.get(playerIdArray, p2Index);\n    if (p1Id !== undefined && p2Id !== undefined) {\n      var p1 = Belt_MapString.getExn(pairData, p1Id);\n      var p2 = Belt_MapString.getExn(pairData, p2Id);\n      var matched = Belt_List.map(acc, (function (param) {\n              return param[0];\n            }));\n      var matchedHasId = function (__x) {\n        return Belt_List.has(matched, __x, (function (prim, prim$1) {\n                      return prim === prim$1;\n                    }));\n      };\n      if (!matchedHasId(p1) && !matchedHasId(p2)) {\n        return /* :: */[\n                /* tuple */[\n                  p1,\n                  p2\n                ],\n                acc\n              ];\n      } else {\n        return acc;\n      }\n    } else {\n      return acc;\n    }\n  };\n  return Belt_List.map(Belt_List.sort(Belt_Array.reduceWithIndex(EdmondsBlossom.default(Belt_Array.reduceWithIndex(playerArray, /* array */[], pairIdealReducer)), /* [] */0, blossom2Pairs), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  priority ,\n  divisiblePriority ,\n  avoidMeetingTwice ,\n  sameScores ,\n  halfPosition ,\n  sameHalfPriority ,\n  differentHalf ,\n  differentDueColor ,\n  maxPriority ,\n  calcPairIdeal ,\n  descendingScore ,\n  descendingRating ,\n  splitInHalf ,\n  setUpperHalves ,\n  sortByScoreThenRating ,\n  setByePlayer ,\n  assignColorsForPair ,\n  netScore ,\n  netRating ,\n  sortByNetScoreThenRating ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction toFloat(score, color) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        if (color) {\n          return 0.0;\n        } else {\n          return 1.0;\n        }\n    case /* BlackWon */1 :\n        if (color) {\n          return 1.0;\n        } else {\n          return 0.0;\n        }\n    case /* Draw */2 :\n        return 0.5;\n    case /* NotSet */3 :\n        return 0.0;\n    \n  }\n}\n\nfunction toString(score) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(score) {\n  switch (score) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toFloat: toFloat,\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          id: Json_decode.field(\"id\", Json_decode.string, json),\n          whiteId: Json_decode.field(\"whiteId\", Json_decode.string, json),\n          blackId: Json_decode.field(\"blackId\", Json_decode.string, json),\n          whiteNewRating: Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          blackNewRating: Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          whiteOrigRating: Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          blackOrigRating: Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          result: Json_decode.field(\"result\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                data.id\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"whiteId\",\n                  data.whiteId\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"blackId\",\n                    data.blackId\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"whiteNewRating\",\n                      data.whiteNewRating\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"blackNewRating\",\n                        data.blackNewRating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"whiteOrigRating\",\n                          data.whiteOrigRating\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"blackOrigRating\",\n                            data.blackOrigRating\n                          ],\n                          /* :: */[\n                            /* tuple */[\n                              \"result\",\n                              toString(data.result)\n                            ],\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction byeResultForPlayerColor(byeValue, color) {\n  if (byeValue) {\n    return /* Draw */2;\n  } else if (color) {\n    return /* BlackWon */1;\n  } else {\n    return /* WhiteWon */0;\n  }\n}\n\nfunction scoreByeMatch(match_, byeValue) {\n  var match = Data_Player$Coronate.isDummyId(match_.whiteId);\n  var match$1 = Data_Player$Coronate.isDummyId(match_.blackId);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return {\n              id: match_.id,\n              whiteId: match_.whiteId,\n              blackId: match_.blackId,\n              whiteNewRating: match_.whiteNewRating,\n              blackNewRating: match_.blackNewRating,\n              whiteOrigRating: match_.whiteOrigRating,\n              blackOrigRating: match_.blackOrigRating,\n              result: byeResultForPlayerColor(byeValue, /* Black */1)\n            };\n    }\n  } else if (match$1) {\n    return {\n            id: match_.id,\n            whiteId: match_.whiteId,\n            blackId: match_.blackId,\n            whiteNewRating: match_.whiteNewRating,\n            blackNewRating: match_.blackNewRating,\n            whiteOrigRating: match_.whiteOrigRating,\n            blackOrigRating: match_.blackOrigRating,\n            result: byeResultForPlayerColor(byeValue, /* White */0)\n          };\n  } else {\n    return match_;\n  }\n}\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_MapString.keep(pairData, (function (id, param) {\n          return Belt_MapString.has(playerMap, id);\n        }));\n  var match = Pairing$Coronate.setByePlayer(byeQueue, Data_Player$Coronate.dummy_id, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? Belt_List.reverse(Belt_List.add(Belt_List.reverse(pairs), /* tuple */[\n              byePlayerData.id,\n              Data_Player$Coronate.dummy_id\n            ])) : pairs;\n  return Belt_List.map(pairsWithBye, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                return scoreByeMatch({\n                            id: Utils$Coronate.nanoid(/* () */0),\n                            whiteId: whiteId,\n                            blackId: blackId,\n                            whiteNewRating: Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId).rating,\n                            blackNewRating: Data_Player$Coronate.getPlayerMaybe(playerMap, blackId).rating,\n                            whiteOrigRating: Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId).rating,\n                            blackOrigRating: Data_Player$Coronate.getPlayerMaybe(playerMap, blackId).rating,\n                            result: /* NotSet */3\n                          }, byeValue);\n              }));\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch({\n              id: Utils$Coronate.nanoid(/* () */0),\n              whiteId: white.id,\n              blackId: black.id,\n              whiteNewRating: white.rating,\n              blackNewRating: black.rating,\n              whiteOrigRating: white.rating,\n              blackOrigRating: black.rating,\n              result: /* NotSet */3\n            }, byeValue);\n}\n\nfunction swapColors(match_) {\n  var match = match_.result;\n  var result;\n  switch (match) {\n    case /* WhiteWon */0 :\n        result = /* BlackWon */1;\n        break;\n    case /* BlackWon */1 :\n        result = /* WhiteWon */0;\n        break;\n    case /* Draw */2 :\n        result = /* Draw */2;\n        break;\n    case /* NotSet */3 :\n        result = /* NotSet */3;\n        break;\n    \n  }\n  return {\n          id: match_.id,\n          whiteId: match_.blackId,\n          blackId: match_.whiteId,\n          whiteNewRating: match_.blackNewRating,\n          blackNewRating: match_.whiteNewRating,\n          whiteOrigRating: match_.blackOrigRating,\n          blackOrigRating: match_.whiteOrigRating,\n          result: result\n        };\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  byeResultForPlayerColor ,\n  scoreByeMatch ,\n  autoPair ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nvar empty = /* array */[];\n\nfunction encode(param) {\n  return Json_encode.array(Data_Match$Coronate.encode, param);\n}\n\nfunction decode(param) {\n  return Json_decode.array(Data_Match$Coronate.decode, param);\n}\n\nfunction size(prim) {\n  return prim.length;\n}\n\nfunction getMatched(round) {\n  return Belt_Array.reduce(round, /* array */[], (function (acc, param) {\n                return Belt_Array.concat(acc, /* array */[\n                            param.whiteId,\n                            param.blackId\n                          ]);\n              }));\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return x.id === id;\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return x.id !== id;\n              }));\n}\n\nfunction setMatch(round, match_) {\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round, (function (param) {\n                        return param.id === match_.id;\n                      })), (function (__x) {\n                    return Belt_Array.set(round, __x, match_);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round;\n                }\n                \n              }));\n}\n\nfunction moveMatch(round, matchId, direction) {\n  var match = getMatchById(round, matchId);\n  if (match !== undefined) {\n    var oldIndex = round.indexOf(match);\n    var match$1 = (oldIndex + direction | 0) >= 0;\n    var newIndex = match$1 ? oldIndex + direction | 0 : 0;\n    return Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n  }\n  \n}\n\nvar empty$1 = /* array */[/* array */[]];\n\nfunction encode$1(param) {\n  return Json_encode.array(encode, param);\n}\n\nfunction decode$1(param) {\n  return Json_decode.array(decode, param);\n}\n\nfunction size$1(prim) {\n  return prim.length;\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nvar get = Belt_Array.get;\n\nfunction set(rounds, key, round) {\n  var wasSuccessful = Belt_Array.set(rounds, key, round);\n  if (wasSuccessful) {\n    return rounds;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? Belt_Array.slice(roundList, 0, lastRound + 1 | 0) : roundList;\n  return Belt_Array.reduce(rounds, /* array */[], Belt_Array.concat);\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var match = Belt_Array.get(roundList, roundId);\n  if (match !== undefined && roundId >= (roundList.length - 1 | 0)) {\n    var round = match;\n    var matched = getMatched(round);\n    var unmatched = Belt_MapString.removeMany(players, matched);\n    var results = Belt_Array.map(round, (function (match_) {\n            return match_.result;\n          }));\n    if (Belt_MapString.size(unmatched) === 0) {\n      return !results.includes(/* NotSet */3);\n    } else {\n      return false;\n    }\n  } else {\n    return true;\n  }\n}\n\nfunction addRound(roundList) {\n  return Belt_Array.concat(roundList, /* array */[/* array */[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, newValue) {\n  return Belt_Array.map(rounds, (function (__x) {\n                return Belt_Array.map(__x, (function (__x) {\n                              return Data_Match$Coronate.scoreByeMatch(__x, newValue);\n                            }));\n              }));\n}\n\nfunction Round_fromArray(prim) {\n  return prim;\n}\n\nfunction Round_toArray(prim) {\n  return prim;\n}\n\nvar Round = {\n  fromArray: Round_fromArray,\n  toArray: Round_toArray,\n  empty: empty,\n  encode: encode,\n  decode: decode,\n  size: size,\n  addMatches: Belt_Array.concat,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch,\n  moveMatch: moveMatch\n};\n\nfunction fromArray(prim) {\n  return prim;\n}\n\nfunction toArray(prim) {\n  return prim;\n}\n\nexport {\n  Round ,\n  fromArray ,\n  toArray ,\n  empty$1 as empty,\n  encode$1 as encode,\n  decode$1 as decode,\n  size$1 as size,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar config_avoidPairs = Data_Config$Coronate.AvoidPairs.fromArray(/* array */[\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        \"JamesGordon_1ts9xICT3\"\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        \"HarleyQuinn_-10-02VPH\"\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        \"BruceWayne_lv_ZsUHTU9\"\n      ]\n    ]);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        {\n          firstName: \"Bruce\",\n          id: \"BruceWayne_lv_ZsUHTU9\",\n          lastName: \"Wayne\",\n          matchCount: 9,\n          rating: 1998,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"DickGrayson_1C2rCokHH\",\n        {\n          firstName: \"Dick\",\n          id: \"DickGrayson_1C2rCokHH\",\n          lastName: \"Grayson\",\n          matchCount: 9,\n          rating: 1909,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"AlfredPennyworth_y4dW\",\n        {\n          firstName: \"Alfred\",\n          id: \"AlfredPennyworth_y4dW\",\n          lastName: \"Pennyworth\",\n          matchCount: 9,\n          rating: 1999,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        {\n          firstName: \"Barbara\",\n          id: \"BarbaraGordon_cL6SpI2\",\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1345,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"KateKane_klFW6gDfUOTX\",\n        {\n          firstName: \"Kate\",\n          id: \"KateKane_klFW6gDfUOTX\",\n          lastName: \"Kane\",\n          matchCount: 9,\n          rating: 1539,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"SelinaKyle_rJBH-45Xoy\",\n        {\n          firstName: \"Selina\",\n          id: \"SelinaKyle_rJBH-45Xoy\",\n          lastName: \"Kyle\",\n          matchCount: 9,\n          rating: 1495,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"JasonTodd_fc9CeOa-Luw\",\n        {\n          firstName: \"Jason\",\n          id: \"JasonTodd_fc9CeOa-Luw\",\n          lastName: \"Todd\",\n          matchCount: 7,\n          rating: 1101,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"JamesGordon_1ts9xICT3\",\n        {\n          firstName: \"James\",\n          id: \"JamesGordon_1ts9xICT3\",\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1167,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        {\n          firstName: \"Helena\",\n          id: \"HelenaWayne_fE6O0DJcE\",\n          lastName: \"Wayne\",\n          matchCount: 7,\n          rating: 1087,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        {\n          firstName: \"Joker\",\n          id: \"Joker_v0z2416fpAZ9o2c\",\n          lastName: \"\",\n          matchCount: 1,\n          rating: 1538,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"HarleyQuinn_-10-02VPH\",\n        {\n          firstName: \"Harley\",\n          id: \"HarleyQuinn_-10-02VPH\",\n          lastName: \"Quinn\",\n          matchCount: 1,\n          rating: 1648,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"VictorFries_cWaQoW014\",\n        {\n          firstName: \"Victor\",\n          id: \"VictorFries_cWaQoW014\",\n          lastName: \"Fries\",\n          matchCount: 1,\n          rating: 862,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"OswaldCobblepot_lfCro\",\n        {\n          firstName: \"Oswald\",\n          id: \"OswaldCobblepot_lfCro\",\n          lastName: \"Cobblepot\",\n          matchCount: 1,\n          rating: 1812,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"RasAlGhul_k9n8k852bHr\",\n        {\n          firstName: \"Ra's\",\n          id: \"RasAlGhul_k9n8k852bHr\",\n          lastName: \"al Ghul\",\n          matchCount: 1,\n          rating: 1404,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"PamelaIsley_vH5vD8uPB\",\n        {\n          firstName: \"Pamela\",\n          id: \"PamelaIsley_vH5vD8uPB\",\n          lastName: \"Isley\",\n          matchCount: 1,\n          rating: 965,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"EdwardNigma_j80JfWOZq\",\n        {\n          firstName: \"Edward\",\n          id: \"EdwardNigma_j80JfWOZq\",\n          lastName: \"Nigma\",\n          matchCount: 1,\n          rating: 948,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"JonathanCrane_R4Q8tVW\",\n        {\n          firstName: \"Jonathan\",\n          id: \"JonathanCrane_R4Q8tVW\",\n          lastName: \"Crane\",\n          matchCount: 1,\n          rating: 899,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"HarveyDent_0eYIiP_Ij5\",\n        {\n          firstName: \"Harvey\",\n          id: \"HarveyDent_0eYIiP_Ij5\",\n          lastName: \"Dent\",\n          matchCount: 1,\n          rating: 1649,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"HugoStrange_az43f9mtS\",\n        {\n          firstName: \"Hugo\",\n          id: \"HugoStrange_az43f9mtS\",\n          lastName: \"Strange\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"CaouTNel9k70jUJ0h6SYM\",\n        {\n          id: \"CaouTNel9k70jUJ0h6SYM\",\n          name: \"Wayne Manor Open\",\n          date: new Date(\"2019-05-22T12:14:47.670Z\"),\n          playerIds: /* :: */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            /* :: */[\n              \"DickGrayson_1C2rCokHH\",\n              /* :: */[\n                \"AlfredPennyworth_y4dW\",\n                /* :: */[\n                  \"BarbaraGordon_cL6SpI2\",\n                  /* :: */[\n                    \"KateKane_klFW6gDfUOTX\",\n                    /* :: */[\n                      \"SelinaKyle_rJBH-45Xoy\",\n                      /* :: */[\n                        \"JasonTodd_fc9CeOa-Luw\",\n                        /* :: */[\n                          \"JamesGordon_1ts9xICT3\",\n                          /* :: */[\n                            \"HelenaWayne_fE6O0DJcE\",\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"FUASEeyES6ez_ROoT6qmU\",\n                        whiteId: \"JasonTodd_fc9CeOa-Luw\",\n                        blackId: \"DickGrayson_1C2rCokHH\",\n                        whiteNewRating: 1236,\n                        blackNewRating: 2109,\n                        whiteOrigRating: 1238,\n                        blackOrigRating: 2108,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"gqPyD66QMPF-pup41xsB2\",\n                        whiteId: \"JamesGordon_1ts9xICT3\",\n                        blackId: \"AlfredPennyworth_y4dW\",\n                        whiteNewRating: 1049,\n                        blackNewRating: 2260,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 2260,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"KpS1lQSzsQWQ3VVWJyA2P\",\n                        whiteId: \"KateKane_klFW6gDfUOTX\",\n                        blackId: \"BarbaraGordon_cL6SpI2\",\n                        whiteNewRating: 1553,\n                        blackNewRating: 1722,\n                        whiteOrigRating: 1527,\n                        blackOrigRating: 1755,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: \"OgFuy-wq8mz378EWat46u\",\n                        whiteId: \"SelinaKyle_rJBH-45Xoy\",\n                        blackId: \"BruceWayne_lv_ZsUHTU9\",\n                        whiteNewRating: 1278,\n                        blackNewRating: 1887,\n                        whiteOrigRating: 1284,\n                        blackOrigRating: 1881,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"f8Ps3GUmd0ZRsBBY8rZOp\",\n                        whiteId: \"HelenaWayne_fE6O0DJcE\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 831,\n                        blackNewRating: 0,\n                        whiteOrigRating: 831,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"6seKrw7ehbhL766g6L2PF\",\n                        whiteId: \"DickGrayson_1C2rCokHH\",\n                        blackId: \"KateKane_klFW6gDfUOTX\",\n                        whiteNewRating: 2122,\n                        blackNewRating: 1672,\n                        whiteOrigRating: 2109,\n                        blackOrigRating: 1685,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"TCSjz48ZXqjamtYUFNg0B\",\n                        whiteId: \"BruceWayne_lv_ZsUHTU9\",\n                        blackId: \"HelenaWayne_fE6O0DJcE\",\n                        whiteNewRating: 1887,\n                        blackNewRating: 830,\n                        whiteOrigRating: 1887,\n                        blackOrigRating: 831,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"zF64DEsN8sHydpDDsg37E\",\n                        whiteId: \"AlfredPennyworth_y4dW\",\n                        blackId: \"SelinaKyle_rJBH-45Xoy\",\n                        whiteNewRating: 2101,\n                        blackNewRating: 1437,\n                        whiteOrigRating: 2260,\n                        blackOrigRating: 1278,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"qVGt1EJq9y0MmvFtumM0A\",\n                        whiteId: \"BarbaraGordon_cL6SpI2\",\n                        blackId: \"JasonTodd_fc9CeOa-Luw\",\n                        whiteNewRating: 1574,\n                        blackNewRating: 1207,\n                        whiteOrigRating: 1545,\n                        blackOrigRating: 1236,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"UhfHaRWr_-BtVo22xAuJu\",\n                        whiteId: \"JamesGordon_1ts9xICT3\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 1049,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"odrOOnZJUe0YAwkfUDqUb\",\n                        whiteId: \"AlfredPennyworth_y4dW\",\n                        blackId: \"BruceWayne_lv_ZsUHTU9\",\n                        whiteNewRating: 1998,\n                        blackNewRating: 1990,\n                        whiteOrigRating: 2101,\n                        blackOrigRating: 1887,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"qzCMqUwNIDAcFSAuA5yCm\",\n                        whiteId: \"HelenaWayne_fE6O0DJcE\",\n                        blackId: \"DickGrayson_1C2rCokHH\",\n                        whiteNewRating: 990,\n                        blackNewRating: 2008,\n                        whiteOrigRating: 830,\n                        blackOrigRating: 2122,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"6QgVqdtcJPjfVp3UZ8S9g\",\n                        whiteId: \"SelinaKyle_rJBH-45Xoy\",\n                        blackId: \"BarbaraGordon_cL6SpI2\",\n                        whiteNewRating: 1529,\n                        blackNewRating: 1464,\n                        whiteOrigRating: 1437,\n                        blackOrigRating: 1574,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"as45gODKMLC5-3_UsTyx5\",\n                        whiteId: \"KateKane_klFW6gDfUOTX\",\n                        blackId: \"JamesGordon_1ts9xICT3\",\n                        whiteNewRating: 1542,\n                        blackNewRating: 1244,\n                        whiteOrigRating: 1672,\n                        blackOrigRating: 1049,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"Pc0CWecSfeGNfvBPjyEIj\",\n                        whiteId: \"JasonTodd_fc9CeOa-Luw\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 1207,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"xj0y_Iqkb-g3MDGgmYx2-\",\n                        whiteId: \"BruceWayne_lv_ZsUHTU9\",\n                        blackId: \"KateKane_klFW6gDfUOTX\",\n                        whiteNewRating: 1998,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 1990,\n                        blackOrigRating: 1542,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"HWYWtsyaqUkHRExM6kQrt\",\n                        whiteId: \"DickGrayson_1C2rCokHH\",\n                        blackId: \"JamesGordon_1ts9xICT3\",\n                        whiteNewRating: 2009,\n                        blackNewRating: 1243,\n                        whiteOrigRating: 2008,\n                        blackOrigRating: 1244,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"uAzHZVMC71liQZ-6fWWeD\",\n                        whiteId: \"HelenaWayne_fE6O0DJcE\",\n                        blackId: \"SelinaKyle_rJBH-45Xoy\",\n                        whiteNewRating: 983,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 990,\n                        blackOrigRating: 1529,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"_tCBn9YNIyto-vXpxm7WI\",\n                        whiteId: \"JasonTodd_fc9CeOa-Luw\",\n                        blackId: \"AlfredPennyworth_y4dW\",\n                        whiteNewRating: 1205,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"L7yatE2oVKlV7LOY6-d7Y\",\n                        whiteId: \"BarbaraGordon_cL6SpI2\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 1464,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1464,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      /* tuple */[\n        \"tvAdS4YbSOznrBgrg0ITA\",\n        {\n          id: \"tvAdS4YbSOznrBgrg0ITA\",\n          name: \"The Battle for Gotham City\",\n          date: new Date(\"2019-05-29T12:15:20.593Z\"),\n          playerIds: /* :: */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            /* :: */[\n              \"DickGrayson_1C2rCokHH\",\n              /* :: */[\n                \"AlfredPennyworth_y4dW\",\n                /* :: */[\n                  \"BarbaraGordon_cL6SpI2\",\n                  /* :: */[\n                    \"KateKane_klFW6gDfUOTX\",\n                    /* :: */[\n                      \"SelinaKyle_rJBH-45Xoy\",\n                      /* :: */[\n                        \"JasonTodd_fc9CeOa-Luw\",\n                        /* :: */[\n                          \"JamesGordon_1ts9xICT3\",\n                          /* :: */[\n                            \"HelenaWayne_fE6O0DJcE\",\n                            /* :: */[\n                              \"Joker_v0z2416fpAZ9o2c\",\n                              /* :: */[\n                                \"HarleyQuinn_-10-02VPH\",\n                                /* :: */[\n                                  \"VictorFries_cWaQoW014\",\n                                  /* :: */[\n                                    \"OswaldCobblepot_lfCro\",\n                                    /* :: */[\n                                      \"RasAlGhul_k9n8k852bHr\",\n                                      /* :: */[\n                                        \"PamelaIsley_vH5vD8uPB\",\n                                        /* :: */[\n                                          \"EdwardNigma_j80JfWOZq\",\n                                          /* :: */[\n                                            \"JonathanCrane_R4Q8tVW\",\n                                            /* :: */[\n                                              \"HarveyDent_0eYIiP_Ij5\",\n                                              /* [] */0\n                                            ]\n                                          ]\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"5f8GYcR8V44NYvTN1cZle\",\n                        whiteId: \"EdwardNigma_j80JfWOZq\",\n                        blackId: \"BruceWayne_lv_ZsUHTU9\",\n                        whiteNewRating: 948,\n                        blackNewRating: 1998,\n                        whiteOrigRating: 950,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"GPTct4sL368SryTLFUu8E\",\n                        whiteId: \"JonathanCrane_R4Q8tVW\",\n                        blackId: \"AlfredPennyworth_y4dW\",\n                        whiteNewRating: 899,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 900,\n                        blackOrigRating: 1999,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"AxtoztZ6O19nyrLfZ4YaU\",\n                        whiteId: \"HarveyDent_0eYIiP_Ij5\",\n                        blackId: \"DickGrayson_1C2rCokHH\",\n                        whiteNewRating: 1649,\n                        blackNewRating: 1909,\n                        whiteOrigRating: 850,\n                        blackOrigRating: 2009,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"bUM_tWQsAtPe1gqRzlXd1\",\n                        whiteId: \"RasAlGhul_k9n8k852bHr\",\n                        blackId: \"SelinaKyle_rJBH-45Xoy\",\n                        whiteNewRating: 1404,\n                        blackNewRating: 1495,\n                        whiteOrigRating: 1050,\n                        blackOrigRating: 1534,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: \"bAOVlP-M5xaPk1qofNReb\",\n                        whiteId: \"OswaldCobblepot_lfCro\",\n                        blackId: \"BarbaraGordon_cL6SpI2\",\n                        whiteNewRating: 1812,\n                        blackNewRating: 1345,\n                        whiteOrigRating: 1100,\n                        blackOrigRating: 1464,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"4omlgiGSaE1BmrHdABSym\",\n                        whiteId: \"PamelaIsley_vH5vD8uPB\",\n                        blackId: \"KateKane_klFW6gDfUOTX\",\n                        whiteNewRating: 965,\n                        blackNewRating: 1539,\n                        whiteOrigRating: 1000,\n                        blackOrigRating: 1534,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"ysdEVYS2AyuKyOAwLLpTF\",\n                        whiteId: \"HarleyQuinn_-10-02VPH\",\n                        blackId: \"JamesGordon_1ts9xICT3\",\n                        whiteNewRating: 1648,\n                        blackNewRating: 1167,\n                        whiteOrigRating: 1200,\n                        blackOrigRating: 1242,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"YoJ9WGokAYrmJjfxCCf87\",\n                        whiteId: \"VictorFries_cWaQoW014\",\n                        blackId: \"Joker_v0z2416fpAZ9o2c\",\n                        whiteNewRating: 862,\n                        blackNewRating: 1538,\n                        whiteOrigRating: 1150,\n                        blackOrigRating: 1250,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"Az7SBl3cs7rbwKPBI0IsU\",\n                        whiteId: \"HelenaWayne_fE6O0DJcE\",\n                        blackId: \"JasonTodd_fc9CeOa-Luw\",\n                        whiteNewRating: 1087,\n                        blackNewRating: 1101,\n                        whiteOrigRating: 983,\n                        blackOrigRating: 1205,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\n\nfunction mapTieBreakName(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nfunction tieBreakToString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction tieBreakFromString(json) {\n  switch (json) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nvar encodeTieBreak = tieBreakToString;\n\nfunction decodeTieBreak(json) {\n  return tieBreakFromString(Json_decode.string(json));\n}\n\nfunction decode(json) {\n  var partial_arg_001 = /* :: */[\n    (function (prim) {\n        return prim;\n      }),\n    /* [] */0\n  ];\n  var partial_arg = /* :: */[\n    Json_decode.date,\n    partial_arg_001\n  ];\n  return {\n          id: Json_decode.field(\"id\", Json_decode.string, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          date: Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          playerIds: Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.list(Json_decode.string, param);\n                }), json),\n          byeQueue: Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Json_decode.string, param);\n                }), json),\n          tieBreaks: Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(decodeTieBreak, param);\n                }), json),\n          roundList: Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        };\n}\n\nfunction encode(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                data.id\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"name\",\n                  data.name\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"date\",\n                    Json_encode.date(data.date)\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"playerIds\",\n                      Json_encode.list((function (prim) {\n                              return prim;\n                            }), data.playerIds)\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"byeQueue\",\n                        Json_encode.array((function (prim) {\n                                return prim;\n                              }), data.byeQueue)\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"tieBreaks\",\n                          Json_encode.array(encodeTieBreak, data.tieBreaks)\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data.roundList)\n                          ],\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nexport {\n  mapTieBreakName ,\n  tieBreakToString ,\n  tieBreakFromString ,\n  encodeTieBreak ,\n  decodeTieBreak ,\n  decode ,\n  encode ,\n  \n}\n/* Data_Rounds-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"reason-future/src/Future.bs.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as FutureJs from \"reason-future/src/FutureJs.bs.js\";\nimport * as Localforage from \"localforage\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Record$LocalForage from \"@johnridesabike/bs-localforage/src/Record.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\nimport * as LocalForageJs$LocalForage from \"@johnridesabike/bs-localforage/src/LocalForageJs.bs.js\";\n\nfunction futureFromPromise(__x) {\n  return FutureJs.fromPromise(__x, (function (error) {\n                console.error(error);\n                return String(error);\n              }));\n}\n\nvar func = LocalForageJs$LocalForage.Config.make;\n\nfunction localForageConfig(param) {\n  return Curry._2(func, param, \"Coronate\");\n}\n\nvar configDb = Record$LocalForage.make(Curry._5(localForageConfig(undefined), undefined, \"Options\", undefined, undefined, /* () */0), {\n      $$default: Data_Config$Coronate.$$default,\n      decode: Data_Config$Coronate.decode,\n      encode: Data_Config$Coronate.encode\n    });\n\nvar players = Map$LocalForage.make(Curry._5(localForageConfig(undefined), undefined, \"Players\", undefined, undefined, /* () */0), {\n      decode: Data_Player$Coronate.decode,\n      encode: Data_Player$Coronate.encode\n    });\n\nvar tournaments = Map$LocalForage.make(Curry._5(localForageConfig(undefined), undefined, \"Tournaments\", undefined, undefined, /* () */0), {\n      decode: Data_Tournament$Coronate.decode,\n      encode: Data_Tournament$Coronate.encode\n    });\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  Promise.all(/* tuple */[\n            Record$LocalForage.set(configDb, DemoData$Coronate.config),\n            Map$LocalForage.setItems(players, DemoData$Coronate.players),\n            Map$LocalForage.setItems(tournaments, DemoData$Coronate.tournaments)\n          ]).then((function (param) {\n            ((document.body.style.cursor = \"auto\"));\n            Utils$Coronate.alert(\"Demo data loaded!\");\n            return Promise.resolve(/* () */0);\n          })).catch((function (param) {\n          ((document.body.style.cursor = \"auto\"));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* Del */0 :\n        return Belt_MapString.remove(state, action[0]);\n    case /* Set */1 :\n        return Belt_MapString.set(state, action[0], action[1]);\n    case /* SetAll */2 :\n        return action[0];\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Belt_MapString.empty);\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(isLoaded);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          Future.tapError(Future.tapOk(futureFromPromise(Map$LocalForage.getAllItems(store)), (function (results) {\n                      if (didCancel.contents) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetAll */Block.__(2, [results]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    Localforage.clear();\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Future.tapOk(futureFromPromise(Map$LocalForage.setItems(store, items)), (function (param) {\n                    Future.tapOk(futureFromPromise(Map$LocalForage.getKeys(store)), (function (keys) {\n                            var stateKeys = Belt_MapString.keysToArray(items);\n                            var deleted = keys.filter((function (x) {\n                                    return !stateKeys.includes(x);\n                                  }));\n                            if (deleted.length !== 0) {\n                              Map$LocalForage.removeItems(store, deleted);\n                              return /* () */0;\n                            } else {\n                              return 0;\n                            }\n                          }));\n                    return /* () */0;\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        items,\n        isLoaded\n      ]);\n  return /* tuple */[\n          items,\n          dispatch,\n          isLoaded\n        ];\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* AddAvoidPair */0 :\n        return {\n                avoidPairs: Belt_Set.add(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidPair */1 :\n        return {\n                avoidPairs: Belt_Set.remove(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidSingle */2 :\n        var id = action[0];\n        return {\n                avoidPairs: Belt_Set.reduce(state.avoidPairs, Data_Config$Coronate.AvoidPairs.empty, (function (acc, param) {\n                        var p2 = param[1];\n                        var p1 = param[0];\n                        if (p1 === id || p2 === id) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, /* tuple */[\n                                      p1,\n                                      p2\n                                    ]);\n                        }\n                      })),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetAvoidPairs */3 :\n        return {\n                avoidPairs: action[0],\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetByeValue */4 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: action[0],\n                lastBackup: state.lastBackup\n              };\n    case /* SetState */5 :\n        return action[0];\n    case /* SetLastBackup */6 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: state.byeValue,\n                lastBackup: action[0]\n              };\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          Future.tapError(Future.tapOk(futureFromPromise(Record$LocalForage.get(configDb)), (function (values) {\n                      if (didCancel.contents) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetState */Block.__(5, [values]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    Localforage.clear();\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Record$LocalForage.set(configDb, config);\n          }\n          return ;\n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  futureFromPromise ,\n  localForageConfig ,\n  configDb ,\n  players ,\n  tournaments ,\n  loadDemoDB ,\n  genericDbReducer ,\n  useAllDb ,\n  useAllPlayers ,\n  useAllTournaments ,\n  configReducer ,\n  useConfig ,\n  \n}\n/* configDb Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = { };\n\nvar Alert = { };\n\nvar ArrowDown = { };\n\nvar ArrowLeft = { };\n\nvar ArrowUp = { };\n\nvar Award = { };\n\nvar Check = { };\n\nvar CheckCircle = { };\n\nvar ChevronDown = { };\n\nvar ChevronLeft = { };\n\nvar ChevronRight = { };\n\nvar ChevronUp = { };\n\nvar Circle = { };\n\nvar Clock = { };\n\nvar Download = { };\n\nvar Edit = { };\n\nvar Help = { };\n\nvar Info = { };\n\nvar Layers = { };\n\nvar List = { };\n\nvar Plus = { };\n\nvar Repeat = { };\n\nvar Settings = { };\n\nvar Sidebar = { };\n\nvar Trash = { };\n\nvar Unfullscreen = { };\n\nvar UserMinus = { };\n\nvar UserPlus = { };\n\nvar Users = { };\n\nvar X = { };\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var match = Props.height;\n    var height = match !== undefined ? match : \"24\";\n    var match$1 = Props.width;\n    var width = match$1 !== undefined ? match$1 : \"24\";\n    var match$2 = Props.className;\n    var className = match$2 !== undefined ? match$2 : \"\";\n    var match$3 = Props.style;\n    var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n    var match$4 = Props.ariaLabel;\n    var ariaLabel = match$4 !== undefined ? match$4 : IconData.icon.title + \" Icon\";\n    var match$5 = Props.ariaHidden;\n    var ariaHidden = match$5 !== undefined ? match$5 : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: ReactDOMRe.Style.combine({\n                      fill: \"#\" + IconData.icon.hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData.icon.path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData.icon.title;\n  return {\n          make: Icons$SimpleIcon\n        };\n}\n\nvar IconData = {\n  icon: Reason.default\n};\n\nfunction Icons$SimpleIcon(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData.icon.title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine({\n                    fill: \"#\" + IconData.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData.icon.path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData.icon.title;\n\nvar Reason$1 = {\n  make: Icons$SimpleIcon\n};\n\nvar IconData$1 = {\n  icon: React$1.default\n};\n\nfunction Icons$SimpleIcon$1(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData$1.icon.title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine({\n                    fill: \"#\" + IconData$1.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1.icon.path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1.icon.title;\n\nvar React$2 = {\n  make: Icons$SimpleIcon$1\n};\n\nfunction Icons$Close(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = {\n  make: Icons$Close\n};\n\nfunction Icons$Maximize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = {\n  make: Icons$Maximize\n};\n\nfunction Icons$Minimize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = {\n  make: Icons$Minimize\n};\n\nfunction Icons$Restore(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = {\n  make: Icons$Restore\n};\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Clock ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nvar match = window.require;\n\nvar electron = match !== undefined ? Curry._1(match, \"electron\") : undefined;\n\nfunction ifElectron(fn) {\n  if (electron !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron)));\n  }\n  \n}\n\nvar currentWindow = ifElectron((function (electron) {\n        return electron.remote.getCurrentWindow();\n      }));\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  return /* () */0;\n}\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n    return /* () */0;\n  } else {\n    $$window.maximize();\n    return /* () */0;\n  }\n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (target.className.includes && target.className.includes(\"double-click-control\")) {\n            var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n            var $$window = electron.remote.getCurrentWindow();\n            switch (doubleClickAction) {\n              case \"Maximize\" :\n                  return toggleMaximize($$window);\n              case \"Minimize\" :\n                  $$window.minimize();\n                  return /* () */0;\n              default:\n                return /* () */0;\n            }\n          } else {\n            return 0;\n          }\n        }));\n  return /* () */0;\n}\n\nvar isWin = navigator.appVersion.includes(\"Windows\");\n\nvar isMac = navigator.appVersion.includes(\"Mac\");\n\nvar isElectron = electron !== undefined;\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var os = Props.os;\n  var isThisTheRightOs = os ? isMac : isWin;\n  if (electron !== undefined && isThisTheRightOs) {\n    return Curry._1(children, Caml_option.valFromOption(electron));\n  } else {\n    return null;\n  }\n}\n\nvar IfElectron = {\n  make: Electron$IfElectron\n};\n\nexport {\n  electron ,\n  ifElectron ,\n  currentWindow ,\n  openInBrowser ,\n  toggleMaximize ,\n  macOSDoubleClick ,\n  isWin ,\n  isMac ,\n  isElectron ,\n  IfElectron ,\n  \n}\n/* match Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar EloRank = { };\n\nvar $$FileReader = { };\n\nvar VisuallyHidden = { };\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var match = Props.style;\n  var style = match !== undefined ? Caml_option.valFromOption(match) : { };\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = { };\n\nvar TabList = { };\n\nvar Tab = { };\n\nvar TabPanels = { };\n\nvar TabPanel = { };\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nexport {\n  EloRank ,\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  var match = title.length === 0;\n  if (match) {\n    return global_title;\n  } else {\n    return $$String.concat(\" - \", /* :: */[\n                title,\n                /* :: */[\n                  global_title,\n                  /* [] */0\n                ]\n              ]);\n  }\n}\n\nvar initialWinState = {\n  isBlur: false,\n  isDialogOpen: false,\n  isFullScreen: false,\n  isMaximized: false,\n  isSidebarOpen: true,\n  title: \"\"\n};\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* SetBlur */0 :\n        return {\n                isBlur: action[0],\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetDialog */1 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: action[0],\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetFullScreen */2 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: action[0],\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetMaximized */3 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: action[0],\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetSidebar */4 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: action[0],\n                title: state.title\n              };\n    case /* SetTitle */5 :\n        var title = action[0];\n        document.title = formatTitle(title);\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: title\n              };\n    \n  }\n}\n\nfunction Window$About(Props) {\n  var match = process.env.REACT_APP_VERSION;\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), match !== undefined ? React.createElement(\"p\", undefined, \"Version \" + match) : null, React.createElement(\"p\", undefined, $$String.concat(\"\", /* :: */[\n                          \"Copyright \",\n                          /* :: */[\n                            Utils$Coronate.Entities.copy,\n                            /* :: */[\n                              \" 2019 John\",\n                              /* :: */[\n                                Utils$Coronate.Entities.nbsp,\n                                /* :: */[\n                                  \"Jackson\",\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ])), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar About = {\n  make: Window$About\n};\n\nvar container = Css.style(/* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.backgroundColor(/* transparent */582626130),\n                  /* :: */[\n                    Css.width(/* `px */[\n                          25096,\n                          46\n                        ]),\n                    /* :: */[\n                      Css.minWidth(/* `px */[\n                            25096,\n                            46\n                          ]),\n                      /* :: */[\n                        Css.focus(/* :: */[\n                              Css.borderStyle(/* none */-922086728),\n                              /* :: */[\n                                Css.boxShadow(/* none */-922086728),\n                                /* :: */[\n                                  Css.outlineStyle(/* none */-922086728),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]),\n                        /* :: */[\n                          Css.selector(\" svg\", /* :: */[\n                                Css.display(/* inline */423610969),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Css.style(/* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Css.style(/* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.red_50),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  container: container,\n  button: button,\n  svg: svg,\n  close: close\n};\n\nfunction Window$MSWindowsControls(Props) {\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost1\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Minimize.make, {\n                      className: svg\n                    })), isFullScreen ? React.createElement(\"button\", {\n                    className: button,\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        return /* () */0;\n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                isMaximized ? React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Restore.make, {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Maximize.make, {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Close.make, {\n                      className: svg\n                    })));\n}\n\nvar MSWindowsControls = {\n  Style: Style,\n  make: Window$MSWindowsControls\n};\n\nvar button$1 = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* [] */0\n    ]);\n\nvar Style$1 = {\n  button: button$1\n};\n\nvar isElectronMac = Electron$Coronate.isMac && Electron$Coronate.isElectron;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var isBlur = Props.isBlur;\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var isSidebarOpen = Props.isSidebarOpen;\n  var title = Props.title;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !isFullScreen),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron.make, {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets.logo,\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!isSidebarOpen]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", isBlur),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(title)), React.createElement(Electron$Coronate.IfElectron.make, {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  isFullScreen: isFullScreen,\n                                  isMaximized: isMaximized,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nvar TitleBar = {\n  Style: Style$1,\n  isElectronMac: isElectronMac,\n  toolbarClasses: toolbarClasses,\n  make: Window$TitleBar\n};\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, initialWinState);\n  var state = match[0];\n  var isSidebarOpen = state.isSidebarOpen;\n  var isBlur = state.isBlur;\n  var dispatch = match[1];\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron((function (electron) {\n                        var win = electron.remote.getCurrentWindow();\n                        var unregisterListeners = function (param) {\n                          win.removeAllListeners(\"enter-full-screen\");\n                          win.removeAllListeners(\"leave-full-screen\");\n                          win.removeAllListeners(\"blur\");\n                          win.removeAllListeners(\"focus\");\n                          win.removeAllListeners(\"maximize\");\n                          win.removeAllListeners(\"unmaximize\");\n                          return /* () */0;\n                        };\n                        unregisterListeners(/* () */0);\n                        win.on(\"enter-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                              }));\n                        win.on(\"leave-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                              }));\n                        win.on(\"maximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                              }));\n                        win.on(\"unmaximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                              }));\n                        win.on(\"blur\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                              }));\n                        win.on(\"focus\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                              }));\n                        Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                        Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                        Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                        return unregisterListeners;\n                      }));\n        }), ([]));\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", isSidebarOpen),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !isSidebarOpen),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", isBlur),\n                          /* :: */[\n                            Cn.ifTrue(\"isWindows\", Electron$Coronate.isWin),\n                            /* :: */[\n                              Cn.ifTrue(\"isMacOS\", Electron$Coronate.isMac),\n                              /* :: */[\n                                Cn.ifTrue(\"isElectron\", Electron$Coronate.isElectron),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  isBlur: isBlur,\n                  isFullScreen: state.isFullScreen,\n                  isMaximized: state.isMaximized,\n                  isSidebarOpen: isSidebarOpen,\n                  title: state.title,\n                  dispatch: dispatch\n                }), Curry._1(children, dispatch), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state.isDialogOpen,\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/tourneys\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/players\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/options\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/timecalc\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Clock, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nvar DefaultSidebar = {\n  make: Window$DefaultSidebar\n};\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var match = Props.sidebarFunc;\n  var sidebarFunc = match !== undefined ? match : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, /* () */0)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, /* () */0)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make = $$Window;\n\nexport {\n  global_title ,\n  formatTitle ,\n  initialWinState ,\n  windowReducer ,\n  About ,\n  MSWindowsControls ,\n  TitleBar ,\n  make ,\n  noDraggy ,\n  DefaultSidebar ,\n  sidebarCallback ,\n  Body ,\n  \n}\n/* container Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors.grey_10),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Css.style(/* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Css.style(/* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Css.style(/* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors.ink_80),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_20),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.teal_50),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors.teal_60),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Css.style(/* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Css.style(/* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Css.style(/* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = {\n  container: container,\n  hint: hint,\n  hintLi: hintLi,\n  footer: footer,\n  footerLink: footerLink,\n  title: title,\n  titleIcon: titleIcon,\n  titleText: titleText,\n  subtitle: subtitle\n};\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: container\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(/* () */0);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets.logo,\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities.copy + \" 2019 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason.make, { }), \" \", React.createElement(Icons$Coronate.React.make, { }))))))\n            });\n}\n\nvar Splash = {\n  Style: Style,\n  make: Pages$Splash\n};\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Pervasives.infinity || num === Pervasives.neg_infinity) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateFloat(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Float.fromString($$event.currentTarget.value), minimum);\n  var match = value < minimum;\n  var safeValue = match ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var match = value < minimum;\n  var safeValue = match ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState((function () {\n          return 2;\n        }));\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState((function () {\n          return 5;\n        }));\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState((function () {\n          return 4.0;\n        }));\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                            style: {\n                              margin: \"0\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"playerCount\"\n                                          }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"playerCount\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            type: \"number\",\n                                            value: players.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setPlayers, 0, param);\n                                              })\n                                          }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))).toString())), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"breakTime\"\n                                          }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"breakTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 5.0,\n                                            type: \"number\",\n                                            value: breakTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setBreakTime, 0, param);\n                                              })\n                                          }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"totalTime\"\n                                          }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"totalTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 0.5,\n                                            type: \"number\",\n                                            value: totalTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateFloat(setTotalTime, 0.5, param);\n                                              })\n                                          }), \" hours\"))))), React.createElement(\"p\", {\n                        className: \"title-20\"\n                      }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                            className: \"title-20\"\n                          }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)).toString(), \" minutes\"), React.createElement(\"span\", {\n                            className: \"caption-30\"\n                          }, \" = ((\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, totalTime.toString()), \" × 60 ÷ ⌈log₂(\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, players.toString()), \")⌉) - \", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, breakTime.toString()), \") ÷ 2\")))\n            });\n}\n\nvar TimeCalculator = {\n  updateFloat: updateFloat,\n  updateInt: updateInt,\n  make: Pages$TimeCalculator\n};\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nexport {\n  Splash ,\n  log2 ,\n  fixNumber ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar config_avoidPairs = Data_Config$Coronate.AvoidPairs.fromArray(/* array */[\n      /* tuple */[\n        \"TVs_Frank____________\",\n        \"TVs_Son_of_TVs_Frank_\"\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Pearl_Forrester______\"\n      ]\n    ]);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Cambot_______________\",\n        {\n          firstName: \"Cambot\",\n          id: \"Cambot_______________\",\n          lastName: \"\",\n          matchCount: 25,\n          rating: 1500,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Crow_T_Robot_________\",\n        {\n          firstName: \"Crow T\",\n          id: \"Crow_T_Robot_________\",\n          lastName: \"Robot\",\n          matchCount: 5,\n          rating: 1700,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Dr_Clayton_Forrester_\",\n        {\n          firstName: \"Clayton\",\n          id: \"Dr_Clayton_Forrester_\",\n          lastName: \"Forrester\",\n          matchCount: 40,\n          rating: 2100,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Grandy_McMaster______\",\n        {\n          firstName: \"Grandy\",\n          id: \"Grandy_McMaster______\",\n          lastName: \"McMaster\",\n          matchCount: 100,\n          rating: 2600,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Gypsy________________\",\n        {\n          firstName: \"Gypsy\",\n          id: \"Gypsy________________\",\n          lastName: \"\",\n          matchCount: 15,\n          rating: 1600,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Joel_Robinson________\",\n        {\n          firstName: \"Joel\",\n          id: \"Joel_Robinson________\",\n          lastName: \"Robinson\",\n          matchCount: 70,\n          rating: 2400,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Jonah_Heston_________\",\n        {\n          firstName: \"Jonah\",\n          id: \"Jonah_Heston_________\",\n          lastName: \"Heston\",\n          matchCount: 50,\n          rating: 2200,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        {\n          firstName: \"Kinga\",\n          id: \"Kinga_Forrester______\",\n          lastName: \"Forrester\",\n          matchCount: 20,\n          rating: 1900,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Larry_Erhardt________\",\n        {\n          firstName: \"Larry\",\n          id: \"Larry_Erhardt________\",\n          lastName: \"Erhardt\",\n          matchCount: 45,\n          rating: 1300,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Mike_Nelson__________\",\n        {\n          firstName: \"Mike\",\n          id: \"Mike_Nelson__________\",\n          lastName: \"Nelson\",\n          matchCount: 60,\n          rating: 2300,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Newbie_McNewberson___\",\n        {\n          firstName: \"Newbie\",\n          id: \"Newbie_McNewberson___\",\n          lastName: \"McNewberson\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Observer_Brain_Guy___\",\n        {\n          firstName: \"Brain\",\n          id: \"Observer_Brain_Guy___\",\n          lastName: \"Guy\",\n          matchCount: 55,\n          rating: 1200,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        {\n          firstName: \"Pearl\",\n          id: \"Pearl_Forrester______\",\n          lastName: \"Forrester\",\n          matchCount: 30,\n          rating: 2000,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Professor_Bobo_______\",\n        {\n          firstName: \"Bobo\",\n          id: \"Professor_Bobo_______\",\n          lastName: \"Professor\",\n          matchCount: 75,\n          rating: 1000,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"TVs_Frank____________\",\n        {\n          firstName: \"TV's\",\n          id: \"TVs_Frank____________\",\n          lastName: \"Frank\",\n          matchCount: 35,\n          rating: 1400,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"TVs_Son_of_TVs_Frank_\",\n        {\n          firstName: \"TV's\",\n          id: \"TVs_Son_of_TVs_Frank_\",\n          lastName: \"Max\",\n          matchCount: 65,\n          rating: 1100,\n          type_: /* Person */0\n        }\n      ],\n      /* tuple */[\n        \"Tom_Servo____________\",\n        {\n          firstName: \"Tom\",\n          id: \"Tom_Servo____________\",\n          lastName: \"Servo\",\n          matchCount: 10,\n          rating: 1800,\n          type_: /* Person */0\n        }\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Bye_Round_Tourney____\",\n        {\n          id: \"Bye_Round_Tourney____\",\n          name: \"Bye Round Tourney\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: /* :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Crow_T_Robot_________\",\n              /* :: */[\n                \"Tom_Servo____________\",\n                /* :: */[\n                  \"Gypsy________________\",\n                  /* :: */[\n                    \"Cambot_______________\",\n                    /* :: */[\n                      \"Newbie_McNewberson___\",\n                      /* :: */[\n                        \"Grandy_McMaster______\",\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.empty\n        }\n      ],\n      /* tuple */[\n        \"Bye_Round_Tourney_2__\",\n        {\n          id: \"Bye_Round_Tourney_2__\",\n          name: \"Bye Round Tourney 2\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: /* :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Crow_T_Robot_________\",\n              /* :: */[\n                \"Tom_Servo____________\",\n                /* :: */[\n                  \"Gypsy________________\",\n                  /* :: */[\n                    \"Cambot_______________\",\n                    /* :: */[\n                      \"Newbie_McNewberson___\",\n                      /* :: */[\n                        \"Grandy_McMaster______\",\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"xTXxZHB0sTt__xIAg45fm\",\n                        whiteId: \"Grandy_McMaster______\",\n                        blackId: \"Crow_T_Robot_________\",\n                        whiteNewRating: 2592,\n                        blackNewRating: 1833,\n                        whiteOrigRating: 2600,\n                        blackOrigRating: 1700,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"zQcf9RWXK7iuU6ibPzrhU\",\n                        whiteId: \"Joel_Robinson________\",\n                        blackId: \"Gypsy________________\",\n                        whiteNewRating: 2400,\n                        blackNewRating: 1600,\n                        whiteOrigRating: 2400,\n                        blackOrigRating: 1600,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"Vw_X0c7O4vshrYEO-oSzR\",\n                        whiteId: \"Tom_Servo____________\",\n                        blackId: \"Cambot_______________\",\n                        whiteNewRating: 1738,\n                        blackNewRating: 1526,\n                        whiteOrigRating: 1800,\n                        blackOrigRating: 1500,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"iSDujOVkOTrcLv_KJmd7s\",\n                        whiteId: \"Newbie_McNewberson___\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 800,\n                        blackNewRating: 0,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])])\n        }\n      ],\n      /* tuple */[\n        \"Bye_Tourney_3________\",\n        {\n          id: \"Bye_Tourney_3________\",\n          name: \"Bye Tourney 3\",\n          date: new Date(\"2019-06-17T23:00:29.603Z\"),\n          playerIds: /* :: */[\n            \"Kinga_Forrester______\",\n            /* :: */[\n              \"Newbie_McNewberson___\",\n              /* :: */[\n                \"Jonah_Heston_________\",\n                /* [] */0\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"KkFr4B7FDqiHRWmACgApf\",\n                        whiteId: \"Kinga_Forrester______\",\n                        blackId: \"Jonah_Heston_________\",\n                        whiteNewRating: 1894,\n                        blackNewRating: 2202,\n                        whiteOrigRating: 1900,\n                        blackOrigRating: 2200,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"R_BTsGSziwgyvFZM3yc5u\",\n                        whiteId: \"Newbie_McNewberson___\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 793,\n                        blackNewRating: 0,\n                        whiteOrigRating: 793,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"rcyCfpZU6olav5kdVac44\",\n                        whiteId: \"Jonah_Heston_________\",\n                        blackId: \"Newbie_McNewberson___\",\n                        whiteNewRating: 2187,\n                        blackNewRating: 953,\n                        whiteOrigRating: 2202,\n                        blackOrigRating: 793,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"Nc0Om5fEuwSuzFls9wmME\",\n                        whiteId: \"Kinga_Forrester______\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 1894,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1894,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"uawjKwbiA38RP8pA--tlw\",\n                        whiteId: \"Newbie_McNewberson___\",\n                        blackId: \"Kinga_Forrester______\",\n                        whiteNewRating: 952,\n                        blackNewRating: 1894,\n                        whiteOrigRating: 953,\n                        blackOrigRating: 1894,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"-kwIDxjPhWVRbqxtRZ26_\",\n                        whiteId: \"Jonah_Heston_________\",\n                        blackId: \"________DUMMY________\",\n                        whiteNewRating: 2187,\n                        blackNewRating: 0,\n                        whiteOrigRating: 2187,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      /* tuple */[\n        \"Simple_Pairing_______\",\n        {\n          id: \"Simple_Pairing_______\",\n          name: \"Simple Pairing\",\n          date: new Date(\"2019-06-14T11:40:34.407Z\"),\n          playerIds: /* :: */[\n            \"Newbie_McNewberson___\",\n            /* :: */[\n              \"Grandy_McMaster______\",\n              /* :: */[\n                \"Joel_Robinson________\",\n                /* :: */[\n                  \"Dr_Clayton_Forrester_\",\n                  /* :: */[\n                    \"TVs_Frank____________\",\n                    /* :: */[\n                      \"Crow_T_Robot_________\",\n                      /* :: */[\n                        \"Tom_Servo____________\",\n                        /* :: */[\n                          \"Gypsy________________\",\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"KdLva8hWqYHdaU9KnFTe2\",\n                        whiteId: \"Crow_T_Robot_________\",\n                        blackId: \"Grandy_McMaster______\",\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"WDPFsNF1yADs4qofFwCY0\",\n                        whiteId: \"Gypsy________________\",\n                        blackId: \"Joel_Robinson________\",\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"R5sXfTOJw5vrJ4IytAjSi\",\n                        whiteId: \"TVs_Frank____________\",\n                        blackId: \"Dr_Clayton_Forrester_\",\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"2YOsn_JJFnaUMhRBAc9KY\",\n                        whiteId: \"Newbie_McNewberson___\",\n                        blackId: \"Tom_Servo____________\",\n                        whiteNewRating: 1597,\n                        blackNewRating: 1728,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ],\n      /* tuple */[\n        \"Pairing_With_Draws___\",\n        {\n          id: \"Pairing_With_Draws___\",\n          name: \"Pairing with draws\",\n          date: new Date(\"2019-06-14T14:18:06.686Z\"),\n          playerIds: /* :: */[\n            \"Newbie_McNewberson___\",\n            /* :: */[\n              \"Grandy_McMaster______\",\n              /* :: */[\n                \"Joel_Robinson________\",\n                /* :: */[\n                  \"Dr_Clayton_Forrester_\",\n                  /* :: */[\n                    \"TVs_Frank____________\",\n                    /* :: */[\n                      \"Crow_T_Robot_________\",\n                      /* :: */[\n                        \"Tom_Servo____________\",\n                        /* :: */[\n                          \"Gypsy________________\",\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          byeQueue: /* array */[],\n          tieBreaks: /* array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray(/* array */[\n                Data_Rounds$Coronate.Round.fromArray(/* array */[\n                      {\n                        id: \"ryWXwvFGwBKQqGBbMYeps\",\n                        whiteId: \"Crow_T_Robot_________\",\n                        blackId: \"Grandy_McMaster______\",\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"2KKVbi0AfNxfJAJobTgP5\",\n                        whiteId: \"Gypsy________________\",\n                        blackId: \"Joel_Robinson________\",\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: \"zdlBHBAqgV2qabn2oBa2a\",\n                        whiteId: \"TVs_Frank____________\",\n                        blackId: \"Dr_Clayton_Forrester_\",\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: \"8fGxU3tLpd8GibuSQr9-Y\",\n                        whiteId: \"Newbie_McNewberson___\",\n                        blackId: \"Tom_Servo____________\",\n                        whiteNewRating: 1197,\n                        blackNewRating: 1764,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* Draw */2\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return $$String.concat(\"-\", /* :: */[\n              date.getFullYear().toString(),\n              /* :: */[\n                Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n                /* :: */[\n                  Numeral.default(date.getDate()).format(\"00\"),\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction invalidAlert(param) {\n  return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n}\n\nfunction dictToMap(dict) {\n  return Belt_MapString.fromArray(Js_dict.entries(dict));\n}\n\nfunction mapToDict(map) {\n  return Js_dict.fromArray(Belt_MapString.toArray(map));\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return {\n          config: Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          players: Belt_MapString.fromArray(Js_dict.entries(dict)),\n          tournaments: Belt_MapString.fromArray(Js_dict.entries(dict$1))\n        };\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_MapString.map(data.players, Data_Player$Coronate.encode);\n  var map$1 = Belt_MapString.map(data.tournaments, Data_Tournament$Coronate.encode);\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"config\",\n                Data_Config$Coronate.encode(data.config)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"players\",\n                  Js_dict.fromArray(Belt_MapString.toArray(map))\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"tournaments\",\n                    Js_dict.fromArray(Belt_MapString.toArray(map$1))\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nvar LastBackupDate = {\n  make: PageOptions$LastBackupDate\n};\n\nfunction PageOptions(Props) {\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var tourneysDispatch = match[1];\n  var tournaments = match[0];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: config,\n                  players: players,\n                  tournaments: tournaments\n                };\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          return ;\n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, /* SetAll */Block.__(2, [tournaments]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetAll */Block.__(2, [players]));\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var match = Json.parse(text);\n    if (match !== undefined) {\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(match));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn[0] === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        } else {\n          throw exn;\n        }\n      }\n      return loadData(val.tournaments, val.players, val.config);\n    } else {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var match = Json.parse(data);\n      if (match !== undefined) {\n        var val;\n        try {\n          val = decodeOptions(Caml_option.valFromOption(match));\n        }\n        catch (raw_exn){\n          var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n          if (exn[0] === Json_decode.DecodeError) {\n            return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n          } else {\n            throw exn;\n          }\n        }\n        return loadData(val.tournaments, val.players, val.config);\n      } else {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    return /* () */0;\n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$4 = process.env.NODE_ENV !== \"production\";\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Full */0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Full */0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"½ \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Half */1,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Half */1]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config.lastBackup\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(/* () */0) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", match$4 ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  getDateForFile ,\n  invalidAlert ,\n  dictToMap ,\n  mapToDict ,\n  decodeOptions ,\n  encodeOptions ,\n  LastBackupDate ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar sortName = /* GetString */Block.__(0, [(function (x) {\n        return x.firstName;\n      })]);\n\nvar sortRating = /* GetInt */Block.__(1, [(function (x) {\n        return x.rating;\n      })]);\n\nvar sortMatchCount = /* GetInt */Block.__(1, [(function (x) {\n        return x.matchCount;\n      })]);\n\nfunction defaultFirstName(param) {\n  return \"\";\n}\n\nfunction defaultLastName(param) {\n  return \"\";\n}\n\nfunction defaultRating(param) {\n  return 1200;\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var match = React.useState((function () {\n          return \"\";\n        }));\n  var setFirstName = match[1];\n  var firstName = match[0];\n  var match$1 = React.useState((function () {\n          return \"\";\n        }));\n  var setLastName = match$1[1];\n  var lastName = match$1[0];\n  var match$2 = React.useState((function () {\n          return 1200;\n        }));\n  var setRating = match$2[1];\n  var rating = match$2[0];\n  var handleSubmit = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(setFirstName, defaultFirstName);\n    Curry._1(setLastName, defaultLastName);\n    Curry._1(setRating, defaultRating);\n    var id = Utils$Coronate.nanoid(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            {\n              firstName: firstName,\n              id: id,\n              lastName: lastName,\n              matchCount: 0,\n              rating: rating,\n              type_: /* Person */0\n            }\n          ]));\n    if (addPlayerCallback !== undefined) {\n      return Curry._1(addPlayerCallback, id);\n    } else {\n      return /* () */0;\n    }\n  };\n  var updateField = function ($$event) {\n    $$event.preventDefault();\n    var name = $$event.currentTarget.name;\n    var value = $$event.currentTarget.value;\n    switch (name) {\n      case \"firstName\" :\n          return Curry._1(setFirstName, (function (param) {\n                        return value;\n                      }));\n      case \"lastName\" :\n          return Curry._1(setLastName, (function (param) {\n                        return value;\n                      }));\n      case \"rating\" :\n          return Curry._1(setRating, (function (param) {\n                        return Caml_format.caml_int_of_string(value);\n                      }));\n      default:\n        return /* () */0;\n    }\n  };\n  return React.createElement(\"form\", {\n              onSubmit: handleSubmit\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: firstName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: lastName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: String(rating),\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          type: \"submit\",\n                          value: \"Add\"\n                        }))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var windowDispatch = Props.windowDispatch;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, Belt_Array.map(sorted.table, (function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p.id,\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                                children: $$String.concat(\" \", /* :: */[\n                                                      p.firstName,\n                                                      /* :: */[\n                                                        p.lastName,\n                                                        /* [] */0\n                                                      ]\n                                                    ]),\n                                                to_: \"/players/\" + p.id\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.rating)), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.matchCount)), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var $$event$1 = $$event;\n                                                    var id = p.id;\n                                                    $$event$1.preventDefault();\n                                                    var playerOpt = Belt_MapString.get(players, id);\n                                                    if (playerOpt !== undefined) {\n                                                      var player = playerOpt;\n                                                      var message = $$String.concat(\"\", /* :: */[\n                                                            \"Are you sure you want to delete \",\n                                                            /* :: */[\n                                                              player.firstName,\n                                                              /* :: */[\n                                                                \" \",\n                                                                /* :: */[\n                                                                  player.lastName,\n                                                                  /* :: */[\n                                                                    \"?\",\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]\n                                                          ]);\n                                                      if (window.confirm(message)) {\n                                                        Curry._1(playersDispatch, /* Del */Block.__(0, [id]));\n                                                        return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                      } else {\n                                                        return 0;\n                                                      }\n                                                    } else {\n                                                      return /* () */0;\n                                                    }\n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: $$String.concat(\" \", /* :: */[\n                                                          \"Delete\",\n                                                          /* :: */[\n                                                            p.firstName,\n                                                            /* :: */[\n                                                              p.lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ])\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nvar PlayerList = {\n  make: PagePlayers$PlayerList\n};\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var windowDispatch = Props.windowDispatch;\n  var playerId = player.id;\n  var playerName = $$String.concat(\" \", /* :: */[\n        player.firstName,\n        /* :: */[\n          player.lastName,\n          /* [] */0\n        ]\n      ]);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(config.avoidPairs);\n  var match = Belt_MapString.get(avoidMap, playerId);\n  var singAvoidList = match !== undefined ? match : /* [] */0;\n  var unavoided = Belt_List.keep(Belt_List.fromArray(Belt_MapString.keysToArray(players)), (function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match$1 = React.useState((function () {\n          if (unavoided) {\n            return unavoided[0];\n          }\n          \n        }));\n  var setSelectedAvoider = match$1[1];\n  var selectedAvoider = match$1[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider !== undefined) {\n      var selectedAvoider$1 = selectedAvoider;\n      Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [/* tuple */[\n                playerId,\n                selectedAvoider$1\n              ]]));\n      var newSelected;\n      if (unavoided) {\n        var match = unavoided[1];\n        var id = unavoided[0];\n        newSelected = id !== selectedAvoider$1 ? id : (\n            match ? match[0] : undefined\n          );\n      } else {\n        newSelected = undefined;\n      }\n      return Curry._1(setSelectedAvoider, (function (param) {\n                    return newSelected;\n                  }));\n    } else {\n      return /* () */0;\n    }\n  };\n  var handleChange = function ($$event) {\n    $$event.preventDefault();\n    var target = $$event.currentTarget;\n    var firstName = target.firstName.value;\n    var lastName = target.lastName.value;\n    var matchCount = Caml_format.caml_int_of_string(target.matchCount.value);\n    var rating = Caml_format.caml_int_of_string(target.rating.value);\n    return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                  playerId,\n                  {\n                    firstName: firstName,\n                    id: playerId,\n                    lastName: lastName,\n                    matchCount: matchCount,\n                    rating: rating,\n                    type_: player.type_\n                  }\n                ]));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                  children: null,\n                  to_: \"/players\"\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onChange: handleChange,\n                  onSubmit: handleChange\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          defaultValue: player.firstName,\n                          name: \"firstName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          defaultValue: player.lastName,\n                          name: \"lastName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          defaultValue: String(player.matchCount),\n                          name: \"matchCount\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          defaultValue: String(player.rating),\n                          name: \"rating\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: String(Scoring$Coronate.Ratings.getKFactor(player.matchCount))\n                        }))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Utils$Coronate.List.toReactArray(singAvoidList, (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: pId\n                                  }, Data_Player$Coronate.getPlayerMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getPlayerMaybe(players, pId).lastName, React.createElement(\"button\", {\n                                        \"aria-label\": $$String.concat(\" \", /* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ]),\n                                        className: \"danger button-ghost\",\n                                        title: $$String.concat(\" \", /* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ]),\n                                        onClick: (function (param) {\n                                            return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [/* tuple */[\n                                                            playerId,\n                                                            pId\n                                                          ]]));\n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: selectedAvoider,\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Utils$Coronate.List.toReactArray(unavoided, (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: pId,\n                                              value: pId\n                                            }, Data_Player$Coronate.getPlayerMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getPlayerMaybe(players, pId).lastName);\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nvar Profile = {\n  make: PagePlayers$Profile\n};\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match[1];\n  var players = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(players)]));\n          return ;\n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var match$3 = Belt_MapString.get(players, id);\n    tmp = match$3 !== undefined ? React.createElement(PagePlayers$Profile, {\n            player: match$3,\n            players: players,\n            playersDispatch: playersDispatch,\n            config: match$2[0],\n            configDispatch: configDispatch,\n            windowDispatch: windowDispatch\n          }) : React.createElement(\"div\", undefined, \"Loading...\");\n  } else {\n    tmp = React.createElement(PagePlayers$PlayerList, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch,\n          windowDispatch: windowDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  sortName ,\n  sortRating ,\n  sortMatchCount ,\n  defaultFirstName ,\n  defaultLastName ,\n  defaultRating ,\n  NewPlayerForm ,\n  PlayerList ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Config$Coronate from \"./Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var match = Belt_MapString.get(existingData, playerId);\n  var oldData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(origRating, playerId);\n  var match$1 = Data_Player$Coronate.isDummyId(oppId);\n  var newResultsNoByes = match$1 ? oldData.resultsNoByes : /* :: */[\n      result,\n      oldData.resultsNoByes\n    ];\n  var oldOppResults = oldData.opponentResults;\n  var match$2 = Belt_MapString.get(oldOppResults, oppId);\n  var oppResult = match$2 !== undefined ? match$2 + result : result;\n  return {\n          colorScores: /* :: */[\n            Scoring$Coronate.Color.toScore(color),\n            oldData.colorScores\n          ],\n          colors: /* :: */[\n            color,\n            oldData.colors\n          ],\n          id: oldData.id,\n          isDummy: Data_Player$Coronate.isDummyId(playerId),\n          opponentResults: Belt_MapString.set(oldOppResults, oppId, oppResult),\n          ratings: /* :: */[\n            newRating,\n            oldData.ratings\n          ],\n          firstRating: oldData.firstRating,\n          results: /* :: */[\n            result,\n            oldData.results\n          ],\n          resultsNoByes: newResultsNoByes\n        };\n}\n\nfunction matches2ScoreData(matchList) {\n  return Belt_Array.reduce(matchList, Belt_MapString.empty, (function (acc, match_) {\n                var match = match_.result;\n                if (match >= 3) {\n                  return acc;\n                } else {\n                  var whiteData = makeScoreData(acc, match_.whiteId, match_.whiteOrigRating, match_.whiteNewRating, Data_Match$Coronate.Result.toFloat(match_.result, /* White */0), match_.blackId, /* White */0);\n                  var blackData = makeScoreData(acc, match_.blackId, match_.blackOrigRating, match_.blackNewRating, Data_Match$Coronate.Result.toFloat(match_.result, /* Black */1), match_.whiteId, /* Black */1);\n                  return Belt_MapString.set(Belt_MapString.set(acc, match_.whiteId, whiteData), match_.blackId, blackData);\n                }\n              }));\n}\n\nfunction createPairingData(scoreData, playerData, avoidPairs) {\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(avoidPairs);\n  return Belt_MapString.reduce(playerData, Belt_MapString.empty, (function (acc, key, data) {\n                var match = Belt_MapString.get(scoreData, key);\n                var playerStats = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, key);\n                var match$1 = Belt_MapString.get(avoidMap, key);\n                var newAvoidIds = match$1 !== undefined ? match$1 : /* [] */0;\n                var newData_id = data.id;\n                var newData_colorScores = playerStats.colorScores;\n                var newData_colors = playerStats.colors;\n                var newData_opponents = Belt_List.fromArray(Belt_MapString.keysToArray(playerStats.opponentResults));\n                var newData_rating = data.rating;\n                var newData_score = Utils$Coronate.List.sumF(playerStats.results);\n                var newData = {\n                  id: newData_id,\n                  avoidIds: newAvoidIds,\n                  colorScores: newData_colorScores,\n                  colors: newData_colors,\n                  halfPos: 0,\n                  isUpperHalf: false,\n                  opponents: newData_opponents,\n                  rating: newData_rating,\n                  score: newData_score\n                };\n                return Belt_MapString.set(acc, key, newData);\n              }));\n}\n\nexport {\n  makeScoreData ,\n  matches2ScoreData ,\n  createPairingData ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney.playerIds;\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: /* :: */[\n                    id,\n                    playerIds\n                  ],\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_List.keep(playerIds, (function (pId) {\n                          return pId !== id;\n                        })),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_List.fromArray(Belt_MapString.keysToArray(players)),\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: /* [] */0,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_Array.map(Belt_MapString.valuesToArray(players), (function (param) {\n                            var lastName = param.lastName;\n                            var id = param.id;\n                            var firstName = param.firstName;\n                            return React.createElement(\"tr\", {\n                                        key: id\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + id\n                                                    }, $$String.concat(\" \", /* :: */[\n                                                          \"Select\",\n                                                          /* :: */[\n                                                            firstName,\n                                                            /* :: */[\n                                                              lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ]))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + id,\n                                                checked: Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                                        return prim === prim$1;\n                                                      })),\n                                                type: \"checkbox\",\n                                                value: id,\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: /* :: */[\n                                    id,\n                                    playerIds\n                                  ],\n                                  byeQueue: tourney.byeQueue,\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return matches.filter((function (match_) {\n                    return /* array */[\n                              match_.whiteId,\n                              match_.blackId\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat(/* array */[\n                              match_.whiteId,\n                              match_.blackId\n                            ]);\n                }), /* array */[]).includes(Data_Player$Coronate.dummy_id);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_Array.map(Belt_MapString.valuesToArray(players), (function (p) {\n                    return React.createElement(\"tr\", {\n                                key: p.id,\n                                className: Cn.make(/* :: */[\n                                      Data_Player$Coronate.Type.toString(p.type_),\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p.firstName), React.createElement(\"td\", undefined, p.lastName), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p.id),\n                                        onClick: (function (param) {\n                                            return Curry._1(setTourney, {\n                                                        id: tourney.id,\n                                                        name: tourney.name,\n                                                        date: tourney.date,\n                                                        playerIds: tourney.playerIds,\n                                                        byeQueue: Belt_Array.concat(byeQueue, /* array */[p.id]),\n                                                        tieBreaks: tourney.tieBreaks,\n                                                        roundList: tourney.roundList\n                                                      });\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nvar PlayerList = {\n  make: PageTourneyPlayers$PlayerList\n};\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var byeQueue = tourney.byeQueue;\n  var playerIds = tourney.playerIds;\n  var setTourney = tournament.setTourney;\n  var activePlayers = tournament.activePlayers;\n  var match = React.useState((function () {\n          if (playerIds) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, Belt_Array.map(byeQueue, (function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: pId,\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, $$String.concat(\" \", /* :: */[\n                                                Belt_MapString.getExn(activePlayers, pId).firstName,\n                                                /* :: */[\n                                                  Belt_MapString.getExn(activePlayers, pId).lastName,\n                                                  /* [] */0\n                                                ]\n                                              ]), \" \", React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(setTourney, {\n                                                                id: tourney.id,\n                                                                name: tourney.name,\n                                                                date: tourney.date,\n                                                                playerIds: tourney.playerIds,\n                                                                byeQueue: byeQueue.filter((function (id) {\n                                                                        return pId !== id;\n                                                                      })),\n                                                                tieBreaks: tourney.tieBreaks,\n                                                                roundList: tourney.roundList\n                                                              });\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament.players,\n                          playersDispatch: tournament.playersDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  hasHadBye ,\n  PlayerList ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nvar sortByName = /* GetString */Block.__(0, [(function (x) {\n        return x.player.firstName;\n      })]);\n\nvar sortByIdeal = /* GetFloat */Block.__(2, [(function (x) {\n        return x.ideal;\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_Array.map(Belt_MapString.valuesToArray(unmatched), (function (player) {\n          return {\n                  player: player,\n                  ideal: 0.0\n                };\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return match !== id;\n      }\n    } else {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        return match$1 !== id;\n      } else {\n        return true;\n      }\n    }\n  };\n  React.useEffect((function (param) {\n          var calcIdealOrNot = function (player) {\n            var match = stagedPlayers[0];\n            var selectedId;\n            if (match !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : match;\n            } else {\n              var match$1 = stagedPlayers[1];\n              selectedId = match$1 !== undefined ? match$1 : undefined;\n            }\n            if (selectedId !== undefined) {\n              var match$2 = Belt_MapString.get(pairData, selectedId);\n              if (match$2 !== undefined) {\n                if (player !== undefined) {\n                  return Pairing$Coronate.calcPairIdeal(match$2, player) / Pairing$Coronate.maxPriority;\n                } else {\n                  return 0.0;\n                }\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_Array.map(Belt_MapString.valuesToArray(unmatched), (function (player) {\n                  return {\n                          player: player,\n                          ideal: calcIdealOrNot(Belt_MapString.get(pairData, player.id))\n                        };\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          return ;\n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_MapString.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, Belt_Array.map(sorted.table, (function (param) {\n                          var player = param.player;\n                          return React.createElement(\"tr\", {\n                                      key: player.id\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player.id),\n                                              onClick: (function (param) {\n                                                  var id = player.id;\n                                                  var match = stagedPlayers[0];\n                                                  if (match !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return /* () */0;\n                                                    } else {\n                                                      var p1 = match;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            p1,\n                                                                            id\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  } else {\n                                                    var match$1 = stagedPlayers[1];\n                                                    if (match$1 !== undefined) {\n                                                      var p2 = match$1;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            p2\n                                                                          ];\n                                                                  }));\n                                                    } else {\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            undefined\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  }\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: $$String.concat(\" \", /* :: */[\n                                                        \"Add\",\n                                                        /* :: */[\n                                                          player.firstName,\n                                                          /* :: */[\n                                                            player.lastName,\n                                                            /* [] */0\n                                                          ]\n                                                        ]\n                                                      ])\n                                                }))), React.createElement(\"td\", undefined, player.firstName + (\" \" + player.lastName)), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param.ideal).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nvar SelectList = {\n  make: PairPicker$SelectList\n};\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney.roundList;\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName;\n  if (white !== undefined) {\n    var player = white;\n    whiteName = Curry._1(getPlayer, player).firstName + (\" \" + Curry._1(getPlayer, player).lastName);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (black !== undefined) {\n    var player$1 = black;\n    blackName = Curry._1(getPlayer, player$1).firstName + (\" \" + Curry._1(getPlayer, player$1).lastName);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        var newRound = Data_Rounds$Coronate.Round.addMatches(round, /* array */[Data_Match$Coronate.manualPair(/* tuple */[\n                    Curry._1(getPlayer, match),\n                    Curry._1(getPlayer, match$1)\n                  ], byeValue)]);\n        var match$2 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n        if (match$2 !== undefined) {\n          Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: tourney.date,\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: tourney.tieBreaks,\n                roundList: Caml_option.valFromOption(match$2)\n              });\n        }\n        return Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              undefined\n                            ];\n                    }));\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match = stagedPlayers[0];\n  var matchIdeal;\n  if (match !== undefined) {\n    var match$1 = stagedPlayers[1];\n    if (match$1 !== undefined) {\n      var match$2 = Belt_MapString.get(pairData, match);\n      var match$3 = Belt_MapString.get(pairData, match$1);\n      if (match$2 !== undefined && match$3 !== undefined) {\n        var ideal = Pairing$Coronate.calcPairIdeal(match$2, match$3);\n        matchIdeal = Numeral.default(ideal / Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nvar Stage = {\n  make: PairPicker$Stage\n};\n\nfunction PairPicker$PlayerInfo(Props) {\n  var player = Props.player;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, Caml_option.some(avoidPairs), getPlayer, players, origRating, newRating, /* () */0);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", match.score.toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + player$1.id\n                }, \"Rating: \", match.rating), React.createElement(\"p\", undefined, \"Color balance: \" + match.colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  match.hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, match.opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nvar PlayerInfo = {\n  make: PairPicker$PlayerInfo\n};\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  undefined,\n                  undefined\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(/* () */0);\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var byeQueue = tourney.byeQueue;\n  var setTourney = tournament.setTourney;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var activePlayers = tournament.activePlayers;\n  var config = match$1[0];\n  var byeValue = config.byeValue;\n  var avoidPairs = config.avoidPairs;\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var pairData = React.useMemo((function () {\n          return Pairing$Coronate.setUpperHalves(Data_Converters$Coronate.createPairingData(scoreData, activePlayers, avoidPairs));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function (param) {\n          if (p1 !== undefined) {\n            var match = Belt_MapString.get(unmatchedWithDummy, p1);\n            if (match === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n            \n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_MapString.get(unmatchedWithDummy, p2);\n            if (match$1 === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n            \n          }\n          return ;\n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round !== undefined) {\n    var round$1 = Caml_option.valFromOption(round);\n    return React.createElement(\"div\", {\n                className: \"content-area\",\n                style: {\n                  width: \"720px\"\n                }\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-primary\",\n                        disabled: unmatchedCount === 0,\n                        onClick: (function (param) {\n                            var round$2 = round$1;\n                            var newRound = Data_Rounds$Coronate.Round.addMatches(round$2, Belt_List.toArray(Data_Match$Coronate.autoPair(pairData, byeValue, unmatched, byeQueue)));\n                            var match = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                            if (match !== undefined) {\n                              return Curry._1(setTourney, {\n                                          id: tourney.id,\n                                          name: tourney.name,\n                                          date: tourney.date,\n                                          playerIds: tourney.playerIds,\n                                          byeQueue: tourney.byeQueue,\n                                          tieBreaks: tourney.tieBreaks,\n                                          roundList: Caml_option.valFromOption(match)\n                                        });\n                            } else {\n                              return /* () */0;\n                            }\n                          })\n                      }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return true;\n                                        }));\n                          })\n                      }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                    children: null\n                  }, React.createElement(Utils$Coronate.Panel.make, {\n                        children: React.createElement(PairPicker$SelectList, {\n                              pairData: pairData,\n                              stagedPlayers: stagedPlayers,\n                              setStagedPlayers: setStagedPlayers,\n                              unmatched: unmatchedWithDummy\n                            })\n                      }), React.createElement(Utils$Coronate.Panel.make, {\n                        children: null,\n                        style: {\n                          flexGrow: \"1\"\n                        }\n                      }, React.createElement(PairPicker$Stage, {\n                            getPlayer: getPlayer,\n                            pairData: pairData,\n                            roundId: roundId,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            setTourney: setTourney,\n                            byeValue: byeValue,\n                            tourney: tourney,\n                            round: round$1\n                          }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                            children: Belt_Array.map(/* array */[\n                                  p1,\n                                  p2\n                                ], (function (id) {\n                                    if (id !== undefined) {\n                                      var playerId = id;\n                                      return React.createElement(Utils$Coronate.Panel.make, {\n                                                  children: React.createElement(PairPicker$PlayerInfo, {\n                                                        player: Curry._1(getPlayer, playerId),\n                                                        scoreData: scoreData,\n                                                        players: players,\n                                                        avoidPairs: avoidPairs,\n                                                        origRating: Curry._1(getPlayer, playerId).rating,\n                                                        newRating: undefined,\n                                                        getPlayer: getPlayer\n                                                      }),\n                                                  key: playerId\n                                                });\n                                    } else {\n                                      return null;\n                                    }\n                                  }))\n                          }))), React.createElement(Externals$Coronate.Dialog.make, {\n                    isOpen: match$2[0],\n                    onDismiss: (function (param) {\n                        return Curry._1(setIsModalOpen, (function (param) {\n                                      return false;\n                                    }));\n                      }),\n                    ariaLabel: \"Select players\",\n                    children: null\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return false;\n                                        }));\n                          })\n                      }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                        tourney: tourney,\n                        setTourney: setTourney,\n                        players: players,\n                        playersDispatch: tournament.playersDispatch\n                      })));\n  } else {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n}\n\nvar make = PairPicker;\n\nexport {\n  sortByName ,\n  sortByIdeal ,\n  SelectList ,\n  Stage ,\n  PlayerInfo ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"reason-future/src/Future.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  var match = roundCount !== Pervasives.neg_infinity;\n  if (match) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_id = Utils$Coronate.nanoid(/* () */0);\n\nvar emptyTourney_date = new Date(0.0);\n\nvar emptyTourney_byeQueue = /* array */[];\n\nvar emptyTourney_tieBreaks = /* array */[/* Median */0];\n\nvar emptyTourney = {\n  id: emptyTourney_id,\n  name: \"\",\n  date: emptyTourney_date,\n  playerIds: /* [] */0,\n  byeQueue: emptyTourney_byeQueue,\n  tieBreaks: emptyTourney_tieBreaks,\n  roundList: Data_Rounds$Coronate.empty\n};\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction isLoadedDone(status) {\n  return status !== 0;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var windowDispatch = Props.windowDispatch;\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney.roundList;\n  var playerIds = tourney.playerIds;\n  var name = tourney.name;\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var arePlayersLoaded = match$1[2];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return /* NotLoaded */0;\n        }));\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          Future.tapError(Future.tapOk(Db$Coronate.futureFromPromise(Map$LocalForage.getItem(Db$Coronate.tournaments, tourneyId)), (function (value) {\n                      if (didCancel.contents) {\n                        return /* () */0;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), /* array */[tourneyId]);\n  React.useEffect((function (param) {\n          if (tourneyLoaded === 1) {\n            Map$LocalForage.setItem(Db$Coronate.tournaments, tourneyId, tourney);\n          }\n          return ;\n        }), /* tuple */[\n        tourneyLoaded,\n        tourneyId,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_MapString.keep(players, (function (id, param) {\n                  return Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                return prim === prim$1;\n                              }));\n                }));\n          var roundCount = calcNumOfRounds(Belt_MapString.size(activePlayers));\n          var isItOver = Data_Rounds$Coronate.size(roundList) >= roundCount;\n          var match$3 = Data_Rounds$Coronate.size(roundList) === 0;\n          var isNewRoundReady = match$3 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, Data_Rounds$Coronate.size(roundList) - 1 | 0);\n          return Curry._1(children, {\n                      activePlayers: activePlayers,\n                      getPlayer: (function (param) {\n                          return Data_Player$Coronate.getPlayerMaybe(players, param);\n                        }),\n                      isItOver: isItOver,\n                      isNewRoundReady: isNewRoundReady,\n                      players: players,\n                      playersDispatch: match$1[1],\n                      roundCount: roundCount,\n                      tourney: tourney,\n                      setTourney: setTourney\n                    });\n        }\n        break;\n    case /* Error */2 :\n        debugger;\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\"\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\"\n            });\n}\n\nfunction useRoundData(roundId, tournament) {\n  var roundList = tournament.tourney.roundList;\n  var activePlayers = tournament.activePlayers;\n  var scoreData = React.useMemo((function () {\n          return Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n        }), /* array */[roundList]);\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n  var unmatched;\n  if (round !== undefined && isThisTheLastRound) {\n    var matched = Data_Rounds$Coronate.Round.getMatched(Caml_option.valFromOption(round));\n    unmatched = Belt_MapString.removeMany(activePlayers, matched);\n  } else {\n    unmatched = Belt_MapString.empty;\n  }\n  var unmatchedCount = Belt_MapString.size(unmatched);\n  var match = unmatchedCount % 2 !== 0;\n  var unmatchedWithDummy = match ? Belt_MapString.set(unmatched, Data_Player$Coronate.dummy_id, Curry._1(tournament.getPlayer, Data_Player$Coronate.dummy_id)) : unmatched;\n  var activePlayersCount = Belt_MapString.size(activePlayers);\n  return {\n          activePlayersCount: activePlayersCount,\n          scoreData: scoreData,\n          unmatched: unmatched,\n          unmatchedCount: unmatchedCount,\n          unmatchedWithDummy: unmatchedWithDummy\n        };\n}\n\nvar make = LoadTournament;\n\nexport {\n  log2 ,\n  calcNumOfRounds ,\n  emptyTourney ,\n  tournamentReducer ,\n  isLoadedDone ,\n  make ,\n  useRoundData ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\n\nvar winnerSelect = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Css.style(/* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = {\n  winnerSelect: winnerSelect,\n  table: table,\n  td: td,\n  rowId: rowId,\n  controls: controls,\n  matchResult: matchResult,\n  playerResult: playerResult\n};\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var player = Props.player;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, undefined, getPlayer, players, origRating, newRating, /* () */0);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score.toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"dd\", {\n                        \"aria-label\": \"Rating for \" + fullName\n                      }, match.rating),\n                  testId: \"rating-\" + player$1.id\n                }), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nvar PlayerMatchInfo = {\n  make: PageRound$PlayerMatchInfo\n};\n\nfunction PageRound$MatchRow(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var pos = Props.pos;\n  var m = Props.m;\n  var roundId = Props.roundId;\n  var match$1 = Props.selectedMatch;\n  var selectedMatch = match$1 !== undefined ? Caml_option.valFromOption(match$1) : undefined;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$3[1];\n  var whitePlayer = Curry._1(getPlayer, m.whiteId);\n  var blackPlayer = Curry._1(getPlayer, m.blackId);\n  var isDummyRound = m.whiteId === Data_Player$Coronate.dummy_id || m.blackId === Data_Player$Coronate.dummy_id;\n  var whiteName = $$String.concat(\" \", /* :: */[\n        whitePlayer.firstName,\n        /* :: */[\n          whitePlayer.lastName,\n          /* [] */0\n        ]\n      ]);\n  var blackName = $$String.concat(\" \", /* :: */[\n        blackPlayer.firstName,\n        /* :: */[\n          blackPlayer.lastName,\n          /* [] */0\n        ]\n      ]);\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Css.style(/* :: */[\n                Css.color(Utils$Coronate.PhotonColors.yellow_70),\n                /* [] */0\n              ])\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = m.result;\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"🤝\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (m.result !== newResult) {\n      var white = Belt_MapString.getExn(players, m.whiteId);\n      var black = Belt_MapString.getExn(players, m.blackId);\n      var newWhiteScore = Data_Match$Coronate.Result.toFloat(newResult, /* White */0);\n      var newBlackScore = Data_Match$Coronate.Result.toFloat(newResult, /* Black */1);\n      var match = newResult >= 3 ? /* tuple */[\n          m.whiteOrigRating,\n          m.blackOrigRating\n        ] : Scoring$Coronate.Ratings.calcNewRatings(/* tuple */[\n              m.whiteOrigRating,\n              m.blackOrigRating\n            ], /* tuple */[\n              white.matchCount,\n              black.matchCount\n            ], /* tuple */[\n              newWhiteScore,\n              newBlackScore\n            ]);\n      var blackNewRating = match[1];\n      var whiteNewRating = match[0];\n      var white_firstName = white.firstName;\n      var white_id = white.id;\n      var white_lastName = white.lastName;\n      var white_matchCount = white.matchCount;\n      var white_type_ = white.type_;\n      var white$1 = {\n        firstName: white_firstName,\n        id: white_id,\n        lastName: white_lastName,\n        matchCount: white_matchCount,\n        rating: whiteNewRating,\n        type_: white_type_\n      };\n      var black_firstName = black.firstName;\n      var black_id = black.id;\n      var black_lastName = black.lastName;\n      var black_matchCount = black.matchCount;\n      var black_type_ = black.type_;\n      var black$1 = {\n        firstName: black_firstName,\n        id: black_id,\n        lastName: black_lastName,\n        matchCount: black_matchCount,\n        rating: blackNewRating,\n        type_: black_type_\n      };\n      var match$1 = m.result;\n      if (match$1 >= 3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                {\n                  firstName: white_firstName,\n                  id: white_id,\n                  lastName: white_lastName,\n                  matchCount: white_matchCount + 1 | 0,\n                  rating: whiteNewRating,\n                  type_: white_type_\n                }\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                {\n                  firstName: black_firstName,\n                  id: black_id,\n                  lastName: black_lastName,\n                  matchCount: black_matchCount + 1 | 0,\n                  rating: blackNewRating,\n                  type_: black_type_\n                }\n              ]));\n      } else if (newResult === /* NotSet */3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                {\n                  firstName: white_firstName,\n                  id: white_id,\n                  lastName: white_lastName,\n                  matchCount: white_matchCount - 1 | 0,\n                  rating: whiteNewRating,\n                  type_: white_type_\n                }\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                {\n                  firstName: black_firstName,\n                  id: black_id,\n                  lastName: black_lastName,\n                  matchCount: black_matchCount - 1 | 0,\n                  rating: blackNewRating,\n                  type_: black_type_\n                }\n              ]));\n      } else {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                white$1\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                black$1\n              ]));\n      }\n      var newMatch_id = m.id;\n      var newMatch_whiteId = m.whiteId;\n      var newMatch_blackId = m.blackId;\n      var newMatch_whiteOrigRating = m.whiteOrigRating;\n      var newMatch_blackOrigRating = m.blackOrigRating;\n      var newMatch = {\n        id: newMatch_id,\n        whiteId: newMatch_whiteId,\n        blackId: newMatch_blackId,\n        whiteNewRating: whiteNewRating,\n        blackNewRating: blackNewRating,\n        whiteOrigRating: newMatch_whiteOrigRating,\n        blackOrigRating: newMatch_blackOrigRating,\n        result: newResult\n      };\n      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n              return Curry._1(setTourney, {\n                          id: tourney.id,\n                          name: tourney.name,\n                          date: tourney.date,\n                          playerIds: tourney.playerIds,\n                          byeQueue: tourney.byeQueue,\n                          tieBreaks: tourney.tieBreaks,\n                          roundList: roundList\n                        });\n            }));\n      return /* () */0;\n    } else {\n      return 0;\n    }\n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var setSelectedMatch$1 = setSelectedMatch;\n    var match$4 = Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n            return id !== m.id;\n          }));\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: match$3[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            ariaLabel: \"Match information\",\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney.name), React.createElement(\"p\", undefined, $$String.concat(\" \", /* :: */[\n                    \"Round\",\n                    /* :: */[\n                      (roundId + 1 | 0).toString(),\n                      /* :: */[\n                        \"match\",\n                        /* :: */[\n                          (pos + 1 | 0).toString(),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ])), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.whiteId),\n                          origRating: m.whiteOrigRating,\n                          newRating: m.whiteNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.blackId),\n                          origRating: m.blackOrigRating,\n                          newRating: m.blackNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, match$4 ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return m.id;\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                    children: $$String.concat(\" \", /* :: */[\n                          \"Edit match for\",\n                          /* :: */[\n                            whiteName,\n                            /* :: */[\n                              \"versus\",\n                              /* :: */[\n                                blackName,\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ])\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return ;\n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, { })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: $$String.concat(\" \", /* :: */[\n                        \"View information for match:\",\n                        /* :: */[\n                          whiteName,\n                          /* :: */[\n                            \"versus\",\n                            /* :: */[\n                              blackName,\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ])\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (id) {\n                              var match = m.id === id;\n                              if (match) {\n                                return \"selected\";\n                              } else {\n                                return \"buttons-on-hover\";\n                              }\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(whitePlayer.type_),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-white\")\n                }, whiteName), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(blackPlayer.type_),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-black\")\n                }, blackName), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Data_Match$Coronate.Result.toString(m.result),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nvar MatchRow = {\n  make: PageRound$MatchRow\n};\n\nfunction PageRound$RoundTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var match$1 = Props.selectedMatch;\n  var selectedMatch = match$1 !== undefined ? Caml_option.valFromOption(match$1) : undefined;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var match$2 = matches.length === 0;\n  return React.createElement(\"table\", {\n              className: table\n            }, match$2 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString()), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, Belt_Array.mapWithIndex(matches, (function (pos, m) {\n                        return React.createElement(PageRound$MatchRow, {\n                                    isCompact: isCompact,\n                                    pos: pos,\n                                    m: m,\n                                    roundId: roundId,\n                                    selectedMatch: selectedMatch,\n                                    setSelectedMatch: setSelectedMatch,\n                                    scoreData: scoreData,\n                                    tournament: tournament,\n                                    className: td,\n                                    key: m.id\n                                  });\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var match = Data_Rounds$Coronate.Round.moveMatch(round, matchId, direction);\n    if (match !== undefined) {\n      var match$1 = Data_Rounds$Coronate.set(roundList, roundId, Caml_option.valFromOption(match));\n      if (match$1 !== undefined) {\n        return Curry._1(setTourney, {\n                    id: tourney.id,\n                    name: tourney.name,\n                    date: tourney.date,\n                    playerIds: tourney.playerIds,\n                    byeQueue: tourney.byeQueue,\n                    tieBreaks: tourney.tieBreaks,\n                    roundList: Caml_option.valFromOption(match$1)\n                  });\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match$1 = Data_Rounds$Coronate.get(tourney.roundList, roundId);\n  if (match$1 !== undefined) {\n    var matches = Caml_option.valFromOption(match$1);\n    var match$2 = Data_Rounds$Coronate.Round.size(matches) === 0;\n    return React.createElement(\"div\", {\n                className: \"content-area\"\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var match_ = match;\n                                      if (match_.result !== /* NotSet */3) {\n                                        Belt_List.forEach(/* :: */[\n                                              /* tuple */[\n                                                match_.whiteId,\n                                                match_.whiteOrigRating\n                                              ],\n                                              /* :: */[\n                                                /* tuple */[\n                                                  match_.blackId,\n                                                  match_.blackOrigRating\n                                                ],\n                                                /* [] */0\n                                              ]\n                                            ], (function (param) {\n                                                var match = Belt_MapString.get(players, param[0]);\n                                                if (match !== undefined) {\n                                                  var player = match;\n                                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                                player.id,\n                                                                {\n                                                                  firstName: player.firstName,\n                                                                  id: player.id,\n                                                                  lastName: player.lastName,\n                                                                  matchCount: player.matchCount - 1 | 0,\n                                                                  rating: param[1],\n                                                                  type_: player.type_\n                                                                }\n                                                              ]));\n                                                } else {\n                                                  return /* () */0;\n                                                }\n                                              }));\n                                      }\n                                      \n                                    }\n                                    var newRound = Data_Rounds$Coronate.Round.removeMatchById(round, matchId);\n                                    var match$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                    if (match$1 !== undefined) {\n                                      Curry._1(setTourney, {\n                                            id: tourney.id,\n                                            name: tourney.name,\n                                            date: tourney.date,\n                                            playerIds: tourney.playerIds,\n                                            byeQueue: tourney.byeQueue,\n                                            tieBreaks: tourney.tieBreaks,\n                                            roundList: Caml_option.valFromOption(match$1)\n                                          });\n                                    }\n                                    return Curry._1(setSelectedMatch, (function (param) {\n                                                  return ;\n                                                }));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var newMatch = Data_Match$Coronate.swapColors(match);\n                                      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                              return Curry._1(setTourney, {\n                                                          id: tourney.id,\n                                                          name: tourney.name,\n                                                          date: tourney.date,\n                                                          playerIds: tourney.playerIds,\n                                                          byeQueue: tourney.byeQueue,\n                                                          tieBreaks: tourney.tieBreaks,\n                                                          roundList: roundList\n                                                        });\n                                            }));\n                                      return /* () */0;\n                                    } else {\n                                      return /* () */0;\n                                    }\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, -1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, 1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), match$2 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, {\n                    roundId: roundId,\n                    matches: Data_Rounds$Coronate.Round.toArray(matches),\n                    selectedMatch: selectedMatch,\n                    setSelectedMatch: setSelectedMatch,\n                    tournament: tournament,\n                    scoreData: scoreData\n                  }));\n  } else {\n    return React.createElement(Pages$Coronate.NotFound.make, { });\n  }\n}\n\nvar Round = {\n  make: PageRound$Round\n};\n\nfunction PageRound$PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var match = LoadTournament$Coronate.useRoundData(roundId, tournament);\n  var unmatchedCount = match.unmatchedCount;\n  var scoreData = match.scoreData;\n  var activePlayersCount = match.activePlayersCount;\n  var match$1 = unmatchedCount === activePlayersCount;\n  var initialTab = match$1 ? 1 : 0;\n  var match$2 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$2[1];\n  React.useEffect((function (param) {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  var match$3 = unmatchedCount !== 0;\n  return React.createElement(Tabs.Tabs, {\n              index: match$2[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), $$String.concat(\"\", /* :: */[\n                          \" Unmatched players (\",\n                          /* :: */[\n                            unmatchedCount.toString(),\n                            /* :: */[\n                              \")\",\n                              /* [] */0\n                            ]\n                          ]\n                        ]))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, match$3 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: match.unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: match.unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar PageRound = {\n  make: PageRound$PageRound\n};\n\nfunction PageRound$1(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  return React.createElement(PageRound$PageRound, {\n              roundId: roundId,\n              tournament: tournament\n            });\n}\n\nvar make = PageRound$1;\n\nexport {\n  Style ,\n  PlayerMatchInfo ,\n  MatchRow ,\n  RoundTable ,\n  Round ,\n  PageRound ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var match = rawMonth < 9.0;\n  var month = match ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var match$1 = rawDate < 10.0;\n  var day = match$1 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return $$String.concat(\"-\", /* :: */[\n              year,\n              /* :: */[\n                month,\n                /* :: */[\n                  day,\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var date = tourney.date;\n  var name = tourney.name;\n  var setTourney = tournament.setTourney;\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            return /* () */0;\n          }));\n    return /* () */0;\n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          return ;\n        }), /* array */[editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to ½.\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = rawDate.split(\"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: new Date(year$1, month$1, date),\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: tourney.tieBreaks,\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: $$event.currentTarget.value,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: tourney.roundList\n                                      });\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to ½\"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Utils$Coronate.Router.HashLink.make, {\n                      children: \"app options\",\n                      to_: \"/options\"\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  makeDateInput ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as Data_Tournament$Coronate from \"../Data/Data_Tournament.bs.js\";\n\nvar table = Css.style(/* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Css.style(/* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Css.style(/* [] */0);\n\nvar row = Css.style(/* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors.grey_20),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Css.style(/* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Css.style(/* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Css.style(/* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Css.style(/* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  table: table,\n  topHeader: topHeader,\n  compact: compact,\n  row: row,\n  rowTd: rowTd,\n  rowTh: rowTh,\n  playerName: playerName,\n  rank: rank,\n  number: number\n};\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var tieBreaks = tourney.tieBreaks;\n  var tieBreakNames = Belt_Array.map(tieBreaks, Data_Tournament$Coronate.mapTieBreakName);\n  var standingTree = Scoring$Coronate.createStandingTree(Belt_List.keep(Scoring$Coronate.createStandingList(Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0)), tieBreaks), (function (standing) {\n              return !Data_Player$Coronate.isDummyId(standing.id);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : Belt_Array.mapWithIndex(tieBreakNames, (function (i, name) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayReverseWithIndex(standingTree, (function (rank$1, standingsFlat) {\n                        return Utils$Coronate.List.toReactArrayReverseWithIndex(standingsFlat, (function (i, standing) {\n                                      var match = i === 0;\n                                      return React.createElement(\"tr\", {\n                                                  key: standing.id,\n                                                  className: row\n                                                }, match ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing.score).format(\"1/2\")), isCompact ? null : Utils$Coronate.List.toReactArray(standing.tieBreaks, (function (param) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Data_Tournament$Coronate.mapTieBreakName(param[0]),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(param[1]).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney.tieBreaks;\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks.filter((function (tbId) {\n                    return defaultId(id) !== tbId;\n                  })),\n            roundList: tourney.roundList\n          });\n      return Curry._1(setSelectedTb, (function (param) {\n                    return ;\n                  }));\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks.concat(/* array */[defaultId(id)]),\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb !== undefined) {\n      var index = tieBreaks.indexOf(selectedTb);\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: Utils$Coronate.$$Array.swap(tourney.tieBreaks, index, index + direction | 0),\n                  roundList: tourney.roundList\n                });\n    } else {\n      return /* () */0;\n    }\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            return ;\n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(tieBreaks, (function (tieBreak) {\n                                var tmp;\n                                if (selectedTb !== undefined) {\n                                  var match = selectedTb === tieBreak;\n                                  tmp = match ? \"Done\" : \"Edit\";\n                                } else {\n                                  tmp = \"Edit\";\n                                }\n                                return React.createElement(\"tr\", {\n                                            key: Data_Tournament$Coronate.tieBreakToString(tieBreak),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === tieBreak),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Data_Tournament$Coronate.mapTieBreakName(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          var match = selectedTb === tieBreak;\n                                                          if (match) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return ;\n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, tmp)));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(/* array */[\n                              /* Median */0,\n                              /* Solkoff */1,\n                              /* Cumulative */2,\n                              /* CumulativeOfOpposition */3,\n                              /* MostBlack */4\n                            ], (function (tieBreak) {\n                                var match = tieBreaks.includes(tieBreak);\n                                var match$1 = tieBreaks.includes(tieBreak);\n                                return React.createElement(\"tr\", {\n                                            key: Data_Tournament$Coronate.tieBreakToString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: match ? \"disabled\" : \"enabled\"\n                                                  }, Data_Tournament$Coronate.mapTieBreakName(tieBreak))), React.createElement(\"td\", undefined, match$1 ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nvar SelectTieBreaks = {\n  make: PageTourneyScores$SelectTieBreaks\n};\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament.setTourney\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (player1Id === player2Id) {\n    return React.createElement(ReactFeather.X, {\n                className: \"disabled\"\n              });\n  } else {\n    var match = Belt_MapString.get(scoreData, player1Id);\n    if (match !== undefined) {\n      var match$1 = Belt_MapString.get(match.opponentResults, player2Id);\n      if (match$1 !== undefined) {\n        return Numeral.default(match$1).format(\"1/2\");\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_MapString.getExn(scoreData, playerId).firstRating;\n  var match = Belt_MapString.getExn(scoreData, playerId).ratings;\n  var lastRating = match ? match[0] : firstRating;\n  var change = Numeral.default(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ])\n                }, lastRating.toString()), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number body-10\",\n                          /* [] */0\n                        ]\n                      ])\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var getPlayer = tournament.getPlayer;\n  var scoreData = Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0));\n  var standings = Scoring$Coronate.createStandingList(scoreData, tourney.tieBreaks);\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(scoreData, standing.id, opponent.id));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing.score).format(\"1/2\")), getRatingChangeTds(scoreData, standing.id));\n                      }))));\n}\n\nvar Crosstable = {\n  getXScore: getXScore,\n  getRatingChangeTds: getRatingChangeTds,\n  make: PageTourneyScores$Crosstable\n};\n\nvar make = PageTourneyScores;\n\nexport {\n  Style ,\n  ScoreTable ,\n  SelectTieBreaks ,\n  make ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney.roundList);\n  var lastRound = Data_Rounds$Coronate.get(tourney.roundList, lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = Caml_option.valFromOption(lastRound);\n    tmp = Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: Data_Rounds$Coronate.Round.toArray(matches),\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: tmp\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament.isNewRoundReady ? (\n      tournament.isItOver ? /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", Data_Rounds$Coronate.size(tournament.tourney.roundList).toString(), React.createElement(\"small\", undefined, \" out of \"), tournament.roundCount.toString()), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Registered players: \", Belt_MapString.size(tournament.activePlayers).toString()));\n}\n\nvar Footer = {\n  make: PageTourney$Footer\n};\n\nfunction footerFunc(tournament, param) {\n  return React.createElement(PageTourney$Footer, {\n              tournament: tournament\n            });\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var isItOver = tournament.isItOver;\n  var activePlayers = tournament.activePlayers;\n  var basePath = \"/tourneys/\" + tourney.id;\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    } else {\n      return 0;\n    }\n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (window.confirm(\"Are you sure you want to delete the last round?\")) {\n      ReasonReactRouter.push(\"#/tourneys/\" + tourney.id);\n      var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n      var match = Data_Rounds$Coronate.get(roundList, lastRoundId);\n      if (match !== undefined) {\n        Belt_Array.forEach(Data_Rounds$Coronate.Round.toArray(Caml_option.valFromOption(match)), (function (match_) {\n                if (match_.result >= 3) {\n                  return /* () */0;\n                } else {\n                  return Belt_List.forEach(/* :: */[\n                              /* tuple */[\n                                match_.whiteId,\n                                match_.whiteOrigRating\n                              ],\n                              /* :: */[\n                                /* tuple */[\n                                  match_.blackId,\n                                  match_.blackOrigRating\n                                ],\n                                /* [] */0\n                              ]\n                            ], (function (param) {\n                                var match = Belt_MapString.get(players, param[0]);\n                                if (match !== undefined) {\n                                  var player = match;\n                                  var matchCount = player.matchCount - 1 | 0;\n                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                player.id,\n                                                {\n                                                  firstName: player.firstName,\n                                                  id: player.id,\n                                                  lastName: player.lastName,\n                                                  matchCount: matchCount,\n                                                  rating: param[1],\n                                                  type_: player.type_\n                                                }\n                                              ]));\n                                } else {\n                                  return /* () */0;\n                                }\n                              }));\n                }\n              }));\n      }\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks,\n            roundList: Data_Rounds$Coronate.delLastRound(roundList)\n          });\n      if (Data_Rounds$Coronate.size(roundList) === 0) {\n        return Curry._1(setTourney, {\n                    id: tourney.id,\n                    name: tourney.name,\n                    date: tourney.date,\n                    playerIds: tourney.playerIds,\n                    byeQueue: tourney.byeQueue,\n                    tieBreaks: tourney.tieBreaks,\n                    roundList: Data_Rounds$Coronate.addRound(roundList)\n                  });\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: \"/tourneys\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/setup\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/status\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/crosstable\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/scores\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, Belt_Array.mapWithIndex(Data_Rounds$Coronate.toArray(roundList), (function (id, param) {\n                            var match = Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id);\n                            return React.createElement(\"li\", {\n                                        key: id.toString()\n                                      }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                            children: null,\n                                            to_: basePath + (\"/round/\" + id.toString()),\n                                            onDragStart: noDraggy\n                                          }, (id + 1 | 0).toString(), match ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament.isNewRoundReady,\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: Data_Rounds$Coronate.size(roundList) === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nvar Sidebar = {\n  make: PageTourney$Sidebar\n};\n\nfunction sidebarFunc(tournament, param) {\n  return React.createElement(PageTourney$Sidebar, {\n              tournament: tournament\n            });\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var hashPath = Props.hashPath;\n  var windowDispatch = Props.windowDispatch;\n  return React.createElement(LoadTournament$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  var exit = 0;\n                  if (hashPath) {\n                    switch (hashPath[0]) {\n                      case \"\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"crosstable\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"round\" :\n                          var match = hashPath[1];\n                          if (match && !match[1]) {\n                            tmp = React.createElement(PageRound$Coronate.make, {\n                                  roundId: Caml_format.caml_int_of_string(match[0]),\n                                  tournament: tournament\n                                });\n                          } else {\n                            exit = 1;\n                          }\n                          break;\n                      case \"scores\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"setup\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"status\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      default:\n                        exit = 1;\n                    }\n                  } else {\n                    exit = 1;\n                  }\n                  if (exit === 1) {\n                    tmp = React.createElement(Pages$Coronate.NotFound.make, { });\n                  }\n                  return React.createElement(Window$Coronate.Body.make, {\n                              children: tmp,\n                              footerFunc: (function (param) {\n                                  return footerFunc(tournament, param);\n                                }),\n                              sidebarFunc: (function (param) {\n                                  return sidebarFunc(tournament, param);\n                                })\n                            });\n                }),\n              tourneyId: tourneyId,\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  Footer ,\n  footerFunc ,\n  noDraggy ,\n  Sidebar ,\n  sidebarFunc ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar dateSort = /* GetDate */Block.__(3, [(function (x) {\n        return x.date;\n      })]);\n\nvar nameSort = /* GetString */Block.__(0, [(function (x) {\n        return x.name;\n      })]);\n\nfunction PageTournamentList(Props) {\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var dispatch = match[1];\n  var tourneys = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(tourneys)]));\n          return ;\n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Utils$Coronate.nanoid(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            {\n              id: id,\n              name: newTourneyName,\n              date: new Date(),\n              playerIds: /* [] */0,\n              byeQueue: /* array */[],\n              tieBreaks: /* array */[\n                /* Median */0,\n                /* Solkoff */1,\n                /* Cumulative */2,\n                /* CumulativeOfOpposition */3\n              ],\n              roundList: Data_Rounds$Coronate.empty\n            }\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(setIsDialogOpen, (function (param) {\n                  return false;\n                }));\n  };\n  var match$4 = Belt_MapString.isEmpty(tourneys);\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), match$4 ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, Belt_Array.map(sorted.table, (function (t) {\n                                    return React.createElement(\"tr\", {\n                                                key: t.id,\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                                        children: t.name,\n                                                        to_: \"/tourneys/\" + t.id\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: t.date\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + t.name,\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + t.name,\n                                                        onClick: (function (param) {\n                                                            var id = t.id;\n                                                            var name = t.name;\n                                                            var message = \"Are you sure you want to delete “\" + (String(name) + \"”?\");\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, /* Del */Block.__(0, [id]));\n                                                            } else {\n                                                              return 0;\n                                                            }\n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        ariaLabel: \"Create new tournament\",\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  dateSort ,\n  nameSort ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nimport \"./styles\"\n;\n\nfunction Index$App(Props) {\n  var url = ReasonReactRouter.useUrl(undefined, /* () */0);\n  return React.createElement(Window$Coronate.make, {\n              children: (function (windowDispatch) {\n                  var match = Utils$Coronate.Router.hashPath(url.hash);\n                  var tmp;\n                  var exit = 0;\n                  if (match) {\n                    switch (match[0]) {\n                      case \"\" :\n                          if (match[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(Pages$Coronate.Splash.make, { });\n                          }\n                          break;\n                      case \"options\" :\n                          if (match[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageOptions$Coronate.make, {\n                                  windowDispatch: windowDispatch\n                                });\n                          }\n                          break;\n                      case \"players\" :\n                          var match$1 = match[1];\n                          if (match$1) {\n                            if (match$1[1]) {\n                              exit = 1;\n                            } else {\n                              tmp = React.createElement(PagePlayers$Coronate.make, {\n                                    id: match$1[0],\n                                    windowDispatch: windowDispatch\n                                  });\n                            }\n                          } else {\n                            tmp = React.createElement(PagePlayers$Coronate.make, {\n                                  windowDispatch: windowDispatch\n                                });\n                          }\n                          break;\n                      case \"timecalc\" :\n                          if (match[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(Pages$Coronate.TimeCalculator.make, { });\n                          }\n                          break;\n                      case \"tourneys\" :\n                          var match$2 = match[1];\n                          if (match$2) {\n                            var hashPath = match$2[1];\n                            var tourneyId = match$2[0];\n                            tmp = hashPath ? React.createElement(PageTourney$Coronate.make, {\n                                    tourneyId: tourneyId,\n                                    hashPath: hashPath,\n                                    windowDispatch: windowDispatch\n                                  }) : React.createElement(PageTourney$Coronate.make, {\n                                    tourneyId: tourneyId,\n                                    hashPath: /* :: */[\n                                      \"\",\n                                      /* [] */0\n                                    ],\n                                    windowDispatch: windowDispatch\n                                  });\n                          } else {\n                            tmp = React.createElement(PageTournamentList$Coronate.make, {\n                                  windowDispatch: windowDispatch\n                                });\n                          }\n                          break;\n                      default:\n                        exit = 1;\n                    }\n                  } else {\n                    exit = 1;\n                  }\n                  if (exit === 1) {\n                    tmp = React.createElement(Window$Coronate.Body.make, {\n                          children: React.createElement(Pages$Coronate.NotFound.make, { })\n                        });\n                  }\n                  return React.createElement(\"main\", {\n                              className: \"app__main\"\n                            }, tmp);\n                }),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: Index$App\n};\n\nReactDOMRe.renderToElementWithId(React.createElement(Index$App, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  return /* () */0;\n}\n\nvar ServiceWorker$1 = {\n  unregister: unregister\n};\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}