{"version":3,"sources":["chess-tourney/player.js","chess-tourney/match.js","chess-tourney/roster.js","chess-tourney/config.js","chess-tourney/scores.js","chess-tourney/pairing.js","chess-tourney/round.js","chess-tourney/tournament.js","chess-tourney.jsx.js","App.jsx.js","serviceWorker.js","index.js"],"names":["createPlayer","firstName","lastName","arguments","length","undefined","rating","player","dummy","Ne","eloRank","tourney","m","getMatchesByPlayer","K","EloRank","hasHadBye","getPlayersByOpponent","includes","dummyPlayer","Object","assign","freeze","calcRatings","match","whiteElo","players","blackElo","scoreExpected","getExpected","origRating","newRating","updateRating","result","map","round","white","black","warnings","ideal","reverse","blackWon","whiteWon","draw","resetResult","toConsumableArray","isComplete","isBye","getColorInfo","color","getPlayerColor","indexOf","getPlayerInfo","getWhite","getBlack","roster","all","inactive","getActive","filter","i","addPlayer","push","addPlayers","concat","deactivatePlayer","activatePlayer","splice","removePlayer","config","tieBreak","forEach","method","func","scores","funcName","playerScoreList","roundId","playerScore","score","scoreList","reduce","a","b","playerScoreCum","runningScore","cumScores","playerScoreListNoByes","totalScore","playerColorBalance","modifiedMedian","solkoff","opponent","sort","pop","shift","finalScore","playerOppScoreCum","oppScores","p","calcStandings","tieBreaks","active","standingsFlat","standing","name","sortFunc","firstBy","thenBy","standingsTree","runningRank","sf","player1","player2","scoreTypes","getOwnPropertyNames","areEqual","areScoresEqual","avoidMeetingTwicePriority","sameScoresPriority","differentHalfPriority","differentDueColorPriority","maxPriority","byeMatch","byePlayerData","potentialMatches","matches","reducedResults","dueColor","prevRound","playerColor","playerData","id","colorBalance","opponentHistory","upperHalf","Array","from","Set","last","createMatch","playersWithScore","pd","chunk","playerDatum","allMatches","ignore","src","playerMatches","scoreDiff","priority","Math","abs","ceil","blossom","p1Id","p2Id","p1","p2","pair","matched","roundList","getMatchByPlayer","theMatch","hasDummy","pairPlayers","playerList","byeValue","isNewRoundReady","times","getNumOfRounds","log2","newRound","createRound","createRoster","MainRoster","_ref","_useState","useState","_useState2","slicedToArray","setRoster","newPlayer","updateField","event","target","value","rosterTable","react_default","createElement","key","className","onClick","demoRoster","slice","onSubmit","preventDefault","type","onChange","required","Round","_ref2","_useState3","o","_useState4","setMatches","setWinner","index","origMatch","checked","RoundMatch","matchId","style","textAlign","rando","random","Standings","_ref3","_useState5","_useState6","openCards","setCards","isCardOpen","disabled","PlayerCard","newCards","togglePlayerCard","_ref4","ratingChange","numeral","format","_ref5","rank","j","cvlTourney","createTournament","Boolean","window","location","hostname","ReactDOM","render","contents","tabList","setTabList","currentTab","setCurrentTab","tab","alert","document","getElementById","role","aria-label","href","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ff0270c8.chunk.js","sourcesContent":["import EloRank from \"elo-rank\";\n\n/**\n * Represents an indivudal player. Call it with `createPlayer(\"John\", ...)` or\n * `createPlayer({firstName: \"John\", ...})`. The latter is convenient for\n * converting JSON objects.\n * @param {object} firstName Either the person's first name or an object\n * containing all the parameters.\n * @param {string} lastName  The person's last name.\n * @param {int}    rating    The person's Elo rating.\n */\nfunction createPlayer(firstName, lastName = \"\", rating = 1200) {\n    const player = {\n        /**\n         * @property {string} firstName The person's first name.\n         */\n        firstName: \"\",\n        /**\n         * @property {string} lastName The person's last name.\n         */\n        lastName: \"\",\n        /**\n         * @property {number} rating The person's Elo rating.\n         */\n        rating: 0,\n        /**\n         * @property {bool} dummy If true, this person won't count in certain\n         * scorings.\n         */\n        dummy: false,\n        /**\n         * @property {number} Ne Number of games the rating is based on.\n         */\n        Ne: 0,\n        /**\n         * Create an Elo calculator with an updated K-factor. See the `elo-rank`\n         * NPM package for more information.\n         * @param {object} tourney The current tournament.\n         * @returns {object} An `EloRank` object.\n         */\n        eloRank(tourney) {\n            const m = tourney.getMatchesByPlayer(player).length;\n            const K = 800 / (player.Ne + m);\n            return new EloRank(K);\n        },\n        /**\n         * Get if a player has had a bye round.\n         * @param {object} tourney The current tournament.\n         * @returns {bool} True if the player has had a bye round, false if not.\n         */\n        hasHadBye(tourney) {\n            return tourney.getPlayersByOpponent(player).includes(dummyPlayer);\n        }\n    };\n    if (typeof firstName === \"object\") {\n        Object.assign(player, firstName);\n    } else {\n        player.firstName = firstName;\n        player.lastName = lastName;\n        player.rating = rating;\n    }\n    return player;\n}\n\n/**\n * A stand-in for bye matches.\n * @constant {Player} dummyPlayer\n */\nconst dummyPlayer = Object.freeze(\n    createPlayer(\n        {\n            firstName: \"Bye\",\n            dummy: true,\n            rating: 0\n        }\n    )\n);\n\nexport {dummyPlayer, createPlayer};\n","import {dummyPlayer} from \"./player\";\n\n/**\n * Update the ratings for a match based on their ratings when the match began\n * and the match result. See the `elo-rank` NPM package for more information.\n * @param {object} match The `match` object.\n * @returns {object} The `match` object.\n */\nfunction calcRatings(match) {\n    let whiteElo = match.players[0].eloRank(match.tourney);\n    let blackElo = match.players[1].eloRank(match.tourney);\n    const FLOOR = 100;\n    let scoreExpected = [\n        whiteElo.getExpected(match.origRating[0], match.origRating[1]),\n        blackElo.getExpected(match.origRating[1], match.origRating[0])\n    ];\n    match.newRating = [\n        whiteElo.updateRating(\n            scoreExpected[0],\n            match.result[0],\n            match.origRating[0]\n        ),\n        blackElo.updateRating(\n            scoreExpected[1],\n            match.result[1],\n            match.origRating[1]\n        )\n    ];\n    match.newRating = match.newRating.map(\n        (rating) => (\n            (rating < FLOOR)\n            ? FLOOR\n            : rating\n        )\n    );\n    match.players[0].rating = match.newRating[0];\n    match.players[1].rating = match.newRating[1];\n    return match;\n}\n\n/**\n * Create an object representing a match in a tournament.\n * @param {object} round The round containing the match.\n * @param {object} black The `player` object for white.\n * @param {object} white The `player` object for black.\n */\nfunction createMatch(round, white, black) {\n    const match = {\n        /**\n         * @property {object} round A link to the round containing this match.\n         */\n        round: round,\n        /**\n         * @property {object} tourney a link to the tournemnt containing this\n         * match.\n         */\n        tourney: round.tourney,\n        /**\n         * @property {string} warnings Any warnings about the match, e.g. if\n         * there was a pairing error.\n         */\n        warnings: \"\",\n        /**\n         * @property {array} players The pair of `Player` objects. White is at\n         * index `0` and black is at index `1`.\n         */\n        players: [white, black],\n        /**\n         * @property {array} result the scores for the match. A loss is `0`, a\n         * win is `1`, and a draw is `0.5`. White is at index `0` and black is\n         * at index `1`.\n         */\n        result: [0, 0],\n        /**\n         * @property {array} origRating the cached ratings from when the match\n         * began. White is at index `0` and black is at index `1`.\n         */\n        origRating: [white.rating, black.rating],\n        /**\n         * @property {array} newRating the updated ratings after the match ends.\n         * White is at index `0` and black is at index `1`.\n         */\n        newRating: [white.rating, black.rating],\n        /**\n         * @property {number} ideal How ideal this matchup was, based on the\n         * maximum matching algorithm.\n         */\n        ideal: 0,\n        /**\n         * Switch white and black.\n         * @returns {object} This `match` object.\n         */\n        reverse() {\n            match.players.reverse();\n            match.result.reverse();\n            match.origRating.reverse();\n            match.newRating.reverse();\n            return match;\n        },\n        /**\n         * Set black as the winner and updates ratings.\n         * @returns {object} This `match` object.\n         */\n        blackWon() {\n            match.result = [0, 1];\n            calcRatings(match);\n            return match;\n        },\n        /**\n         * Set white as the winner and updates ratings.\n         * @returns {object} This `match` object.\n         */\n        whiteWon() {\n            match.result = [1, 0];\n            calcRatings(match);\n            return match;\n        },\n        /**\n         * Set the result as a draw and updates ratings.\n         * @returns {object} This `match` object.\n         */\n        draw() {\n            match.result = [0.5, 0.5];\n            calcRatings(match);\n            return match;\n        },\n        /**\n         * Resets the score and the rating updates.\n         * @returns {object} This `match` object.\n         */\n        resetResult() {\n            match.result = [0, 0];\n            match.newRating = [...match.origRating];\n            match.players[0].rating = match.newRating[0];\n            match.players[1].rating = match.newRating[1];\n            return match;\n        },\n        /**\n         * Get whether or not the match is over.\n         * @returns {bool} `True` if complete, `false` if incomplete.\n         */\n        isComplete() {\n            return match.result[0] + match.result[1] !== 0;\n        },\n        /**\n         * Get whether this is a bye match.\n         * @returns {bool} `True` if it's a bye match, `false` if not.\n         */\n        isBye() {\n            return match.players.includes(dummyPlayer);\n        },\n        /**\n         * Get all of the match data for a specific player color.\n         * @param {number} color `0` for white and `1` for black.\n         * @returns {object} A container for data: the `player` object,\n         * `result`, `origRating`, and `newRating`.\n         */\n        getColorInfo(color) {\n            return {\n                player: match.players[color],\n                result: match.result[color],\n                origRating: match.origRating[color],\n                newRating: match.newRating[color]\n            };\n        },\n        /**\n         * Get the color ID of a player.\n         * @param {object} player A `player` object.\n         * @returns {number} `0` for white, `1` for black, and `-1` if the\n         * player isn't found in the match.\n         */\n        getPlayerColor(player) {\n            return match.players.indexOf(player);\n        },\n        /**\n         * A shortcut for using `match.getPlayerColor()` and\n         * `match.getColorInfo()` together.\n         * @param {object} player A `player` object.\n         * @returns {object} See `matchGetPlayerColor()`.\n         */\n        getPlayerInfo(player) {\n            return match.getColorInfo(match.getPlayerColor(player));\n        },\n        /**\n         * A shortcut for `match.getColorInfo()` for white.\n         * @returns {object} See `match.getColorInfo()`\n         */\n        getWhite() {\n            return match.getColorInfo(0);\n        },\n        /**\n         * A shortcut for `match.getColorInfo()` for black.\n         * @returns {object} See `match.getColorInfo()`\n         */\n        getBlack() {\n            return match.getColorInfo(1);\n        }\n    };\n    // set bye rounds\n    if (match.players[0] === dummyPlayer) {\n        match.result = [0, 1];\n    } else if (match.players[1] === dummyPlayer) {\n        match.result = [1, 0];\n    }\n    return match;\n}\n\nexport default Object.freeze(createMatch);\n","/**\n * Create a roster object which manages a tournament's players.\n * @param {object} tourney The roster's tournament.\n * @param {array}  players A list of player objects.\n * @returns {object} The roster object.\n */\nfunction createRoster(tourney, players = []) {\n    const roster = {\n        /**\n         * @property {object} tourney A link to the tournemnt containing this\n         * match.\n         */\n        tourney: tourney,\n        /**\n         * @param {array} all A list of all of the players.\n         */\n        all: players,\n        /**\n         * @param {array} inactive A list of the players who won't be paired in\n         * future rounds.\n         */\n        inactive: [],\n        /**\n         * Get a list of players to be paired.\n         * @returns {array} A list of the active players.\n         */\n        getActive() {\n            return roster.all.filter((i) => !roster.inactive.includes(i));\n        },\n        /**\n         * Add a player to the roster.\n         * @param {object} player The player object to add.\n         * @returns {object} This roster object.\n         */\n        addPlayer(player) {\n            roster.all.push(player);\n            return roster;\n        },\n        /**\n         * Add a list of players to the roster.\n         * @param {array} players A list of players to add.\n         * @returns {object} This roster object.\n         */\n        addPlayers(players) {\n            roster.all = roster.all.concat(players);\n            return roster;\n        },\n        /**\n         * Remove a player from the active roster. This player won't be placed\n         * in future rounds.\n         * @param {object} player The player object.\n         * @returns {object} This roster object.\n         */\n        deactivatePlayer(player) {\n            roster.inactive.push(player);\n            return roster;\n        },\n        /**\n         * Move an inactive player to the active roster to be placed in future\n         * rounds.\n         * @param {object} player The player object.\n         * @returns {object} This roster object.\n         */\n        activatePlayer(player) {\n            roster.inactive.splice(roster.inactive.indexOf(player), 1);\n            return roster;\n        },\n        /**\n         * Remove a player from the roster completely.\n         * @param {object} player The player object.\n         * @returns {object} This roster object.\n         */\n        removePlayer(player) {\n            if (roster.tourney.getMatchesByPlayer(player).length > 0) {\n                return null; // TODO: add a helpful error message\n            }\n            delete roster.all[roster.all.indexOf(player)];\n            return roster;\n        }\n    };\n    return roster;\n}\n\nexport default Object.freeze(createRoster);","import * as scores from \"./scores\";\nimport config from \"./default-config.json\";\n/**\n * `tieBreak` is Used for tiebreaks. USCF recommends using these methods\n * in-order: modified median, solkoff, cumulative, and cumulative of opposition.\n * */\nconfig.tieBreak.forEach(function (method) {\n    // Dumb question... does assigning functions like this harm security?\n    method.func = scores[method.funcName];\n});\n\nexport default Object.freeze(config);","import {firstBy} from \"thenby\";\nimport config from \"./config\";\nimport {dummyPlayer} from \"./player\";\n/**\n * Get a list of all of a player's scores from each match.\n * @param {Player} player\n * @returns {array} the list of scores\n */\nfunction playerScoreList(tourney, player, roundId = null) {\n    return tourney.getMatchesByPlayer(player, roundId).map(\n        (match) => match.result[match.players.indexOf(player)]\n    );\n}\n\n// Maybe merge this with the other function?\nfunction playerScoreListNoByes(tourney, player, roundId = null) {\n    return tourney.getMatchesByPlayer(\n        player,\n        roundId\n    ).filter(\n        (match) => !match.isBye()\n    ).map(\n        (match) => match.result[match.players.indexOf(player)]\n    );\n}\n\n/**\n * Get the total score of a player after a given round.\n * @param {Player} player\n * @param {number} roundId\n */\nfunction playerScore(tourney, player, roundId = null) {\n    var score = 0;\n    var scoreList = playerScoreList(tourney, player, roundId);\n    if (scoreList.length > 0) {\n        score = scoreList.reduce((a, b) => a + b);\n    }\n    return score;\n}\n\n/**\n * Get the cumulative score of a player\n * @param {Player} player\n * @param {number} roundId\n */\nfunction playerScoreCum(tourney, player, roundId = null) {\n    var runningScore = 0;\n    var cumScores = [];\n    var scores = playerScoreListNoByes(tourney, player, roundId);\n    scores.forEach(function (score) {\n        runningScore += score;\n        cumScores.push(runningScore);\n    });\n    var totalScore = 0;\n    if (cumScores.length !== 0) {\n        totalScore = cumScores.reduce((a, b) => a + b);\n    }\n    return totalScore;\n}\n\n/**\n * Calculate a player's color balance\n * @param {Player} player\n * @param {Int}    round The ID of the highest round to consider\n * @returns {Int} A negative number means they played as black more. A positive\n * number means they played as white more.\n */\nfunction playerColorBalance(tourney, player, roundId = null) {\n    var color = 0;\n    tourney.getMatchesByPlayer(player, roundId).filter(\n        (match) => !match.isBye()\n    ).forEach(\n        function (match) {\n            if (match.players[0] === player) {\n                color += 1;\n            } else if (match.players[1] === player) {\n                color += -1;\n            }\n        }\n    );\n    return color;\n}\n\n/**\n * Gets the modified median factor defined in USCF § 34E1\n * @param {Player} player\n * @param {number} roundId\n */\nfunction modifiedMedian(tourney, player, roundId = null, solkoff = false) {\n    // get all of the opponent's scores\n    var scores = tourney.getPlayersByOpponent(\n        player,\n        roundId\n    ).filter(\n        (opponent) => opponent !== dummyPlayer\n    ).map(\n        (opponent) => playerScore(tourney, opponent, roundId)\n    );\n    //sort them, then remove the first and last items\n    scores.sort();\n    if (!solkoff) {\n        scores.pop();\n        scores.shift();\n    }\n    var finalScore = 0;\n    if (scores.length > 0) {\n        finalScore = scores.reduce((a, b) => a + b);\n    }\n    return finalScore;\n}\n\n/**\n * A shortcut for passing the `solkoff` variable to `modifiedMedian`.\n * @param {Player} player\n * @param {number} roundId\n */\nfunction solkoff(tourney, player, roundId = null) {\n    return modifiedMedian(tourney, player, roundId, true);\n}\n\nfunction playerOppScoreCum(tourney, player, roundId = null) {\n    const opponents = tourney.getPlayersByOpponent(\n        player,\n        roundId\n    ).filter(\n        (opponent) => opponent !== dummyPlayer\n    );\n    var oppScores = opponents.map((p) => playerScoreCum(tourney, p, roundId));\n    var score = 0;\n    if (oppScores.length !== 0) {\n        score = oppScores.reduce((a, b) => a + b);\n    }\n    return score;\n}\n\nfunction areScoresEqual(player1, player2) {\n    const scoreTypes = Object.getOwnPropertyNames(player1);\n    var areEqual = true;\n    scoreTypes.forEach(function (score) {\n        if (score !== \"player\" && player1[score] !== player2[score]) {\n            areEqual = false;\n        }\n    });\n    return areEqual;\n}\n\n/**\n * Sort the standings by score, see USCF tie-break rules from § 34.\n * @param {number} roundId\n * @returns {Array} The sorted list of players\n */\nfunction calcStandings(tourney, roundId = null) {\n    const tieBreaks = config.tieBreak.filter((m) => m.active);\n    const standingsFlat = tourney.roster.all.map(function (player) {\n        var standing = {\n            player: player,\n            score: playerScore(tourney, player, roundId)\n        };\n        tieBreaks.forEach(function (method) {\n            standing[method.func.name] = method.func(tourney, player, roundId);\n        });\n        return standing;\n    });\n    var sortFunc = firstBy((player) => player.score, -1);\n    tieBreaks.forEach(function (method) {\n        sortFunc = sortFunc.thenBy((player) => player[method.func.name], -1);\n    });\n    standingsFlat.sort(sortFunc);\n    const standingsTree = [];\n    var runningRank = 0;\n    standingsFlat.forEach(function (player, i, sf) {\n        if (i !== 0) { // we can't compare the first player with a previous one\n            const prevPlayer = sf[i - 1];\n            if (!areScoresEqual(player, prevPlayer)) {\n                runningRank += 1;\n            }\n        }\n        if (!standingsTree[runningRank]) {\n            standingsTree[runningRank] = [];\n        }\n        standingsTree[runningRank].push(player);\n    });\n    return standingsTree;\n}\n\nexport {\n    calcStandings,\n    modifiedMedian,\n    playerColorBalance,\n    playerOppScoreCum,\n    playerScore,\n    playerScoreCum,\n    playerScoreList,\n    solkoff\n};\n","import {firstBy} from \"thenby\";\nimport {chunk, last} from \"lodash\";\nimport blossom from \"edmonds-blossom\";\nimport createMatch from \"./match\";\nimport {playerColorBalance, playerScore} from \"./scores\";\nimport {dummyPlayer} from \"./player\";\n\n/**\n * TODO: These probably need to be tweaked a lot.\n */\n/**\n * @constant avoidMeetingTwicePriority The weight given to avoid players\n * meeting twice. This is the highest priority. (USCF § 27A1)\n */\nconst avoidMeetingTwicePriority = 32;\n/**\n * @constant sameScoresPriority The weight given to match players with\n * equal scores. This gets muliplied against a ratio taken from the distance\n * between each player's score. For example, if the tournament has players\n * scoring 0, 1, 2, and 3, and if a player scoring 1 gets compared with a\n * player scoring 3, then their `sameScoresPriority` will be reduced by 50%.\n * (`(3 - 1) / 4 = 0.5`) (USCF § 27A2)\n */\nconst sameScoresPriority = 16;\n/**\n * @constant differentHalfPriority The weight given to match players in lower\n * versus upper halves. This is only applied to players being matched within\n * the same score group. (USCF § 27A3)\n */\nconst differentHalfPriority = 4;\n/**\n * @constant differentDueColorPriority The weight given to match players with\n * opposite due colors. (USCF § 27A4 and § 27A5)\n */\nconst differentDueColorPriority = 2;\n\nconst maxPriority = (\n    avoidMeetingTwicePriority\n    + sameScoresPriority\n    + differentHalfPriority\n    + differentDueColorPriority\n);\n\n/**\n * Creates pairings according to the rules specified in USCF § 27, § 28,\n * and § 29. This is a work in progress and does not account for all of the\n * rules yet.\n * @param {object} round The round object.\n * @returns {array} The list of matches.\n */\nfunction pairPlayers(round) {\n    var byeMatch;\n    var byePlayerData;\n    var potentialMatches;\n    var matches;\n    var results;\n    var reducedResults;\n    const tourney = round.tourney;\n    const dueColor = function (player) {\n        if (round.prevRound === undefined) {\n            return null;\n        }\n        var color = 0;\n        var prevColor = round.prevRound.playerColor(player);\n        if (prevColor === 0) {\n            color = 1;\n        }\n        return color;\n    };\n    var playerData = round.roster.map(function (player, id) {\n        return {\n            player: player,\n            id: id,\n            score: playerScore(tourney, player, round.id),\n            dueColor: dueColor(player),\n            colorBalance: playerColorBalance(tourney, player),\n            opponentHistory: tourney.getPlayersByOpponent(player),\n            upperHalf: false\n        };\n    });\n    const scoreList = Array.from(new Set(playerData.map((p) => p.score)));\n    scoreList.sort();\n    // Sort the data so matchups default to order by score and rating.\n    playerData.sort(\n        firstBy((p) => p.score, -1).thenBy((p) => p.player.rating, -1)\n    );\n    /**\n     * Create an array of blossom-compatible weighted matchups. This returns\n     * an array of each potential match, formatted like so: [idOfPlayer1,\n     * idOfPlayer2, priority]. A higher priority means a more likely matchup.\n     * Use it in `Array.prototype.reduce()`.\n     * @param {array} allMatches The running list of all possible matchups.\n     * @param {object} player1 The data for the first player.\n     * @param {number} ignore The index of the player.\n     * @param {array} src The original array.\n     */\n    const matchupReducer = function (allMatches, player1, ignore, src) {\n        var opponents = src.filter((p) => p !== player1);\n        var playerMatches = opponents.map(function (player2) {\n            var priority = 0;\n            var scoreDiff;\n            if (!player1.opponentHistory.includes(player2.player)) {\n                priority += avoidMeetingTwicePriority;\n            }\n            // Calculate the \"distance\" between their scores and multiply that\n            // against the `sameScoresPriority` constant.\n            scoreDiff = Math.abs(\n                scoreList.indexOf(player1.score)\n                - scoreList.indexOf(player2.score)\n            );\n            scoreDiff = (scoreList.length - scoreDiff) / scoreList.length;\n            priority += sameScoresPriority * scoreDiff;\n            // Only include `differentHalfPriority` if they're in the same\n            // score group.\n            if (player1.score === player2.score) {\n                if (player1.upperHalf !== player2.upperHalf) {\n                    priority += differentHalfPriority;\n                }\n            }\n            if (player1.dueColor === null) {\n                priority += differentDueColorPriority;\n            } else if (player1.dueColor !== player2.dueColor) {\n                priority += differentDueColorPriority;\n            }\n            return [player1.id, player2.id, Math.ceil(priority)];\n        });\n        allMatches = allMatches.concat(playerMatches);\n        return allMatches;\n    };\n\n    // If there's an odd number of players, assign a bye to the lowest-rated\n    // player in the lowest score group. (USCF § 29L2.)\n    if (playerData.length % 2 !== 0) {\n        byePlayerData = last(\n            playerData.filter(\n                (p) => !p.player.hasHadBye(tourney)\n            )\n        );\n        // In the impossible situation that *everyone* has played a bye round\n        // previously, then just pick the last player.\n        if (!byePlayerData) {\n            byePlayerData = last(playerData);\n        }\n        byeMatch = createMatch(round, byePlayerData.player, dummyPlayer);\n        // Remove the bye'd player from the list so they won't be matched again.\n        playerData = playerData.filter((p) => p !== byePlayerData);\n    }\n    // Determine which players are in the upper and lower halves of their score\n    // groups.\n    scoreList.forEach(function (score) {\n        var playersWithScore = playerData.filter((pd) => pd.score === score);\n        playersWithScore.sort((pd) => pd.player.rating).reverse();\n        if (playersWithScore.length > 1) {\n            // The first chunk is the upper half\n            chunk(\n                playersWithScore,\n                playersWithScore.length / 2\n            )[0].forEach(function (playerDatum) {\n                playerDatum.upperHalf = true;\n            });\n        }\n    });\n    // Run the reducer. See `matchupReducer()` for info.\n    potentialMatches = playerData.reduce(matchupReducer, []);\n    // Feed all of the potential matches to Edmonds-blossom and let the\n    // algorithm work its magic. This returns an array where each index is the\n    // ID of one player and each value is the ID of the matched player.\n    results = blossom(potentialMatches);\n    // Translate those IDs into actual pairs of players.\n    reducedResults = results.reduce(\n        function (matches, p1Id, p2Id) {\n            // Filter out unmatched players. (Even though we removed the byes\n            // from the list, blossom will automatically include their missing\n            // IDs in its results.)\n            if (p1Id !== -1) {\n                var p1 = playerData.filter((p) => p.id === p1Id)[0];\n                var p2 = playerData.filter((p) => p.id === p2Id)[0];\n                var ideal = potentialMatches.filter(\n                    (pair) => pair[0] === p1Id && pair[1] === p2Id\n                )[0][2];\n                var matched = matches.map((pair) => pair[0]);\n                // var matched = matches.map((pair) => pair[0]);\n                // Blossom returns a lot of redundant matches. Check that this\n                // matchup wasn't already added.\n                if (!matched.includes(p1) && !matched.includes(p2)) {\n                    matches.push([p1, p2, ideal]);\n                }\n            }\n            return matches;\n        },\n        []\n    );\n    // Sort by net score and rating for board placement.\n    reducedResults.sort(\n        firstBy(\n            (pair) => pair[0].score + pair[1].score,\n            -1\n        ).thenBy(\n            (pair) => pair[0].rating + pair[1].rating,\n            -1\n        )\n    );\n    // Turn the results into new match objects.\n    matches = reducedResults.map(\n        function (pair) {\n            const player1 = pair[0];\n            const player2 = pair[1];\n            const ideal = pair[2];\n            const match = createMatch(round, player1.player, player2.player);\n            match.ideal = ideal / maxPriority;\n            // A quick-and-easy way to keep colors mostly equal.\n            if (player1.colorBalance > player2.colorBalance) {\n                match.reverse();\n            }\n            // When the match isn't ideal, include a warning.\n            if (player1.opponentHistory.includes(player2.player)) {\n                match.warnings += (\n                    \" \" + player1.player.firstName\n                    + \" and \" + player2.player.firstName\n                    + \" have played previously.\"\n                );\n            }\n            [player1, player2].forEach(function (player) {\n                if (Math.abs(player.colorBalance) > 2) {\n                    match.warnings += (\n                        \" \" + player.player.firstName\n                        + \"'s color balance is off\"\n                    );\n                }\n            });\n            return match;\n        }\n    );\n    // The bye match always gets added last so as not to affect the numbering.\n    if (byeMatch) {\n        matches.push(byeMatch);\n    }\n    return matches;\n}\n\nexport default Object.freeze(pairPlayers);","import {dummyPlayer} from \"./player\";\nimport {last} from \"lodash\";\nimport pairPlayers from \"./pairing\";\n\n/**\n * Create an object to represent a round in a tournament.\n * @param {object} tourney The tournament containing the round.\n */\nfunction createRound(tourney) {\n    const round = {\n        id: tourney.roundList.length,\n        tourney: tourney,\n        roster: tourney.roster.getActive(),\n        prevRound: last(tourney.roundList),\n        matches: [],\n        isComplete() {\n            return !round.matches.map((m) => m.isComplete()).includes(false);\n        },\n        getMatchByPlayer(player) {\n            var theMatch = null;\n            round.matches.forEach(function (match) {\n                if (match.players.includes(player)) {\n                    theMatch = match;\n                }\n            });\n            return theMatch;\n        },\n        playerColor(player) {\n            var color = -1;\n            const match = round.getMatchByPlayer(player);\n            if (match) {\n                color = match.getPlayerColor(player);\n            }\n            return color;\n        },\n        addPlayer(player) {\n            round.players.push(player);\n            return round;\n        },\n        hasDummy() {\n            return round.roster.includes(dummyPlayer);\n        }\n    };\n    round.matches = pairPlayers(round);\n    return round;\n}\n\nexport default Object.freeze(createRound);","import createRoster from \"./roster\";\nimport createRound from \"./round\";\nimport {last, times} from \"lodash\";\n\nfunction createTournament(name = \"\", playerList = []) {\n    const tourney = {\n        name: name,\n        roundList: [],\n        byeValue: 1,\n        isNewRoundReady() {\n            var isReady = false;\n            if (tourney.roundList.length > 0) {\n                isReady = last(tourney.roundList).isComplete();\n            } else {\n                isReady = (tourney.roster.all.length > 0);\n            }\n            return isReady;\n        },\n        getMatchesByPlayer(player, roundId = null) {\n            if (roundId === null) {\n                roundId = tourney.roundList.length;\n            }\n            var matches = [];\n            times(roundId + 1, function (i) {\n                if (tourney.roundList[i] !== undefined) {\n                    tourney.roundList[i].matches.forEach(function (match) {\n                        if (match.players.indexOf(player) !== -1) {\n                            matches.push(match);\n                        }\n                    });\n                }\n            });\n            return matches;\n        },\n        getPlayersByOpponent(opponent, roundId = null) {\n            var players = [];\n            tourney.getMatchesByPlayer(opponent, roundId).forEach(\n                function (match) {\n                    players = players.concat(\n                        match.players.filter(\n                            (player) => player !== opponent\n                        )\n                    );\n                }\n            );\n            return players;\n        },\n        getNumOfRounds() {\n            var roundId = Math.ceil(\n                Math.log2(tourney.roster.getActive().length)\n            );\n            if (roundId === -Infinity) {\n                roundId = 0;\n            }\n            return roundId;\n        },\n        newRound() {\n            if (!tourney.isNewRoundReady()) {\n                return false;\n            }\n            var newRound = createRound(tourney);\n            tourney.roundList.push(newRound);\n            return newRound;\n        }\n    };\n    tourney.roster = createRoster(tourney, playerList);\n    return tourney;\n}\n\nexport default Object.freeze(createTournament);\n","import React, {useState} from \"react\";\nimport numeral from \"numeral\";\nimport {createPlayer, scores, config} from \"./chess-tourney\";\nimport demoRoster from \"./demo-players.json\";\n\nfunction MainRoster({tourney}) {\n    const [roster, setRoster] = useState(tourney.roster.all);\n    const newPlayer = {firstName: \"\", lastName: \"\", rating: 1200};\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        tourney.roster.addPlayer(\n            createPlayer(\n                newPlayer[\"firstName\"],\n                newPlayer[\"lastName\"],\n                newPlayer[\"rating\"]\n            )\n        );\n        setRoster([].concat(tourney.roster.all));\n    };\n    const updateField = (event) => {\n        newPlayer[event.target.name] = event.target.value;\n    };\n    const loadDemo = () => {\n        var players = demoRoster.slice(0,16).map(p => createPlayer(p));\n        tourney.roster.addPlayers(players);\n        setRoster([].concat(tourney.roster.all));\n    }\n    const deactivatePlayer = (player) => {\n        var removed = tourney.roster.removePlayer(player);\n        if (!removed) {\n            tourney.roster.deactivatePlayer(player);\n        }\n        setRoster([].concat(tourney.roster.all));\n    }\n    const activatePlayer = (player) => {\n        tourney.roster.activatePlayer(player);\n        setRoster([].concat(tourney.roster.all));\n    }\n    var rosterTable = \"\";\n    if (roster.length > 0) {\n        rosterTable = \n        <table>\n            <caption>Roster</caption>\n            <thead>\n                <tr>\n                <th>First name</th>\n                <th>Rating</th>\n                <th>Rounds played</th>\n                <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                { roster.map((player, i) =>\n                <tr key={i} \n                    className={tourney.roster.inactive.includes(player) ? \"inactive\" : \"active\"}>\n                    <td className=\"table__player\">{player.firstName}</td>\n                    <td className=\"table__number\">{player.rating}</td>\n                    <td className=\"table__number\">\n                    {tourney.getMatchesByPlayer(player).length}\n                    </td>\n                    <td>\n                    {tourney.roster.inactive.includes(player)\n                    ? <button onClick={() => activatePlayer(player)}>Activate</button>\n                    : <button onClick={() => deactivatePlayer(player)}>x</button>\n                    }\n                    </td>\n                </tr>\n                )}\n            </tbody>\n        </table>\n    }\n    return (\n        <div className=\"roster\">\n            {rosterTable}\n            <p>\n                <button onClick={loadDemo}>Load a demo roster</button>\n            </p>\n            <p>\n                Or add your own players:\n            </p>\n            <form onSubmit={handleSubmit}>\n                <p>\n                    <label>\n                    First name&nbsp;\n                    <input type=\"text\" name=\"firstName\" onChange={updateField} required />\n                    </label>\n                </p>\n                <p>\n                    <label>\n                    Last name&nbsp;\n                    <input type=\"text\" name=\"lastName\" onChange={updateField} required />\n                    </label>\n                </p>\n                <p>\n                    <label>\n                    Rating&nbsp;\n                    <input type=\"number\" name=\"rating\" onChange={updateField} value=\"1200\" />\n                    </label>\n                </p>\n                <input type=\"submit\" value=\"Add\"/>\n            </form>\n            <p className=\"center\">Total rounds: {tourney.getNumOfRounds()}</p>\n        </div>\n    );\n}\n\nfunction Round ({tourney, roundId}) {\n    /**\n     * Be careful when using the `setState` `matches` and the API\"s `matches`.\n     * They have to mirror each other but can\"t be the same objects.\n     */\n    const round = tourney.roundList[roundId];\n    const [matches, setMatches] = useState(round.matches.map(o => Object.assign({}, o)));\n    const setWinner = (color, index, event) => {\n        let origMatch = round.matches[index];\n        if(event.target.checked) {\n            if(color === 0) {\n                origMatch.whiteWon();\n            } else if (color === 1) {\n                origMatch.blackWon();\n            } else if (color === 0.5) {\n                origMatch.draw();\n            }\n        } else {\n            origMatch.resetResult();\n        }\n        // matches[index] = match;\n        setMatches(round.matches.map(o => Object.assign({}, o)));\n    }\n    const randomize = () => {\n        matches.forEach((match, i) => {\n            let origMatch = round.matches[i];\n            if (origMatch.isBye()) {\n                return;\n            }\n            let rando = Math.random();\n            if (rando >= 0.55) {\n                origMatch.whiteWon();\n            } else if (rando >= .1) {\n                origMatch.blackWon();\n            } else {\n                origMatch.draw();\n            }\n        });\n        setMatches(round.matches.map(o => Object.assign({}, o)));\n    }\n    return (\n        <div className=\"round\">\n            <table className=\"table__roster\">\n                <caption>Round {round.id + 1} results</caption>\n                <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Won</th>\n                    <th>White</th>\n                    <th>Draw</th>\n                    <th>Black</th>\n                    <th>Won</th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                {matches.map((match, i) =>\n                    <RoundMatch\n                        key={i}\n                        tourney={tourney}\n                        roundId={roundId}\n                        matchId={i}\n                        setWinner={setWinner} />\n                )}\n                </tbody>\n            </table>\n            <p style={{textAlign: \"center\"}}>\n                <button onClick={randomize}>Random!</button>\n            </p>\n            <Standings roundId={round.id} tourney={round.tourney} />\n        </div>\n    );\n}\n\nfunction RoundMatch({tourney, roundId, matchId, setWinner}) {\n    const round = tourney.roundList[roundId];\n    const match = round.matches[matchId];\n    const [openCards, setCards] = useState([[]]);\n    const isCardOpen = (id) => {\n        if(openCards[roundId] === undefined) {\n            return false;\n        } else {\n            return openCards[roundId].includes(id);\n        }\n    };\n    const togglePlayerCard = (id) => {\n        var newCards = [...openCards];\n        if (newCards[roundId] === undefined) {\n            newCards[roundId] = [];\n        }\n        if (newCards[roundId].includes(id)) {\n            newCards[roundId] = newCards[roundId].filter(i => i !== id)\n            setCards(newCards);\n        } else {\n            newCards[roundId] = newCards[roundId].concat([id])\n            setCards(newCards);\n        }\n    };\n    return (\n        <tr className={match.isBye() ? \"inactive\" : \"\"}>\n            <td className=\"table__number\">{matchId + 1}</td>\n            <td>\n                <input \n                type=\"checkbox\"\n                checked={match.getWhite().result === 1}\n                disabled={match.isBye()}\n                onChange={(event) => setWinner(0, matchId, event)} />\n            </td>\n            <td className=\"table__player\">\n                {match.getWhite().player.firstName}\n                {isCardOpen(matchId) && \n                <PlayerCard\n                    tourney={tourney}\n                    round={round}\n                    player={match.getWhite().player} />\n                }\n            </td>\n            <td>\n                <input \n                    type=\"checkbox\"\n                    checked={match.getWhite().result === 0.5}\n                    disabled={match.isBye()}\n                    onChange={(event) => setWinner(0.5, matchId, event)} />\n            </td>\n            <td className=\"table__player\">\n                {match.getBlack().player.firstName}\n                {isCardOpen(matchId) && \n                <PlayerCard\n                    tourney={tourney}\n                    round={round}\n                    player={match.getBlack().player} />\n                }\n            </td>\n            <td>\n                <input \n                    type=\"checkbox\"\n                    checked={match.getBlack().result === 1}\n                    disabled={match.isBye()}\n                    onChange={(event) => setWinner(1, matchId, event)} />\n            </td>\n            <td>\n                <button onClick={() => togglePlayerCard(matchId)}>?</button>\n                {match.warnings}\n            </td>\n        </tr>\n    );\n}\n\nfunction PlayerCard({tourney, round, player}) {\n    var ratingChange = (\n        round.getMatchByPlayer(player).getPlayerInfo(player).newRating\n        - round.getMatchByPlayer(player).getPlayerInfo(player).origRating\n    );\n    if (ratingChange > -1) {\n        ratingChange = \"+\" + ratingChange\n    }\n    const colorBalance = scores.playerColorBalance(tourney, player, round.id);\n    var color = \"Even\";\n    if (colorBalance > 0) {\n        color = \"White +\" + colorBalance;\n    } else if (colorBalance < 0) {\n        color = \"Black +\" + Math.abs(colorBalance);\n    }\n    return (\n        <dl className=\"player-card\">\n        <dt>Score</dt>\n        <dd>{scores.playerScore(tourney, player, round.id)}</dd>\n        <dt>Rating</dt>\n        <dd>\n            {round.getMatchByPlayer(player).getPlayerInfo(player).origRating}\n            &nbsp;({ratingChange})\n        </dd>\n        <dt>Color balance</dt>\n        <dd>{color}</dd>\n        <dt>Opponent history</dt>\n        <dd>\n            <ol>\n            {tourney.getPlayersByOpponent(player, round.id).map((opponent, i) =>\n                <li key={i}>\n                {opponent.firstName}\n                </li>  \n            )}\n            </ol>\n        </dd>\n        <dt>Match ideal</dt>\n        <dd>\n            {numeral(round.getMatchByPlayer(player).ideal).format(\"00%\")}\n        </dd>\n        </dl>\n    );\n}\n\nfunction Standings({tourney, roundId}) {\n  return (\n    <table key={roundId}>\n      <caption>Current Standings</caption>\n      <thead>\n        <tr>\n          <th></th>\n          <th>First name</th>\n          <th>Score</th>\n          {config.tieBreak.filter((m) => m.active).map((method, i) =>\n              <th key={i}>{method.name}</th>\n          )}\n        </tr>\n      </thead>\n      {scores.calcStandings(tourney, roundId).map((rank, i) => \n        <tbody key={i}>\n          {rank.map((player, j) => \n            <tr key={j}>\n                <td>{i + 1}</td>\n                <td>{player.player.firstName}</td>\n                <td className=\"table__number\">{player.score}</td>\n                {config.tieBreak.filter((m) => m.active).map((method, i) =>\n                    <td className=\"table__number\" key={i}>\n                        {player[method.func.name]}\n                    </td>\n                )}\n            </tr>\n            )}\n        </tbody>\n      )}\n    </table>\n  );\n}\n\nexport {MainRoster, Round, Standings};","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport {createTournament} from \"./chess-tourney\";\nimport {MainRoster, Round} from \"./chess-tourney.jsx.js\";\n\nconst cvlTourney = createTournament(\"CVL Winter Open\");\n\nfunction App() {\n  const newRound = (event) => {\n    var round = cvlTourney.newRound();\n    if (!round) {\n      alert(\"Either add players or complete the current matches first.\");\n      return;\n    }\n    tabList.push(\n      {\n        name: \"Round \" + (round.id + 1),\n        contents: <Round tourney={cvlTourney} roundId={round.id} />\n      }\n    );\n    setTabList([].concat(tabList));\n    setCurrentTab(tabList[tabList.length - 1])\n  }\n  const [tabList, setTabList] = useState(\n    [\n      {\n        name: \"Roster\",\n        contents: <MainRoster tourney={cvlTourney} />\n      }\n    ]\n  );\n  const [currentTab, setCurrentTab] = useState(tabList[0]);\n  return (\n    <div className=\"tournament\">\n      <nav className=\"tabbar\">\n        <ul>\n          {tabList.map((tab, i) => \n            <li key={i}>\n              <button\n                className=\"tab\"\n                onClick={() => setCurrentTab(tab)}\n                disabled={currentTab === tab}\n                >\n                {tab.name}\n              </button>\n            </li>\n          )}\n          <li>\n            <button \n              className=\"tab new_round\"\n              onClick={newRound}\n              >\n              New Round\n            </button>\n          </li>\n        </ul>\n      </nav>\n      <h1>Chessahoochee: a chess tournament app</h1>\n      {currentTab.contents}\n    </div>\n  );\n}\n\nfunction Caution() {\n    return (\n        <p>\n            <span role=\"img\" aria-label=\"waving hand\">👋</span>&nbsp;\n            This is an unstable demo build!\n            Want to help make it better? Head to the&nbsp;\n            <span role=\"img\" aria-label=\"finger pointing right\">👉</span>&nbsp;\n            <a href=\"https://github.com/johnridesabike/chessahoochee\">Git repository</a>.\n        </p>\n    );\n}\n\nexport {App, Caution};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport {App, Caution} from \"./App.jsx\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nReactDOM.render(<Caution />, document.getElementById(\"caution\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}