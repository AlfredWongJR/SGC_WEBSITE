(this.webpackJsonpcoronate=this.webpackJsonpcoronate||[]).push([[0],{71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);a(70),a(71),a(72),a(73),a(74),a(75),a(76),a(77),a(78),a(79),a(80),a(81);var n=a(0),r=a(56),i=a(32),s=a(14),o=a(4),l=a(1),c=a(41),u=a(37),d=a(21),m=a(7),f=a(22),h=a(6),g=a(34),v=a(2),b=a(16),p=a.n(b),E=a(5),y=a(8),N=a(93),w=a(94),_=a(35),k=a(15),S=a(90),R=a(91),A=a(92);var I={make:function(e,t){return{format:e,unformat:t}}};var C={make:function(e,t,a){return{regexps:e,format:t,unformat:a}}};void 0===p.a.default&&(p.a.default=p.a);var T=a(45),O=a.p+"static/media/caution.a8d38854.svg",G=a.p+"static/media/icon-min.738074f5.svg",B=a.p+"static/media/rescript.a088c7b6.svg";function D(e,t,a,n){return l.b(e,t(a),t(n))}function j(e,t,a,n){return l.b(e,t(n),t(a))}var L={swap:function(e,t,a){var n=y.e(e,t),r=y.e(e,a);return void 0!==n&&void 0!==r?(y.r(e,t,v.d(r)),y.r(e,a,v.d(n)),e):e}};function M(e){window.alert(e)}var P={logo:G,caution:O,rescript:B},x="\xa0",F="\xa9",V=T.b(["en-US"],1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,0,void 0);var Q=T.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,void 0,void 0,void 0,0,void 0);var W=l.a(o.G,{hd:o.l("flex"),tl:{hd:o.p("wrap"),tl:{hd:o.y("screen and (min-width: 600px)",{hd:o.p("nowrap"),tl:0}),tl:0}}}),q=l.a(o.G,{hd:o.x({NAME:"px",VAL:16}),tl:0});var H=function(e){var t=e.children,a=e.className,r=e.style,i=void 0!==a?a:"",o=void 0!==r?v.d(r):{};return n.createElement("div",{className:s.a(q,i),style:o},t)};var J=function(e){var t=e.children,a=e.className,r=e.style,i=void 0!==a?a:"",o=void 0!==r?v.d(r):{};return n.createElement("div",{className:s.a(W,i),style:o},t)},z={NAME:"hex",VAL:"30e60b"},U={NAME:"hex",VAL:"003706"},K={NAME:"hex",VAL:"ffe900"},Y={NAME:"hex",VAL:"3e2800"},Z={NAME:"hex",VAL:"d70022"},X={NAME:"hex",VAL:"ffffff"},$={NAME:"hex",VAL:"00feff"},ee={NAME:"hex",VAL:"00c8d7"},te={NAME:"hex",VAL:"a47f00"},ae={NAME:"hex",VAL:"f9f9fa"},ne={NAME:"hex",VAL:"ededf0"},re={NAME:"hex",VAL:"b1b1b3"},ie={NAME:"hex",VAL:"0c0c0d"},se={NAME:"hex",VAL:"202340"},oe=X,le=l.a(o.G,{hd:o.l("flex"),tl:{hd:o.m("row"),tl:{hd:o.u("center"),tl:{hd:o.z({NAME:"px",VAL:32}),tl:{hd:o.q({NAME:"px",VAL:13}),tl:{hd:o.r({NAME:"num",VAL:400}),tl:{hd:o.E({NAME:"px",VAL:4}),tl:{hd:o.D({NAME:"px",VAL:4}),tl:{hd:o.w({NAME:"px",VAL:4},"zero"),tl:{hd:o.g({NAME:"px",VAL:4}),tl:0}}}}}}}}}}),ce=l.a(o.G,{hd:o.l("flex"),tl:{hd:o.m("row"),tl:{hd:o.b("center"),tl:0}}}),ue=l.a(o.G,{hd:o.l("flex"),tl:{hd:o.m("row"),tl:{hd:o.b("center"),tl:{hd:o.o(1),tl:{hd:o.w("zero",{NAME:"px",VAL:4}),tl:{hd:o.q({NAME:"px",VAL:16}),tl:{hd:o.k("help"),tl:0}}}}}}}),de=l.a(o.G,{hd:o.j(U),tl:{hd:o.c(z),tl:0}}),me=l.a(o.G,{hd:o.j(Y),tl:{hd:o.c(K),tl:0}}),fe=l.a(o.G,{hd:o.j(X),tl:{hd:o.c(Z),tl:0}});var he,ge,ve=function(e){var t=e.children,a=e.testId;return n.cloneElement(t,{"data-testid":a})};he="fraction",ge=C.make(I.make(/(1\/2)/,/(1\/2)/),(function(e,t,a){var n=Math.floor(e),r=e-n,i=.25!==r?.5!==r?.75!==r?"":"\xbe":"\xbd":"\xbc";return(0===n&&""!==i?"":String(n))+i}),(function(e){return m.c(u.a(e))})),p.a.register("format",he,ge);var be="https://github.com/johnridesabike/coronate",pe="https://github.com/johnridesabike/coronate/blob/master/LICENSE";var Ee={concat:function(e,t){for(var a="",n=E.k(e);;){var r=n,i=a;if(!r)return i;var s=r.tl,o=r.hd;if(!s)return o+i;n=s,a=t+(o+i)}},toLowerCase:function(e){return e.toLowerCase()},includes:function(e,t){return e.includes(t)},split:function(e,t){return e.split(t)}},ye=function(e){var t=e.date;return n.createElement("time",{dateTime:t.toISOString()},T.a(V,t))},Ne=function(e){var t=e.date,a=e.timeZone,r=void 0!==a?T.b(["en-US"],1,void 0,void 0,1,void 0,void 0,void 0,1,3,void 0,a,void 0,void 0,0,void 0):Q;return n.createElement("time",{dateTime:t.toISOString()},T.a(r,t))},we=function(e){var t,a=e.children,r=e.kind,i=e.tooltip,o=e.className,l=e.style,c=void 0!==r?r:3,u=void 0!==i?i:"",d=void 0!==o?o:"",m=void 0!==l?v.d(l):{};switch(c){case 0:t=[n.createElement(S.a,{}),de];break;case 1:t=[n.createElement(R.a,{}),me];break;case 2:t=[n.createElement(R.a,{}),fe];break;case 3:t=[n.createElement(A.a,{}),""]}return n.createElement("div",{className:s.b({hd:le,tl:{hd:t[1],tl:{hd:d,tl:0}}}),style:m},n.createElement("div",{"aria-label":u,className:ue,title:u},t[0]),n.createElement("div",{className:ce},a))},_e=a(66),ke=a(30),Se=a(10);var Re="________DUMMY________";function Ae(e){return e===Re}function Ie(e){return _e.a()}function Ce(e){return e}var Te=k.f;function Oe(e,t){return e===t}var Ge=ke.c(Te);var Be={make:function(e){return h.j(Ge)},fromArray:function(e){return h.b(e,Ge)},fromStringArray:function(e){return h.b(e,Ge)},toStringArray:h.t},De=Se.l,je=a(25);function Le(e){return.5!==e?0:1}function Me(e){return Le(Se.a(e))}var Pe=ke.a({cmp:function(e,t){var a=Te(e[0],t[0]);if(0!==a)return a;var n=Te(e[1],t[1]);return 0!==n?n:0}}),xe=g.c(Pe);function Fe(e){return g.b(Se.d((function(e){return Se.k(De,De,e)}),e),Pe)}function Ve(e){return je.a((function(e){return je.e(Ce,Ce,e)}),g.f(e))}function Qe(e,t){var a=t[1],n=t[0],r=h.c(e,n),i=void 0!==r?{hd:a,tl:r}:{hd:a,tl:0},s=h.c(e,a),o=void 0!==s?{hd:n,tl:s}:{hd:n,tl:0};return h.r(h.r(e,n,i),a,o)}function We(e){return{avoidPairs:Se.g("avoidPairs",Fe,e),byeValue:Se.g("byeValue",Me,e),lastBackup:Se.g("lastBackup",Se.e,e)}}function qe(e){return je.d({hd:["avoidPairs",Ve(e.avoidPairs)],tl:{hd:["byeValue",e.byeValue?.5:1],tl:{hd:["lastBackup",je.b(e.lastBackup)],tl:0}}})}var He={avoidPairs:xe,byeValue:0,lastBackup:new Date(0)},Je={make:function(e,t){var a=Te(e,t);if(0!==a)return 1!==a?[t,e]:[e,t]},has:function(e,t){return!!Oe(e[0],t)||Oe(e[1],t)},$$Set:{empty:xe,fromArray:function(e){return g.b(e,Pe)},toMap:function(e){return g.d(e,Be.make(void 0),Qe)}}};function ze(e,t){return e+t}var Ue=k.b;function Ke(e){return E.j(e,0,ze)}function Ye(e){switch(e){case 0:return 0;case 1:return 1;case 2:return-1;case 3:return.5}}function Ze(e,t){return e+Ye(t)}function Xe(e,t){return E.j(e,0,Ze)+t}var $e={opposite:function(e){return e?0:1},toScore:function(e){return e?1:2}};function et(e){switch(e){case 0:return"median";case 1:return"solkoff";case 2:return"cumulative";case 3:return"cumulativeOfOpposition";case 4:return"mostBlack"}}function tt(e,t){switch(e){case 0:return 0===t;case 1:return 1===t;case 2:return 2===t;case 3:return 3===t;case 4:return t>=4}}function at(e,t){return{colorScores:0,colors:0,id:t,isDummy:!1,opponentResults:0,ratings:0,firstRating:void 0!==e?e:0,results:0,resultsNoByes:0,adjustment:0}}function nt(e,t){var a=h.c(e,t);return void 0===a||!a.isDummy}function rt(e,t){var a=h.c(e,t);return void 0!==a?Xe(a.results,a.adjustment):0}function it(e,t){var a=h.c(e,t);return void 0!==a?E.j(a.opponentResults,0,(function(t,a){var n=a[0];return nt(e,n)?{hd:rt(e,n),tl:t}:t})):0}function st(e,t){return m.h(E.o(m.h(E.o(E.n(it(e,t),Ue)),0,E.k)),0,Ke)}function ot(e,t){return E.j(it(e,t),0,ze)}function lt(e,t){if(!e)return{hd:Ye(t),tl:0};var a=e.hd;return{hd:a+Ye(t),tl:{hd:a,tl:e.tl}}}function ct(e,t){var a=h.c(e,t);if(void 0!==a){var n=E.j(a.resultsNoByes,0,lt),r=a.adjustment;return E.j(n,0,ze)+r}return 0}function ut(e,t){var a=h.c(e,t);return void 0!==a?E.j(E.i(E.j(a.opponentResults,0,(function(t,a){var n=a[0];return nt(e,n)?{hd:n,tl:t}:t})),(function(t){return ct(e,t)})),0,ze):0}function dt(e,t){var a=h.c(e,t);return void 0!==a?E.j(a.colorScores,0,Ze):0}function mt(e){switch(e){case 0:return st;case 1:return ot;case 2:return ct;case 3:return ut;case 4:return dt}}function ft(e,t){var a=E.i(E.c(t),(function(e){return[e,mt(e)]})),n=E.c(t);return E.n(E.k(h.n(e,0,(function(t,n,r){return{hd:{id:n,score:Xe(r.results,r.adjustment),tieBreaks:E.i(a,(function(t){return[t[0],l.b(t[1],e,n)]}))},tl:t}}))),(function(e,t){var a=k.b(t.score,e.score);if(0!==a)return a;for(var r=n;;){var i=r;if(!i)return 0;var s=i.tl,o=i.hd,l=E.d(e.tieBreaks,o,tt),c=E.d(t.tieBreaks,o,tt);if(void 0===l)r=s;else{if(void 0!==c){var u=k.b(v.d(c),v.d(l));if(0!==u)return u;r=s;continue}r=s}}}))}function ht(e){return E.j(e,0,(function(e,t){if(!e)return{hd:{hd:t,tl:0},tl:0};var a=e.hd;if(!a)return{hd:{hd:t,tl:0},tl:e};var n=e.tl;return function(e,t){if(e.score!==t.score)return!1;var a=E.j(e.tieBreaks,0,(function(e,a){var n=E.d(t.tieBreaks,a[0],tt);return void 0!==n?{hd:a[1]!==v.d(n),tl:e}:e}));return!E.f(a,!0,(function(e,t){return e===t}))}(a.hd,t)?{hd:{hd:t,tl:a},tl:n}:{hd:{hd:t,tl:0},tl:{hd:a,tl:n}}}))}var gt={Sum:{toFloat:function(e){return e},toNumeral:function(e){return p()(e)}},sum:function(e){return E.j(e,0,Ze)},calcScore:Xe,toFloat:Ye},vt={encode:et,decode:function(e){switch(Se.l(e)){case"cumulative":return 2;case"cumulativeOfOpposition":return 3;case"median":return 0;case"mostBlack":return 4;case"solkoff":return 1;default:return 0}},toString:et,toPrettyString:function(e){switch(e){case 0:return"Median";case 1:return"Solkoff";case 2:return"Cumulative";case 3:return"Cumulative of opposition";case 4:return"Most Black"}},eq:tt},bt=a(20);function pt(e,t){return t}function Et(e){var t=n.useReducer(pt,e),a=t[1];return{state:t[0],setTrue:function(e){return a(!0)},setFalse:function(e){return a(!1)}}}function yt(e,t){var a;if("number"===typeof t)a=e;else switch(0|t.TAG){case 0:a={isDescending:t._0,column:e.column,table:e.table};break;case 1:a={isDescending:e.isDescending,column:t._0,table:e.table};break;case 2:a={isDescending:e.isDescending,column:e.column,table:t._0}}var n,r=a.isDescending?j:D,i=a.column;switch(0|i.TAG){case 0:var s=i._0;n=l.b(r,k.f,(function(e){return Ee.toLowerCase(s(e))}));break;case 1:n=l.b(r,k.c,i._0);break;case 2:n=l.b(r,k.b,i._0);break;case 3:var o=i._0;n=l.b(r,k.b,(function(e){return o(e).getTime()}))}var c=_.a(a.table,n);return{isDescending:a.isDescending,column:a.column,table:c}}function Nt(e,t,a){var r={isDescending:a,column:t,table:e},i=n.useReducer(yt,r),s=i[1];return n.useEffect((function(){l.a(s,0)}),[]),[i[0],s]}var wt=function(e){var t=e.children,a=e.sortColumn,r=e.data,i=e.dispatch,s=r.column===a?{opacity:"1"}:{opacity:"0"};return n.createElement("button",{className:"button-micro dont-hide button-text-ghost title-20",style:{width:"100%"},onClick:function(e){return r.column===a?l.a(i,{TAG:0,_0:!r.isDescending}):l.a(i,{TAG:1,_0:a})}},n.createElement("span",{"aria-hidden":!0},n.createElement(N.a,{style:{opacity:"0"}})),t,r.isDescending?n.createElement("span",{style:s},n.createElement(N.a,{}),n.createElement(bt.a,{children:"Sort ascending."})):n.createElement("span",{style:s},n.createElement(w.a,{}),n.createElement(bt.a,{children:"Sort descending."})))};function _t(e){n.useEffect((function(){return document.body.style.cursor=e?"auto":"wait",function(e){return document.body.style.cursor="auto"}}),[e])}function kt(e,t,a,r,i,s,o,c){var u=h.c(t,e.id),d=void 0!==u?u:at(void 0,e.id),f=d.opponentResults,g=E.m(f,(function(e){return Ae(e[0])})),v=l.a(gt.Sum.toFloat,gt.sum(d.colorScores)),b=v<0?"White +"+String(Math.abs(v)):v>0?"Black +"+String(v):"Even",N=y.m(E.p(f),(function(e,t){var a,i=t[1],s=t[0];if(0!==i)switch(i){case 1:a="Won";break;case 2:a="Lost";break;case 3:a="Draw"}else a="Lost";return n.createElement("li",{key:s+"-"+String(e)},Ee.concat({hd:l.a(r,s).firstName,tl:{hd:l.a(r,s).lastName,tl:{hd:"-",tl:{hd:a,tl:0}}}}," "))})),w=y.q(E.p(E.i(m.d(m.a(m.f(a,Je.$$Set.toMap),(function(t){return h.c(t,e.id)})),0),(function(e){var t=h.c(i,e);return void 0!==t?n.createElement("li",{key:e},t.firstName+" "+t.lastName):null})))),_=n.createElement(n.Fragment,void 0,s,void 0!==o?n.createElement("span",void 0," (",p()(o-s|0).format("+0"),")"):null);return{player:e,hasBye:g,colorBalance:b,score:l.a(gt.Sum.toFloat,gt.calcScore(d.results,d.adjustment)),rating:_,opponentResults:N,avoidListHtml:w}}function St(e){switch(e){case 0:return"whiteWon";case 1:return"blackWon";case 2:return"draw";case 3:return"notSet"}}function Rt(e){switch(e){case"blackWon":return 1;case"draw":return 2;case"whiteWon":return 0;default:return 3}}function At(e){return Rt(Se.l(e))}var It={toScoreWhite:function(e){if(e>=3)return 0;switch(e){case 0:return 1;case 1:return 0;case 2:return 3}},toScoreBlack:function(e){if(0===e)return 0;switch(e){case 1:return 1;case 2:return 3;case 3:return 0}},toString:St,fromString:Rt,encode:St,decode:At};function Ct(e){return{id:Se.g("id",De,e),whiteId:Se.g("whiteId",De,e),blackId:Se.g("blackId",De,e),whiteNewRating:Se.g("whiteNewRating",Se.b,e),blackNewRating:Se.g("blackNewRating",Se.b,e),whiteOrigRating:Se.g("whiteOrigRating",Se.b,e),blackOrigRating:Se.g("blackOrigRating",Se.b,e),result:Se.g("result",At,e)}}function Tt(e){return je.d({hd:["id",e.id],tl:{hd:["whiteId",e.whiteId],tl:{hd:["blackId",e.blackId],tl:{hd:["whiteNewRating",e.whiteNewRating],tl:{hd:["blackNewRating",e.blackNewRating],tl:{hd:["whiteOrigRating",e.whiteOrigRating],tl:{hd:["blackOrigRating",e.blackOrigRating],tl:{hd:["result",St(e.result)],tl:0}}}}}}}})}function Ot(e,t){var a=Ae(e.whiteId),n=Ae(e.blackId);return a?n?e:{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:t?2:1}:n?{id:e.id,whiteId:e.whiteId,blackId:e.blackId,whiteNewRating:e.whiteNewRating,blackNewRating:e.blackNewRating,whiteOrigRating:e.whiteOrigRating,blackOrigRating:e.blackOrigRating,result:t?2:0}:e}function Gt(e,t){var a=e[1],n=e[0];return Ot({id:Ie(),whiteId:n.id,blackId:a.id,whiteNewRating:n.rating,blackNewRating:a.rating,whiteOrigRating:n.rating,blackOrigRating:a.rating,result:3},t)}function Bt(e){return je.a(Tt,e)}function Dt(e){return Se.d(Ct,e)}function jt(e){return y.n(e,[],(function(e,t){return y.b(e,[t.whiteId,t.blackId])}))}function Lt(e,t){return y.f(e,(function(e){return Oe(e.id,t)}))}function Mt(e,t){var a=e.slice(0);return m.a(m.f(y.h(a,(function(e){return Oe(e.id,t.id)})),(function(e){return y.r(a,e,t)})),(function(e){if(e)return a}))}var Pt={fromArray:function(e){return e},toArray:function(e){return e},empty:[],encode:Bt,decode:Dt,size:function(e){return e.length},addMatches:y.b,getMatched:jt,getMatchById:Lt,removeMatchById:function(e,t){return y.i(e,(function(e){return!Oe(e.id,t)}))},setMatch:Mt,moveMatch:function(e,t,a){var n=Lt(e,t);if(void 0!==n){var r=e.indexOf(n),i=(r+a|0)>=0?r+a|0:0;return L.swap(e,r,i)}}};var xt=[[]];function Ft(e){return Se.d(Dt,e)}function Vt(e){return e.length}function Qt(e){return e.length-1|0}function Wt(e,t,a){var n=e.slice(0);if(y.r(n,t,a))return n}function qt(e,t,a){return m.a(m.a(y.e(e,t),(function(e){return Mt(e,a)})),(function(a){return Wt(e,t,a)}))}function Ht(e){return y.n(e,[],y.b)}function Jt(e,t,a){var n=y.e(e,a);if(void 0===n)return!0;if(a<(e.length-1|0))return!0;var r=jt(n),i=h.q(t,r),s=y.l(n,(function(e){return e.result}));return 0===h.s(i)&&!s.includes(3)}function zt(e){return y.b(e,[[]])}function Ut(e){return e.slice(0,-1)}function Kt(e,t){return y.l(e,(function(e){return y.l(e,(function(e){return Ot(e,t)}))}))}var Yt=y.e,Zt="BruceWayne_lv_ZsUHTU9",Xt="DickGrayson_1C2rCokHH",$t="AlfredPennyworth_y4dW",ea="BarbaraGordon_cL6SpI2",ta="KateKane_klFW6gDfUOTX",aa="SelinaKyle_rJBH-45Xoy",na="JasonTodd_fc9CeOa-Luw",ra="JamesGordon_1ts9xICT3",ia="HelenaWayne_fE6O0DJcE",sa="Joker_v0z2416fpAZ9o2c",oa="HarleyQuinn_-10-02VPH",la="VictorFries_cWaQoW014",ca="OswaldCobblepot_lfCro",ua="RasAlGhul_k9n8k852bHr",da="PamelaIsley_vH5vD8uPB",ma="EdwardNigma_j80JfWOZq",fa="JonathanCrane_R4Q8tVW",ha="HarveyDent_0eYIiP_Ij5",ga="HugoStrange_az43f9mtS",va={avoidPairs:l.a(Je.$$Set.fromArray,y.j([[ea,ra],[sa,oa],[ia,Zt]],(function(e){return Je.make(e[0],e[1])}))),byeValue:0,lastBackup:new Date("1970-01-01T00:00:00.000Z")},ba=Be.fromArray([[Zt,{firstName:"Bruce",id:Zt,lastName:"Wayne",matchCount:9,rating:1998,type_:0}],[Xt,{firstName:"Dick",id:Xt,lastName:"Grayson",matchCount:9,rating:1909,type_:0}],[$t,{firstName:"Alfred",id:$t,lastName:"Pennyworth",matchCount:9,rating:1999,type_:0}],[ea,{firstName:"Barbara",id:ea,lastName:"Gordon",matchCount:7,rating:1345,type_:0}],[ta,{firstName:"Kate",id:ta,lastName:"Kane",matchCount:9,rating:1539,type_:0}],[aa,{firstName:"Selina",id:aa,lastName:"Kyle",matchCount:9,rating:1495,type_:0}],[na,{firstName:"Jason",id:na,lastName:"Todd",matchCount:7,rating:1101,type_:0}],[ra,{firstName:"James",id:ra,lastName:"Gordon",matchCount:7,rating:1167,type_:0}],[ia,{firstName:"Helena",id:ia,lastName:"Wayne",matchCount:7,rating:1087,type_:0}],[sa,{firstName:"Joker",id:sa,lastName:"",matchCount:1,rating:1538,type_:0}],[oa,{firstName:"Harley",id:oa,lastName:"Quinn",matchCount:1,rating:1648,type_:0}],[la,{firstName:"Victor",id:la,lastName:"Fries",matchCount:1,rating:862,type_:0}],[ca,{firstName:"Oswald",id:ca,lastName:"Cobblepot",matchCount:1,rating:1812,type_:0}],[ua,{firstName:"Ra's",id:ua,lastName:"al Ghul",matchCount:1,rating:1404,type_:0}],[da,{firstName:"Pamela",id:da,lastName:"Isley",matchCount:1,rating:965,type_:0}],[ma,{firstName:"Edward",id:ma,lastName:"Nigma",matchCount:1,rating:948,type_:0}],[fa,{firstName:"Jonathan",id:fa,lastName:"Crane",matchCount:1,rating:899,type_:0}],[ha,{firstName:"Harvey",id:ha,lastName:"Dent",matchCount:1,rating:1649,type_:0}],[ga,{firstName:"Hugo",id:ga,lastName:"Strange",matchCount:0,rating:800,type_:0}]]),pa=Be.fromArray([["CaouTNel9k70jUJ0h6SYM",{id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",date:new Date("2019-05-22T12:14:47.670Z"),playerIds:{hd:Zt,tl:{hd:Xt,tl:{hd:$t,tl:{hd:ea,tl:{hd:ta,tl:{hd:aa,tl:{hd:na,tl:{hd:ra,tl:{hd:ia,tl:0}}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"FUASEeyES6ez_ROoT6qmU",whiteId:na,blackId:Xt,whiteNewRating:1236,blackNewRating:2109,whiteOrigRating:1238,blackOrigRating:2108,result:1},{id:"gqPyD66QMPF-pup41xsB2",whiteId:ra,blackId:$t,whiteNewRating:1049,blackNewRating:2260,whiteOrigRating:1049,blackOrigRating:2260,result:1},{id:"KpS1lQSzsQWQ3VVWJyA2P",whiteId:ta,blackId:ea,whiteNewRating:1553,blackNewRating:1722,whiteOrigRating:1527,blackOrigRating:1755,result:2},{id:"OgFuy-wq8mz378EWat46u",whiteId:aa,blackId:Zt,whiteNewRating:1278,blackNewRating:1887,whiteOrigRating:1284,blackOrigRating:1881,result:1},{id:"f8Ps3GUmd0ZRsBBY8rZOp",whiteId:ia,blackId:Re,whiteNewRating:831,blackNewRating:0,whiteOrigRating:831,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"6seKrw7ehbhL766g6L2PF",whiteId:Xt,blackId:ta,whiteNewRating:2122,blackNewRating:1672,whiteOrigRating:2109,blackOrigRating:1685,result:0},{id:"TCSjz48ZXqjamtYUFNg0B",whiteId:Zt,blackId:ia,whiteNewRating:1887,blackNewRating:830,whiteOrigRating:1887,blackOrigRating:831,result:0},{id:"zF64DEsN8sHydpDDsg37E",whiteId:$t,blackId:aa,whiteNewRating:2101,blackNewRating:1437,whiteOrigRating:2260,blackOrigRating:1278,result:1},{id:"qVGt1EJq9y0MmvFtumM0A",whiteId:ea,blackId:na,whiteNewRating:1574,blackNewRating:1207,whiteOrigRating:1545,blackOrigRating:1236,result:0},{id:"UhfHaRWr_-BtVo22xAuJu",whiteId:ra,blackId:Re,whiteNewRating:1049,blackNewRating:0,whiteOrigRating:1049,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"odrOOnZJUe0YAwkfUDqUb",whiteId:$t,blackId:Zt,whiteNewRating:1998,blackNewRating:1990,whiteOrigRating:2101,blackOrigRating:1887,result:1},{id:"qzCMqUwNIDAcFSAuA5yCm",whiteId:ia,blackId:Xt,whiteNewRating:990,blackNewRating:2008,whiteOrigRating:830,blackOrigRating:2122,result:0},{id:"6QgVqdtcJPjfVp3UZ8S9g",whiteId:aa,blackId:ea,whiteNewRating:1529,blackNewRating:1464,whiteOrigRating:1437,blackOrigRating:1574,result:0},{id:"as45gODKMLC5-3_UsTyx5",whiteId:ta,blackId:ra,whiteNewRating:1542,blackNewRating:1244,whiteOrigRating:1672,blackOrigRating:1049,result:1},{id:"Pc0CWecSfeGNfvBPjyEIj",whiteId:na,blackId:Re,whiteNewRating:1207,blackNewRating:0,whiteOrigRating:1207,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"xj0y_Iqkb-g3MDGgmYx2-",whiteId:Zt,blackId:ta,whiteNewRating:1998,blackNewRating:1534,whiteOrigRating:1990,blackOrigRating:1542,result:0},{id:"HWYWtsyaqUkHRExM6kQrt",whiteId:Xt,blackId:ra,whiteNewRating:2009,blackNewRating:1243,whiteOrigRating:2008,blackOrigRating:1244,result:0},{id:"uAzHZVMC71liQZ-6fWWeD",whiteId:ia,blackId:aa,whiteNewRating:983,blackNewRating:1534,whiteOrigRating:990,blackOrigRating:1529,result:1},{id:"_tCBn9YNIyto-vXpxm7WI",whiteId:na,blackId:$t,whiteNewRating:1205,blackNewRating:1999,whiteOrigRating:1207,blackOrigRating:1998,result:1},{id:"L7yatE2oVKlV7LOY6-d7Y",whiteId:ea,blackId:Re,whiteNewRating:1464,blackNewRating:0,whiteOrigRating:1464,blackOrigRating:0,result:0}])]}],["tvAdS4YbSOznrBgrg0ITA",{id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",date:new Date("2019-05-29T12:15:20.593Z"),playerIds:{hd:Zt,tl:{hd:Xt,tl:{hd:$t,tl:{hd:ea,tl:{hd:ta,tl:{hd:aa,tl:{hd:na,tl:{hd:ra,tl:{hd:ia,tl:{hd:sa,tl:{hd:oa,tl:{hd:la,tl:{hd:ca,tl:{hd:ua,tl:{hd:da,tl:{hd:ma,tl:{hd:fa,tl:{hd:ha,tl:0}}}}}}}}}}}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"5f8GYcR8V44NYvTN1cZle",whiteId:ma,blackId:Zt,whiteNewRating:948,blackNewRating:1998,whiteOrigRating:950,blackOrigRating:1998,result:1},{id:"GPTct4sL368SryTLFUu8E",whiteId:fa,blackId:$t,whiteNewRating:899,blackNewRating:1999,whiteOrigRating:900,blackOrigRating:1999,result:1},{id:"AxtoztZ6O19nyrLfZ4YaU",whiteId:ha,blackId:Xt,whiteNewRating:1649,blackNewRating:1909,whiteOrigRating:850,blackOrigRating:2009,result:0},{id:"bUM_tWQsAtPe1gqRzlXd1",whiteId:ua,blackId:aa,whiteNewRating:1404,blackNewRating:1495,whiteOrigRating:1050,blackOrigRating:1534,result:2},{id:"bAOVlP-M5xaPk1qofNReb",whiteId:ca,blackId:ea,whiteNewRating:1812,blackNewRating:1345,whiteOrigRating:1100,blackOrigRating:1464,result:0},{id:"4omlgiGSaE1BmrHdABSym",whiteId:da,blackId:ta,whiteNewRating:965,blackNewRating:1539,whiteOrigRating:1e3,blackOrigRating:1534,result:1},{id:"ysdEVYS2AyuKyOAwLLpTF",whiteId:oa,blackId:ra,whiteNewRating:1648,blackNewRating:1167,whiteOrigRating:1200,blackOrigRating:1242,result:0},{id:"YoJ9WGokAYrmJjfxCCf87",whiteId:la,blackId:sa,whiteNewRating:862,blackNewRating:1538,whiteOrigRating:1150,blackOrigRating:1250,result:1},{id:"Az7SBl3cs7rbwKPBI0IsU",whiteId:ia,blackId:na,whiteNewRating:1087,blackNewRating:1101,whiteOrigRating:983,blackOrigRating:1205,result:0}]),Pt.empty]}]]);function Ea(e){switch(e){case 0:return"person";case 1:return"dummy";case 2:return"missing"}}function ya(e){switch(e){case"dummy":return 1;case"missing":return 2;case"person":default:return 0}}function Na(e){return ya(Se.l(e))}var wa={toString:Ea,fromString:ya,encode:Ea,decode:Na};function _a(e){return{firstName:Se.g("firstName",Se.l,e),id:Se.g("id",De,e),lastName:Se.g("lastName",Se.l,e),matchCount:Se.g("matchCount",Se.b,e),rating:Se.g("rating",Se.b,e),type_:Se.g("type_",Na,e)}}function ka(e){return je.d({hd:["firstName",e.firstName],tl:{hd:["id",e.id],tl:{hd:["lastName",e.lastName],tl:{hd:["matchCount",e.matchCount],tl:{hd:["rating",e.rating],tl:{hd:["type_",Ea(e.type_)],tl:0}}}}}})}var Sa={firstName:"Bye",id:Re,lastName:"Player",matchCount:0,rating:0,type_:1};function Ra(e,t){return Ae(t)?Sa:h.e(e,t,function(e){return{firstName:"Anonymous",id:e,lastName:"Player",matchCount:0,rating:0,type_:2}}(t))}function Aa(e){var t=e.encode,a=l.f(t),n=e.decode;return{encode:a,decode:l.f(n)}}function Ia(e,t){return{id:e,name:t,date:new Date,playerIds:0,scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:xt}}function Ca(e){var t={hd:Se.e,tl:{hd:function(e){return e},tl:0}},a=Se.j((function(e){return Se.g("scoreAdjustments",(function(e){return Se.d((function(e){return Se.m(De,Se.a,e)}),e)}),e)}),e);return{id:Se.g("id",De,e),name:Se.g("name",Se.l,e),date:Se.g("date",(function(e){return Se.i(t,e)}),e),playerIds:Se.g("playerIds",(function(e){return Se.h(De,e)}),e),scoreAdjustments:m.h(a,Be.make(void 0),Be.fromArray),byeQueue:Se.g("byeQueue",(function(e){return Se.d(De,e)}),e),tieBreaks:Se.g("tieBreaks",(function(e){return Se.d(vt.decode,e)}),e),roundList:Se.g("roundList",Ft,e)}}function Ta(e){return je.d({hd:["id",e.id],tl:{hd:["name",e.name],tl:{hd:["date",je.b(e.date)],tl:{hd:["playerIds",je.c(Ce,e.playerIds)],tl:{hd:["byeQueue",je.a(Ce,e.byeQueue)],tl:{hd:["tieBreaks",je.a(vt.encode,e.tieBreaks)],tl:{hd:["roundList",(t=e.roundList,je.a(Bt,t))],tl:{hd:["scoreAdjustments",je.a((function(e){return je.f(Ce,(function(e){return e}),e)}),h.t(e.scoreAdjustments))],tl:0}}}}}}}});var t}var Oa=a(27),Ga=a(19);function Ba(e,t){return{store:i.createInstance(e),encode:t.encode,decode:t.decode}}function Da(e,t){return[e[0],t(e[1])]}function ja(e,t){return Oa.a(t).map((function(t){return Da(t,e)}))}function La(e,t){var a=e.encode;return e.store.setItems(Oa.b(t.map((function(e){return Da(e,a)}))))}function Ma(e,t){return e.store.setItems(e.encode(t))}function Pa(e,t,a,n,r,i,s){var o={name:a,storeName:r};return void 0!==e&&(o.description=v.d(e)),void 0!==t&&(o.driver=v.d(t)),void 0!==n&&(o.size=v.d(n)),void 0!==i&&(o.version=v.d(i)),o}var xa,Fa,Va=Aa({encode:qe,decode:We}),Qa=Aa({encode:ka,decode:_a}),Wa=Aa({encode:Ta,decode:Ca}),qa=(xa=Pa(void 0,void 0,"Coronate",void 0,"Options",void 0),Fa=Va,{store:i.createInstance(xa),encode:Fa.encode,decode:Fa.decode}),Ha=Ba(Pa(void 0,void 0,"Coronate",void 0,"Players",void 0),Qa),Ja=Ba(Pa(void 0,void 0,"Coronate",void 0,"Tournaments",void 0),Wa);function za(e,t){switch(0|t.TAG){case 0:return h.p(e,t._0);case 1:return h.r(e,t._0,t._1);case 2:return t._0}}function Ua(e){var t=n.useReducer(za,Be.make(void 0)),a=t[1],r=t[0],s=Et(!1);return _t(s.state),n.useEffect((function(){var t={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(function(e){var t=e.decode;return e.store.getItems().then((function(e){var a;try{a=ja(t,e)}catch(n){return Promise.reject(Ga.b(n))}return Promise.resolve(a)}))}(e))),(function(e){if(!t.contents)return l.a(a,{TAG:2,_0:Be.fromStringArray(e)}),l.a(s.setTrue,void 0)})),(function(e){if(!t.contents)return console.error(e),i.clear(),l.a(s.setTrue,void 0)})),function(e){t.contents=!0}}),[]),n.useEffect((function(){s.state&&f.d(f.a.toResult(f.a.fromBsPromise(La(e,Be.toStringArray(r)))),(function(t){return f.d(f.a.toResult(f.a.fromBsPromise(function(e){return e.store.keys()}(e))),(function(t){var a=h.i(r),n=t.filter((function(e){return!a.includes(e)}));0===n.length||function(e,t){e.store.removeItems(t)}(e,n)}))}))}),[r,s]),{items:r,dispatch:a,loaded:s.state}}function Ka(e){return Ua(Ha)}function Ya(e){return Ua(Ja)}function Za(e,t){switch(0|t.TAG){case 0:return{avoidPairs:g.a(e.avoidPairs,t._0),byeValue:e.byeValue,lastBackup:e.lastBackup};case 1:return{avoidPairs:g.e(e.avoidPairs,t._0),byeValue:e.byeValue,lastBackup:e.lastBackup};case 2:var a=t._0;return{avoidPairs:g.d(e.avoidPairs,Je.$$Set.empty,(function(e,t){return Je.has(t,a)?e:g.a(e,t)})),byeValue:e.byeValue,lastBackup:e.lastBackup};case 3:return{avoidPairs:t._0,byeValue:e.byeValue,lastBackup:e.lastBackup};case 4:return{avoidPairs:e.avoidPairs,byeValue:t._0,lastBackup:e.lastBackup};case 5:return t._0;case 6:return{avoidPairs:e.avoidPairs,byeValue:e.byeValue,lastBackup:t._0}}}function Xa(e){var t=n.useReducer(Za,He),a=t[1],r=t[0],s=Et(!1);return n.useEffect((function(){var e={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(function(e){var t=e.decode;return e.store.getItems().then((function(e){var a;try{a=t(e)}catch(n){return Promise.reject(Ga.b(n))}return Promise.resolve(a)}))}(qa))),(function(t){if(!e.contents)return l.a(a,{TAG:5,_0:t}),l.a(s.setTrue,void 0)})),(function(t){if(!e.contents)return i.clear(),l.a(a,{TAG:5,_0:He}),l.a(s.setTrue,void 0)})),function(t){e.contents=!0}}),[]),n.useEffect((function(){s.state&&Ma(qa,r)}),[r,s.state]),[r,a]}var $a=a(101),en=a(58);var tn={icon:a.n(en).a};function an(e){var t=e.height,a=e.width,r=e.className,i=e.style,s=e.ariaLabel,o=e.ariaHidden,l=void 0!==t?t:"24",c=void 0!==a?a:"24",u=void 0!==r?r:"",d=void 0!==i?v.d(i):{},m=void 0!==s?s:tn.icon.title+" Icon",f=void 0!==o&&o;return n.createElement("svg",{"aria-hidden":f,"aria-label":m,className:u,role:"img",style:Object.assign({},{fill:"#"+tn.icon.hex},d),height:l,width:c,viewBox:"0 0 24 24"},n.createElement("path",{d:tn.icon.path}))}an.displayName=tn.icon.title;var nn=an,rn=a(95),sn=a(96),on=a(97),ln=a(98),cn=a(99),un=a(100),dn=a(46);function mn(e){if("number"!==typeof e)return 0===e.TAG?"/tourneys/"+function(e,t){if("number"!==typeof t)return e+"/round/"+String(t._0);switch(t){case 0:return e+"/";case 1:return e+"/scores";case 2:return e+"/crosstable";case 3:return e+"/setup";case 4:return e+"/status"}}(e._0,e._1):"/players/"+e._0;switch(e){case 1:return"/tourneys";case 2:return"/players";case 3:return"/timecalc";case 4:return"/options";case 0:case 5:return"/"}}function fn(e){var t=dn.b(void 0,void 0),a=E.c(Ee.split(t.hash,"/"));if(!a)return 5;if(""!==a.hd)return 5;var n=a.tl;if(!n)return 0;switch(n.hd){case"":return n.tl?5:0;case"options":return n.tl?5:4;case"players":var r=n.tl;return r?r.tl?5:{TAG:1,_0:r.hd}:2;case"timecalc":return n.tl?5:3;case"tourneys":var i=n.tl;if(!i)return 1;var s=function(e){if(!e)return 0;switch(e.hd){case"":return e.tl?void 0:0;case"crosstable":return e.tl?void 0:2;case"round":var t=e.tl;if(!t)return;if(t.tl)return;var a=c.a(t.hd);return void 0!==a?{_0:a}:void 0;case"scores":return e.tl?void 0:1;case"setup":return e.tl?void 0:3;case"status":return e.tl?void 0:4;default:return}}(i.tl);return void 0!==s?{TAG:0,_0:i.hd,_1:s}:5;default:return 5}}var hn=function(e){var t=e.children,a=e.to_,r=e.onDragStart,i=e.onClick,s=dn.b(void 0,void 0).hash,o=mn(a),l="/"===o&&""===s||s===o;return n.createElement("a",{"aria-current":l,href:"#"+o,onDragStart:r,onClick:i},t)},gn=a(63);var vn=function(e){var t=e.isOpen,a=e.onDismiss,r=e.ariaLabel,i=e.children,s=e.style,o=void 0!==s?v.d(s):{};return n.createElement(gn.a,{isOpen:t,onDismiss:a,style:o,"aria-label":r,children:i})},bn=a(65),pn="Coronate";function En(e){return""===e?pn:Ee.concat({hd:e,tl:{hd:pn,tl:0}}," - ")}function yn(e,t){switch(0|t.TAG){case 0:return{isDialogOpen:t._0,isSidebarOpen:e.isSidebarOpen,title:e.title};case 1:return{isDialogOpen:e.isDialogOpen,isSidebarOpen:t._0,title:e.title};case 2:var a=t._0;return m.b(bn.a(document),(function(e){e.title=En(a)})),{isDialogOpen:e.isDialogOpen,isSidebarOpen:e.isSidebarOpen,title:a}}}function Nn(e){return n.createElement("article",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},n.createElement("div",{style:{textAlign:"center",flex:"0 0 48%"}},n.createElement("img",{alt:"",height:"196",src:P.logo,width:"196"})),n.createElement("div",{style:{flex:"0 0 48%"}},n.createElement("h1",{className:"title",style:{textAlign:"left"}},"Coronate"),n.createElement("p",void 0,"Version 1.1.1"),n.createElement("p",void 0,Ee.concat({hd:"Copyright ",tl:{hd:F,tl:{hd:" 2021 John",tl:{hd:x,tl:{hd:"Jackson",tl:0}}}}},"")),n.createElement("p",void 0,"Coronate is free software."),n.createElement("p",void 0,n.createElement("a",{href:be},"Source code is available"),n.createElement("br",void 0)," under the ",n.createElement("a",{href:pe},"AGPL v3.0 license"),".")))}var wn=l.a(o.G,{hd:o.j(ie),tl:0}),_n=s.a(wn,"button-ghost");function kn(e){var t=e.isSidebarOpen,a=e.title,r=e.dispatch;return n.createElement("header",{className:"app__header"},n.createElement("div",void 0,n.createElement("button",{className:_n,onClick:function(e){return l.a(r,{TAG:1,_0:!t})}},n.createElement(rn.a,{}),n.createElement(bt.a,{children:"Toggle sidebar"})),n.createElement("button",{className:_n,onClick:function(e){return l.a(r,{TAG:0,_0:!0})}},n.createElement(sn.a,{}),n.createElement(bt.a,{children:"About Coronate"}))),n.createElement("div",{className:"body-20",style:{left:"0",marginRight:"auto",marginLeft:"auto",position:"absolute",right:"0",textAlign:"center",width:"50%"}},En(a)))}function Sn(e){e.preventDefault()}function Rn(e){return n.createElement("nav",void 0,n.createElement("ul",{style:{margin:"0"}},n.createElement("li",void 0,n.createElement(hn,{children:null,to_:1,onDragStart:Sn},n.createElement(on.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Tournaments"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:2,onDragStart:Sn},n.createElement(ln.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Players"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:4,onDragStart:Sn},n.createElement(cn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Options"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:3,onDragStart:Sn},n.createElement(un.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Time calculator"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:0,onDragStart:Sn},n.createElement(sn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"},x+"Info")))))}function An(e){return n.createElement(Rn,{})}var In=function(e){var t=e.children,a=e.footerFunc,r=e.sidebarFunc,i=void 0!==r?r:An;return n.createElement("div",{className:s.a("winBody",s.e("winBody-hasFooter",a))},n.createElement("div",{className:"win__sidebar"},l.a(i,void 0)),n.createElement("div",{className:"win__content"},t),void 0!==a?n.createElement("footer",{className:"win__footer"},l.a(a,void 0)):null)},Cn=function(e){var t=e.children,a=e.className,r=n.useReducer(yn,{isDialogOpen:!1,isSidebarOpen:!0,title:""}),i=r[0],o=i.isSidebarOpen,c=r[1];return n.createElement("div",{className:s.b({hd:a,tl:{hd:s.d("open-sidebar",o),tl:{hd:s.d("closed-sidebar",!o),tl:0}}})},n.createElement(kn,{isSidebarOpen:o,title:i.title,dispatch:c}),l.a(t,c),n.createElement(vn,{isOpen:i.isDialogOpen,onDismiss:function(e){return l.a(c,{TAG:0,_0:!1})},ariaLabel:"About Coronate",children:null,style:{backgroundColor:"var(--grey-20)"}},n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(c,{TAG:0,_0:!1})}},"Close"),n.createElement(Nn,{})))},Tn=l.a(o.G,{hd:o.l("flex"),tl:{hd:o.m("column"),tl:{hd:o.a("center"),tl:{hd:o.s({NAME:"percent",VAL:100}),tl:{hd:o.u("spaceBetween"),tl:{hd:o.c(ae),tl:0}}}}}}),On=l.a(o.G,{hd:o.w("zero","auto"),tl:{hd:o.s({NAME:"px",VAL:64}),tl:{hd:o.A("visible"),tl:0}}}),Gn=l.a(o.G,{hd:o.w({NAME:"px",VAL:8},"zero"),tl:0}),Bn=l.a(o.G,{hd:o.c(se),tl:{hd:o.j(ne),tl:{hd:o.C("zero",{NAME:"px",VAL:16}),tl:{hd:o.l("flex"),tl:{hd:o.u("spaceBetween"),tl:0}}}}}),Dn=l.a(o.G,{hd:o.j($),tl:{hd:o.t({hd:o.j(ee),tl:0}),tl:0}}),jn=l.a(o.G,{hd:o.j(ie),tl:{hd:o.w("zero","auto"),tl:{hd:o.l("flex"),tl:{hd:o.b("center"),tl:0}}}}),Ln=l.a(o.G,{hd:o.o(1),tl:{hd:o.x({NAME:"px",VAL:8}),tl:0}}),Mn=l.a(o.G,{hd:o.n(1),tl:0}),Pn=l.a(o.G,{hd:o.H("right"),tl:{hd:o.v("zero"),tl:0}});function xn(e){return Math.log(e)/Math.log(2)}function Fn(e){return e<0||e===d.d||e===d.e?0:e}function Vn(e,t,a){a.preventDefault();var n=m.d(c.a(a.currentTarget.value),t),r=n<t?t:n;return l.a(e,(function(e){return r}))}var Qn=function(e){return n.createElement("p",{className:"content-area"},"Page not found.")},Wn=function(e){return n.createElement(In,{children:n.createElement("div",{className:Tn},n.createElement("aside",{className:On},n.createElement("ol",void 0,n.createElement("li",{className:Gn},n.createElement("button",{className:"button-primary",onClick:function(e){return document.body.style.cursor="wait",f.b(f.a.$$catch(f.a.fromBsPromise(Promise.all([Ma(qa,va),La(Ha,Be.toStringArray(ba)),La(Ja,Be.toStringArray(pa))])),(function(e){return document.body.style.cursor="auto",M("Couldn't load demo data."),f.e([void 0,void 0,void 0])})),(function(e){return document.body.style.cursor="auto",M("Demo data loaded!")}))}},"Click here to load the demo data")," (optional)"),n.createElement("li",{className:Gn},n.createElement($a.a,{})," Select a menu item."),n.createElement("li",{className:Gn},"Start creating your tournaments!")),n.createElement(we,{children:null,kind:1},"If you experience glitches or crashes,",n.createElement("br",void 0),"clear your browser cache and try again.")),n.createElement("div",{className:jn},n.createElement("div",{className:Ln},n.createElement("img",{alt:"",height:"96",src:P.logo,width:"96"})),n.createElement("div",{className:Mn},n.createElement("h1",{className:"title",style:{fontSize:"40px"}},"Coronate"),n.createElement("p",{className:s.a(Pn,"caption-30")},"Tournament manager"))),n.createElement("footer",{className:s.a(Bn,"body-20")},n.createElement("div",{style:{textAlign:"left"}},n.createElement("p",void 0,"Copyright "+F+" 2021 John Jackson."),n.createElement("p",void 0,"Coronate is free software.",n.createElement("br",void 0),n.createElement("a",{className:Dn,href:be},"Source code is available")," under the ",n.createElement("a",{className:Dn,href:pe},"AGPL v3.0 license"),".")),n.createElement("div",{style:{textAlign:"right"}},n.createElement("p",void 0,n.createElement("a",{className:Dn,href:"https://github.com/johnridesabike/coronate/issues/new"},"Suggestions and bug reports are welcome.")),n.createElement("p",void 0,"Built with ",n.createElement("a",{className:Dn,href:"https://rescript-lang.org/"},"Rescript")," & ",n.createElement("a",{className:Dn,href:"https://reactjs.org/"},"React"),". ",n.createElement("span",{style:{fontSize:"16px"}},n.createElement("img",{alt:"",height:"16",src:P.rescript,width:"16"})," ",n.createElement(nn,{}))))))})},qn=function(e){var t=n.useState((function(){return 2})),a=t[1],r=t[0],i=n.useState((function(){return 5})),s=i[1],o=i[0],c=n.useState((function(){return 4})),d=c[1],f=c[0];return n.createElement(In,{children:n.createElement("div",{className:"content-area"},n.createElement("h1",void 0,"Time calculator"),n.createElement("p",{className:"caption-30"},"Estimate the time requirements for planning your Swiss-style tournament."),n.createElement("form",void 0,n.createElement("table",{style:{margin:"0"}},n.createElement("tbody",void 0,n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"playerCount"},"Player count ")),n.createElement("td",void 0,n.createElement("input",{id:"playerCount",style:{width:"40px"},min:String(0),type:"number",value:String(r),onChange:function(e){return Vn(a,0,e)}}))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",void 0,"Round count")),n.createElement("td",void 0,Fn(Math.ceil(xn(r))))),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"breakTime"},"Breaks between rounds ")),n.createElement("td",void 0,n.createElement("input",{id:"breakTime",style:{width:"40px"},min:String(0),step:5,type:"number",value:String(o),onChange:function(e){return Vn(s,0,e)}})," minutes")),n.createElement("tr",void 0,n.createElement("td",void 0,n.createElement("label",{htmlFor:"totalTime"},"Total time available ")),n.createElement("td",void 0,n.createElement("input",{id:"totalTime",style:{width:"40px"},min:String(.5),step:.5,type:"number",value:String(f),onChange:function(e){e.preventDefault();var t=m.d(u.a(e.currentTarget.value),.5),a=t<.5?.5:t;return l.a(d,(function(e){return a}))}})," hours"))))),n.createElement("p",{className:"title-20"},"Maximum time control: "),n.createElement("p",void 0,n.createElement("span",{className:"title-20"},Fn(Math.ceil((60*f/Math.ceil(xn(r))-o)/2))," minutes"),n.createElement("span",{className:"caption-30"}," = ((",n.createElement("strong",{className:"monospace"},f)," \xd7 60 \xf7 \u2308log\u2082(",n.createElement("strong",{className:"monospace"},r),")\u2309) - ",n.createElement("strong",{className:"monospace"},o),") \xf7 2")))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Hn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var Jn=a(49),zn=a(102),Un="Bye_Round_Tourney____",Kn="Bye_Round_Tourney_2__",Yn="Bye_Tourney_3________",Zn="Simple_Pairing_______",Xn="Deleted_Player_Torney",$n="Pairing_With_Draws___",er="WY_AzAeDDZeHMbhgUVuum",tr="Crow_T_Robot_________",ar="Dr_Clayton_Forrester_",nr="Grandy_McMaster______",rr="Gypsy________________",ir="Joel_Robinson________",sr="Newbie_McNewberson___",or="Tom_Servo____________",lr="TVs_Frank____________",cr="Cambot_______________",ur="Jonah_Heston_________",dr="Kinga_Forrester______",mr="Larry_Erhardt________",fr="Mike_Nelson__________",hr="Observer_Brain_Guy___",gr="Pearl_Forrester______",vr="Professor_Bobo_______",br="TVs_Son_of_TVs_Frank_",pr="Deleted_Player_______";l.a(Je.$$Set.fromArray,y.j([[lr,br],[gr,ar],[dr,ar],[dr,gr]],(function(e){return Je.make(e[0],e[1])}))),new Date("1970-01-01T00:00:00.000Z"),Be.fromArray([[cr,{firstName:"Cambot",id:cr,lastName:"",matchCount:25,rating:1500,type_:0}],[tr,{firstName:"Crow T",id:tr,lastName:"Robot",matchCount:5,rating:1700,type_:0}],[ar,{firstName:"Clayton",id:ar,lastName:"Forrester",matchCount:40,rating:2100,type_:0}],[nr,{firstName:"Grandy",id:nr,lastName:"McMaster",matchCount:100,rating:2600,type_:0}],[rr,{firstName:"Gypsy",id:rr,lastName:"",matchCount:15,rating:1600,type_:0}],[ir,{firstName:"Joel",id:ir,lastName:"Robinson",matchCount:70,rating:2400,type_:0}],[ur,{firstName:"Jonah",id:ur,lastName:"Heston",matchCount:50,rating:2200,type_:0}],[dr,{firstName:"Kinga",id:dr,lastName:"Forrester",matchCount:20,rating:1900,type_:0}],[mr,{firstName:"Larry",id:mr,lastName:"Erhardt",matchCount:45,rating:1300,type_:0}],[fr,{firstName:"Mike",id:fr,lastName:"Nelson",matchCount:60,rating:2300,type_:0}],[sr,{firstName:"Newbie",id:sr,lastName:"McNewberson",matchCount:0,rating:800,type_:0}],[hr,{firstName:"Brain",id:hr,lastName:"Guy",matchCount:55,rating:1200,type_:0}],[gr,{firstName:"Pearl",id:gr,lastName:"Forrester",matchCount:30,rating:2e3,type_:0}],[vr,{firstName:"Bobo",id:vr,lastName:"Professor",matchCount:75,rating:1e3,type_:0}],[lr,{firstName:"TV's",id:lr,lastName:"Frank",matchCount:35,rating:1400,type_:0}],[br,{firstName:"TV's",id:br,lastName:"Max",matchCount:65,rating:1100,type_:0}],[or,{firstName:"Tom",id:or,lastName:"Servo",matchCount:10,rating:1800,type_:0}]]),Be.fromArray([[Un,{id:Un,name:"Bye Round Tourney",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:{hd:ir,tl:{hd:tr,tl:{hd:or,tl:{hd:rr,tl:{hd:cr,tl:{hd:sr,tl:{hd:nr,tl:0}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:xt}],[Kn,{id:Kn,name:"Bye Round Tourney 2",date:new Date("2019-06-12T23:49:47.103Z"),playerIds:{hd:ir,tl:{hd:tr,tl:{hd:or,tl:{hd:rr,tl:{hd:cr,tl:{hd:sr,tl:{hd:nr,tl:0}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"xTXxZHB0sTt__xIAg45fm",whiteId:nr,blackId:tr,whiteNewRating:2592,blackNewRating:1833,whiteOrigRating:2600,blackOrigRating:1700,result:1},{id:"zQcf9RWXK7iuU6ibPzrhU",whiteId:ir,blackId:rr,whiteNewRating:2400,blackNewRating:1600,whiteOrigRating:2400,blackOrigRating:1600,result:0},{id:"Vw_X0c7O4vshrYEO-oSzR",whiteId:or,blackId:cr,whiteNewRating:1738,blackNewRating:1526,whiteOrigRating:1800,blackOrigRating:1500,result:1},{id:"iSDujOVkOTrcLv_KJmd7s",whiteId:sr,blackId:Re,whiteNewRating:800,blackNewRating:0,whiteOrigRating:800,blackOrigRating:0,result:0}])]}],[Yn,{id:Yn,name:"Bye Tourney 3",date:new Date("2019-06-17T23:00:29.603Z"),playerIds:{hd:dr,tl:{hd:sr,tl:{hd:ur,tl:0}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"KkFr4B7FDqiHRWmACgApf",whiteId:dr,blackId:ur,whiteNewRating:1894,blackNewRating:2202,whiteOrigRating:1900,blackOrigRating:2200,result:1},{id:"R_BTsGSziwgyvFZM3yc5u",whiteId:sr,blackId:Re,whiteNewRating:793,blackNewRating:0,whiteOrigRating:793,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"rcyCfpZU6olav5kdVac44",whiteId:ur,blackId:sr,whiteNewRating:2187,blackNewRating:953,whiteOrigRating:2202,blackOrigRating:793,result:1},{id:"Nc0Om5fEuwSuzFls9wmME",whiteId:dr,blackId:Re,whiteNewRating:1894,blackNewRating:0,whiteOrigRating:1894,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"uawjKwbiA38RP8pA--tlw",whiteId:sr,blackId:dr,whiteNewRating:952,blackNewRating:1894,whiteOrigRating:953,blackOrigRating:1894,result:1},{id:"-kwIDxjPhWVRbqxtRZ26_",whiteId:ur,blackId:Re,whiteNewRating:2187,blackNewRating:0,whiteOrigRating:2187,blackOrigRating:0,result:0}])]}],[Zn,{id:Zn,name:"Simple Pairing",date:new Date("2019-06-14T11:40:34.407Z"),playerIds:{hd:sr,tl:{hd:nr,tl:{hd:ir,tl:{hd:ar,tl:{hd:lr,tl:{hd:tr,tl:{hd:or,tl:{hd:rr,tl:0}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"KdLva8hWqYHdaU9KnFTe2",whiteId:tr,blackId:nr,whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"WDPFsNF1yADs4qofFwCY0",whiteId:rr,blackId:ir,whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"R5sXfTOJw5vrJ4IytAjSi",whiteId:lr,blackId:ar,whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"2YOsn_JJFnaUMhRBAc9KY",whiteId:sr,blackId:or,whiteNewRating:1597,blackNewRating:1728,whiteOrigRating:800,blackOrigRating:1800,result:0}]),Pt.empty]}],[$n,{id:$n,name:"Pairing with draws",date:new Date("2019-06-14T14:18:06.686Z"),playerIds:{hd:sr,tl:{hd:nr,tl:{hd:ir,tl:{hd:ar,tl:{hd:lr,tl:{hd:tr,tl:{hd:or,tl:{hd:rr,tl:0}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"ryWXwvFGwBKQqGBbMYeps",whiteId:tr,blackId:nr,whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"2KKVbi0AfNxfJAJobTgP5",whiteId:rr,blackId:ir,whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"zdlBHBAqgV2qabn2oBa2a",whiteId:lr,blackId:ar,whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"8fGxU3tLpd8GibuSQr9-Y",whiteId:sr,blackId:or,whiteNewRating:1197,blackNewRating:1764,whiteOrigRating:800,blackOrigRating:1800,result:2}]),Pt.empty]}],[er,{id:er,name:"Score testing",date:new Date("2020-06-28T12:42:46.347Z"),playerIds:{hd:ir,tl:{hd:fr,tl:{hd:vr,tl:{hd:or,tl:{hd:br,tl:{hd:lr,tl:{hd:cr,tl:{hd:ar,tl:{hd:tr,tl:{hd:gr,tl:{hd:hr,tl:{hd:dr,tl:{hd:ur,tl:0}}}}}}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"IPRs48UZ3ubxbyzs9-Aj8",whiteId:ir,blackId:or,whiteNewRating:2400,blackNewRating:1798,whiteOrigRating:2400,blackOrigRating:1800,result:0},{id:"tcrk4_Eze6YB1jfgFxMg2",whiteId:tr,blackId:fr,whiteNewRating:1695,blackNewRating:2300,whiteOrigRating:1700,blackOrigRating:2300,result:1},{id:"g30WVQazEVlyFZoB_iKNP",whiteId:cr,blackId:ur,whiteNewRating:1531,blackNewRating:2184,whiteOrigRating:1500,blackOrigRating:2200,result:0},{id:"z6z2X8Al9iNDmx2rc6iSd",whiteId:ar,blackId:lr,whiteNewRating:2080,blackNewRating:1422,whiteOrigRating:2100,blackOrigRating:1400,result:1},{id:"_wRcKBpFnPspJeiglbv42",whiteId:hr,blackId:gr,whiteNewRating:1214,blackNewRating:1974,whiteOrigRating:1200,blackOrigRating:2e3,result:0},{id:"g35wmUfw3--3dZvF4Dxai",whiteId:dr,blackId:br,whiteNewRating:1860,blackNewRating:1112,whiteOrigRating:1900,blackOrigRating:1100,result:1},{id:"ZFwPgPSrdR0dsiROQpZmq",whiteId:vr,blackId:Re,whiteNewRating:1e3,blackNewRating:0,whiteOrigRating:1e3,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"gvr8PMNdqVwvMHpQZhxKW",whiteId:lr,blackId:ir,whiteNewRating:1444,blackNewRating:2389,whiteOrigRating:1422,blackOrigRating:2400,result:0},{id:"n02yWL6MNgkS19IREj_Df",whiteId:fr,blackId:hr,whiteNewRating:2287,blackNewRating:1228,whiteOrigRating:2300,blackOrigRating:1214,result:1},{id:"Luic7R_pGjZmSYxN1uNmc",whiteId:br,blackId:cr,whiteNewRating:1123,blackNewRating:1503,whiteOrigRating:1112,blackOrigRating:1531,result:0},{id:"Ew_xdm0tKHE1423CYoApT",whiteId:gr,blackId:vr,whiteNewRating:1949,blackNewRating:1010,whiteOrigRating:1974,blackOrigRating:1e3,result:1},{id:"steThF-oNT-fBZe4AUHjc",whiteId:ur,blackId:dr,whiteNewRating:2186,blackNewRating:1855,whiteOrigRating:2184,blackOrigRating:1860,result:0},{id:"3QPqo0tMvKVzgaQOFjezL",whiteId:or,blackId:ar,whiteNewRating:1786,blackNewRating:2083,whiteOrigRating:1798,blackOrigRating:2080,result:1},{id:"BsbnpljVf9OagbfT8sUhJ",whiteId:tr,blackId:Re,whiteNewRating:1695,blackNewRating:0,whiteOrigRating:1695,blackOrigRating:0,result:0}]),Pt.fromArray([{id:"lqRRkcPXADxNcZoYNUs4O",whiteId:vr,blackId:lr,whiteNewRating:1019,blackNewRating:1425,whiteOrigRating:1010,blackOrigRating:1444,result:0},{id:"tFw25nJzFa1DNC3kEBlvL",whiteId:hr,blackId:br,whiteNewRating:1219,blackNewRating:1130,whiteOrigRating:1228,blackOrigRating:1123,result:1},{id:"4s3IVU-DxR2itlDt6Pbry",whiteId:ar,blackId:ur,whiteNewRating:2095,blackNewRating:2176,whiteOrigRating:2083,blackOrigRating:2186,result:0},{id:"-J00pFQGNydkCVJ9IY57T",whiteId:cr,blackId:fr,whiteNewRating:1503,blackNewRating:2287,whiteOrigRating:1503,blackOrigRating:2287,result:1},{id:"aN_Nzb1GFvoIT1Dlu3bn9",whiteId:ir,blackId:gr,whiteNewRating:2390,blackNewRating:1947,whiteOrigRating:2389,blackOrigRating:1949,result:0},{id:"taKyrpJg9XpACuWq16bum",whiteId:dr,blackId:tr,whiteNewRating:1829,blackNewRating:1790,whiteOrigRating:1855,blackOrigRating:1695,result:1},{id:"Rh_UVxVKowtjSpeH-4Xwc",whiteId:or,blackId:Re,whiteNewRating:1786,blackNewRating:0,whiteOrigRating:1786,blackOrigRating:0,result:0}]),Pt.fromArray([])]}],[Xn,{id:Xn,name:"Deleted Player",date:new Date("2020-12-24T11:40:34.407Z"),playerIds:{hd:sr,tl:{hd:nr,tl:{hd:ir,tl:{hd:ar,tl:{hd:lr,tl:{hd:tr,tl:{hd:or,tl:{hd:pr,tl:0}}}}}}}},scoreAdjustments:Be.make(void 0),byeQueue:[pr],tieBreaks:[0,1,2,3],roundList:[Pt.fromArray([{id:"KdLva8hWqYHdaU9KnFTe2",whiteId:tr,blackId:nr,whiteNewRating:1699,blackNewRating:2600,whiteOrigRating:1700,blackOrigRating:2600,result:1},{id:"WDPFsNF1yADs4qofFwCY0",whiteId:pr,blackId:ir,whiteNewRating:1650,blackNewRating:2389,whiteOrigRating:1600,blackOrigRating:2400,result:0},{id:"R5sXfTOJw5vrJ4IytAjSi",whiteId:lr,blackId:ar,whiteNewRating:1400,blackNewRating:2100,whiteOrigRating:1400,blackOrigRating:2100,result:1},{id:"2YOsn_JJFnaUMhRBAc9KY",whiteId:sr,blackId:or,whiteNewRating:1597,blackNewRating:1728,whiteOrigRating:800,blackOrigRating:1800,result:0}]),Pt.empty]}]]);function Er(e){var t=new Date;return Ee.concat({hd:String(t.getFullYear()),tl:{hd:p()(t.getMonth()+1).format("00"),tl:{hd:p()(t.getDate()).format("00"),tl:0}}},"-")}function yr(e){var t=Se.g("players",(function(e){return Se.f(_a,e)}),e),a=Se.g("tournaments",(function(e){return Se.f(Ca,e)}),e);return{config:Se.g("config",We,e),players:Be.fromStringArray(Oa.a(t)),tournaments:Be.fromStringArray(Oa.a(a))}}function Nr(e){var t=h.k(e.players,ka),a=h.k(e.tournaments,Ta);return je.d({hd:["config",qe(e.config)],tl:{hd:["players",Oa.b(Be.toStringArray(t))],tl:{hd:["tournaments",Oa.b(Be.toStringArray(a))],tl:0}}})}function wr(e){var t=e.date;return 0===t.getTime()?"Never":n.createElement(Ne,{date:t})}var _r=function(e){var t=e.windowDispatch,a=void 0!==t?t:function(e){},r=Ya(),i=r.dispatch,s=r.items,o=Ka(),c=o.dispatch,u=o.items,d=n.useState((function(){return""})),m=d[1],f=d[0],h=Xa(),g=h[1],b=h[0];n.useEffect((function(){return l.a(a,{TAG:2,_0:"Options"}),function(e){return l.a(a,{TAG:2,_0:""})}}),[a]);var p=n.useMemo((function(){return{config:b,players:u,tournaments:s}}),[b,s,u]),E=encodeURIComponent(Jn.b(Nr(p)));n.useEffect((function(){var e=Nr(p),t=JSON.stringify(e,null,2);l.a(m,(function(e){return t}))}),[p,m]);var N=function(e,t,a){return l.a(i,{TAG:2,_0:e}),l.a(g,{TAG:5,_0:a}),l.a(c,{TAG:2,_0:t}),M("Data loaded.")},w=b.byeValue,_=b.byeValue;return n.createElement(In,{children:n.createElement("div",{className:"content-area"},n.createElement("h2",void 0,"Bye  settings"),n.createElement("form",void 0,n.createElement("p",{className:"caption-30"},"Select the default score for a bye round."),n.createElement("label",{className:"monospace body-30"},"1 ",n.createElement("input",{checked:!w,type:"radio",onChange:function(e){return l.a(g,{TAG:4,_0:0})}})),n.createElement("label",{className:"monospace body-30"},"\xbd ",n.createElement("input",{checked:!!_,type:"radio",onChange:function(e){return l.a(g,{TAG:4,_0:1})}}))),n.createElement("h2",void 0,"Manage data"),n.createElement("p",{className:"caption-20"},"Last export: ",n.createElement(wr,{date:b.lastBackup})),n.createElement("p",void 0,n.createElement("a",{download:"coronate-"+Er()+".json",href:"data:application/json,"+E,onClick:function(e){return l.a(g,{TAG:6,_0:new Date})}},n.createElement(zn.a,{})," Export all data")),n.createElement("label",{htmlFor:"file"},"Load data file:"),n.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t,a=e.target.result,n=Jn.a(a);if(void 0===n)return M("That data is invalid! A more helpful error message could not be written yet.");try{t=yr(v.d(n))}catch(i){var r=Ga.b(i);if(r.RE_EXN_ID===Se.c)return M("That data is invalid! A more helpful error message could not be written yet.");throw r}return N(t.tournaments,t.players,t.config)},t.readAsText(y.g(e.currentTarget.files,0)),e.currentTarget.value=""}}),n.createElement("h2",void 0,"Danger zone"),n.createElement("p",{className:"caption-30"},"I hope you know what you're doing..."),n.createElement("button",{onClick:function(e){return e.preventDefault(),N(pa,ba,va)}},"Reset demo data (this erases everything else)")," ",null,n.createElement("h3",void 0,"Advanced: manually edit data"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a=Jn.a(f);if(void 0===a)return M("That data is invalid! A more helpful error message could not be written yet.");try{t=yr(v.d(a))}catch(r){var n=Ga.b(r);if(n.RE_EXN_ID===Se.c)return M("That data is invalid! A more helpful error message could not be written yet.");throw n}return N(t.tournaments,t.players,t.config)}},n.createElement("textarea",{className:"json",spellCheck:!1,cols:50,name:"playerdata",rows:25,value:f,onChange:function(e){var t=e.currentTarget.value;return l.a(m,(function(e){return t}))}}),n.createElement("p",void 0,n.createElement("input",{type:"submit",value:"Load"}))))})},kr=a(26),Sr=a(103),Rr=a(104),Ar=a(105),Ir=a(59);function Cr(e,t){return 1/(1+Math.pow(10,(t-e|0)/400))}function Tr(e,t,a,n){return 0|Math.round(n+e*(a-t))}function Or(e){var t=e>0?e:1;return Ir.a(800,t)}function Gr(e){return e>100?e:100}var Br={getKFactor:Or},Dr=a(48),jr={TAG:0,_0:function(e){return e.firstName}},Lr={TAG:1,_0:function(e){return e.rating}},Mr={TAG:1,_0:function(e){return e.matchCount}},Pr={strategy:3,validate:function(e){var t=c.a(e.matchCount);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Match count must be a number"}}},xr={strategy:3,validate:function(e){var t=c.a(e.rating);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Rating must be a number"}}},Fr={strategy:3,validate:function(e){var t=e.lastName;return""===t?{TAG:1,_0:"Last name is required"}:{TAG:0,_0:t}}},Vr={strategy:3,validate:function(e){var t=e.firstName;return""===t?{TAG:1,_0:"First name is required"}:{TAG:0,_0:t}}},Qr={matchCount:Pr,rating:xr,lastName:Fr,firstName:Vr};function Wr(e){return{input:e,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:void 0,formStatus:0,submissionStatus:0}}function qr(e,t,a){var n,r=a.matchCount,i=r?r._0:l.a(t.matchCount.validate,e),s=a.rating,o=s?s._0:l.a(t.rating.validate,e),c=a.lastName,u=c?c._0:l.a(t.lastName.validate,e),d=a.firstName,m=d?d._0:l.a(t.firstName.validate,e),f=i;if(0===f.TAG){var h=o;if(0===h.TAG){var g=u;if(0===g.TAG){var v=m;if(0===v.TAG)return{TAG:0,output:{firstName:v._0,lastName:g._0,rating:h._0,matchCount:f._0},fieldsStatuses:{matchCount:{_0:f,_1:0},rating:{_0:h,_1:0},lastName:{_0:g,_1:0},firstName:{_0:v,_1:0}},collectionsStatuses:void 0};n=f}else n=f}else n=f}else n=f;return{TAG:1,fieldsStatuses:{matchCount:{_0:n,_1:0},rating:{_0:o,_1:0},lastName:{_0:u,_1:0},firstName:{_0:m,_1:0}},collectionsStatuses:void 0}}function Hr(e,t){var a,r=n.useMemo((function(){return Wr(e)}),[e]),i=Dr.a(r,(function(a,n){if("number"===typeof n)switch(n){case 0:var r=kr.b(a.input,a.fieldsStatuses.matchCount,Pr,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}}));return void 0!==r?{TAG:0,_0:{input:a.input,fieldsStatuses:r,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 1:var i=kr.b(a.input,a.fieldsStatuses.rating,xr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}}));return void 0!==i?{TAG:0,_0:{input:a.input,fieldsStatuses:i,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 2:var s=kr.b(a.input,a.fieldsStatuses.lastName,Fr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}}));return void 0!==s?{TAG:0,_0:{input:a.input,fieldsStatuses:s,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 3:var o=kr.b(a.input,a.fieldsStatuses.firstName,Vr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}}));return void 0!==o?{TAG:0,_0:{input:a.input,fieldsStatuses:o,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 4:var c=a.formStatus;if("number"!==typeof c&&0===c.TAG)return 0;var u=qr(a.input,Qr,a.fieldsStatuses);if(0!==u.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:u.fieldsStatuses,collectionsStatuses:u.collectionsStatuses,formStatus:0,submissionStatus:1}};var d,m=u.output,f=a.formStatus;return d="number"===typeof f||1!==f.TAG?void 0:v.b(f._0),{TAG:1,_0:{input:a.input,fieldsStatuses:u.fieldsStatuses,collectionsStatuses:u.collectionsStatuses,formStatus:{TAG:0,_0:d},submissionStatus:1},_1:function(e){var a=e.dispatch;return l.b(t,m,{notifyOnSuccess:function(e){return l.a(a,{TAG:4,_0:e})},notifyOnFailure:function(e){return l.a(a,{TAG:5,_0:e})},reset:function(e){return l.a(a,7)},dismissSubmissionResult:function(e){return l.a(a,6)}})}};case 5:var h=a.formStatus;return"number"===typeof h||1!==h.TAG?0:{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 6:var g=a.formStatus;if("number"===typeof g){if(0===g)return 0}else if(0===g.TAG)return 0;return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 7:return{TAG:0,_0:Wr(e)}}else switch(0|n.TAG){case 0:var b=l.a(n._0,a.input);return{TAG:0,_0:{input:b,fieldsStatuses:kr.c(b,a.fieldsStatuses.matchCount,a.submissionStatus,Pr,(function(e){var t=a.fieldsStatuses;return{matchCount:e,rating:t.rating,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 1:var p=l.a(n._0,a.input);return{TAG:0,_0:{input:p,fieldsStatuses:kr.c(p,a.fieldsStatuses.rating,a.submissionStatus,xr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:e,lastName:t.lastName,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 2:var E=l.a(n._0,a.input);return{TAG:0,_0:{input:E,fieldsStatuses:kr.c(E,a.fieldsStatuses.lastName,a.submissionStatus,Fr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:e,firstName:t.firstName}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 3:var y=l.a(n._0,a.input);return{TAG:0,_0:{input:y,fieldsStatuses:kr.c(y,a.fieldsStatuses.firstName,a.submissionStatus,Vr,(function(e){var t=a.fieldsStatuses;return{matchCount:t.matchCount,rating:t.rating,lastName:t.lastName,firstName:e}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 4:var N=n._0;return void 0!==N?{TAG:0,_0:{input:N,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}}:{TAG:0,_0:{input:a.input,fieldsStatuses:{matchCount:0,rating:0,lastName:0,firstName:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}};case 5:return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:n._0},submissionStatus:a.submissionStatus}};case 6:var w=n._0,_=a.formStatus;if("number"===typeof _)return 0;if(0!==_.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:l.a(w,_._0)},submissionStatus:a.submissionStatus}};var k=_._0;return void 0!==k?{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:0,_0:v.b(l.a(w,v.d(k)))},submissionStatus:a.submissionStatus}}:0}})),s=i[1],o=i[0],c=o.formStatus;return a="number"!==typeof c&&0===c.TAG,{updateMatchCount:function(e,t){return l.a(s,{TAG:0,_0:function(a){return l.b(e,a,t)}})},updateRating:function(e,t){return l.a(s,{TAG:1,_0:function(a){return l.b(e,a,t)}})},updateLastName:function(e,t){return l.a(s,{TAG:2,_0:function(a){return l.b(e,a,t)}})},updateFirstName:function(e,t){return l.a(s,{TAG:3,_0:function(a){return l.b(e,a,t)}})},blurMatchCount:function(e){return l.a(s,0)},blurRating:function(e){return l.a(s,1)},blurLastName:function(e){return l.a(s,2)},blurFirstName:function(e){return l.a(s,3)},matchCountResult:kr.a(o.fieldsStatuses.matchCount),ratingResult:kr.a(o.fieldsStatuses.rating),lastNameResult:kr.a(o.fieldsStatuses.lastName),firstNameResult:kr.a(o.fieldsStatuses.firstName),input:o.input,status:o.formStatus,dirty:function(e){var t=o.fieldsStatuses;return!!(t.matchCount||t.rating||t.lastName||t.firstName)},valid:function(e){return 0===qr(o.input,Qr,o.fieldsStatuses).TAG},submitting:a,submit:function(e){return l.a(s,4)},dismissSubmissionError:function(e){return l.a(s,5)},dismissSubmissionResult:function(e){return l.a(s,6)},mapSubmissionError:function(e){return l.a(s,{TAG:6,_0:e})},reset:function(e){return l.a(s,7)}}}function Jr(e){return void 0!==e&&0!==e.TAG?n.createElement(we,{children:e._0,kind:2}):null}function zr(e){var t=e.dispatch,a=e.addPlayerCallback,r=Hr({firstName:"",lastName:"",rating:"1200",matchCount:"0"},(function(e,n){var r=Ie();return l.a(t,{TAG:1,_0:r,_1:{firstName:e.firstName,id:r,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:0}}),void 0!==a&&l.a(a,r),l.a(n.notifyOnSuccess,void 0),l.a(n.reset,void 0)}));return n.createElement("form",{onSubmit:function(e){return e.preventDefault(),l.a(r.submit,void 0)}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Register a new player"),n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",required:!0,type:"text",value:r.input.firstName,onBlur:function(e){return l.a(r.blurFirstName,void 0)},onChange:function(e){return l.b(r.updateFirstName,(function(e,t){return{firstName:t,lastName:e.lastName,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Jr(r.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",required:!0,type:"text",value:r.input.lastName,onBlur:function(e){return l.a(r.blurLastName,void 0)},onChange:function(e){return l.b(r.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:t,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Jr(r.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"form-newplayer-rating"},"Rating"),n.createElement("input",{id:"form-newplayer-rating",name:"rating",required:!0,type:"number",value:r.input.rating,onBlur:function(e){return l.a(r.blurRating,void 0)},onChange:function(e){return l.b(r.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:t,matchCount:e.matchCount}}),e.target.value)}})),Jr(r.ratingResult),n.createElement("p",void 0,n.createElement("button",{disabled:r.submitting||!l.a(r.valid,void 0)},"Add"))))}var Ur=zr;function Kr(e){var t=e.sorted,a=e.sortDispatch,r=e.players,i=e.playersDispatch,s=e.configDispatch,o=e.windowDispatch,c=void 0!==o?o:function(e){},u=Et(!1);return n.useEffect((function(){return l.a(c,{TAG:2,_0:"Players"}),function(e){return l.a(c,{TAG:2,_0:""})}}),[c]),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return l.a(u.setTrue,void 0)}},n.createElement(Sr.a,{})," Add a new player")),n.createElement("table",{style:{margin:"auto"}},n.createElement("caption",void 0,"Player roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(wt,{children:"Name",sortColumn:jr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(wt,{children:"Rating",sortColumn:Lr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(wt,{children:"Matches",sortColumn:Mr,data:t,dispatch:a})),n.createElement("th",void 0,n.createElement(bt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(t.table,(function(e){return n.createElement("tr",{key:e.id,className:"buttons-on-hover"},n.createElement("td",{className:"table__player"},n.createElement(hn,{children:Ee.concat({hd:e.firstName,tl:{hd:e.lastName,tl:0}}," "),to_:{TAG:1,_0:e.id}})),n.createElement("td",{className:"table__number"},String(e.rating)),n.createElement("td",{className:"table__number"},String(e.matchCount)),n.createElement("td",void 0,n.createElement("button",{className:"danger button-ghost",onClick:function(t){var a=e.id;t.preventDefault();var n=h.c(r,a);if(void 0!==n){var o=Ee.concat({hd:"Are you sure you want to delete ",tl:{hd:n.firstName,tl:{hd:" ",tl:{hd:n.lastName,tl:{hd:"?",tl:0}}}}},"");return window.confirm(o)?(l.a(i,{TAG:0,_0:a}),l.a(s,{TAG:2,_0:a})):void 0}}},n.createElement(Rr.a,{}),n.createElement(bt.a,{children:Ee.concat({hd:"Delete",tl:{hd:e.firstName,tl:{hd:e.lastName,tl:0}}}," ")}))))})))),n.createElement(vn,{isOpen:u.state,onDismiss:function(e){return l.a(u.setFalse,void 0)},ariaLabel:"New player form",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(u.setFalse,void 0)}},"Close"),n.createElement(zr,{dispatch:i})))}function Yr(e){var t=e.player,a=e.players,r=e.playersDispatch,i=e.config,s=e.configDispatch,o=e.windowDispatch,c=void 0!==o?o:function(e){},u=t.type_,d=t.matchCount,m=t.id,f=Hr({firstName:t.firstName,lastName:t.lastName,rating:String(t.rating),matchCount:String(d)},(function(e,t){return l.a(r,{TAG:1,_0:m,_1:{firstName:e.firstName,id:m,lastName:e.lastName,matchCount:e.matchCount,rating:e.rating,type_:u}}),l.a(t.notifyOnSuccess,void 0),l.a(t.reset,void 0)})),g=Ee.concat({hd:f.input.firstName,tl:{hd:f.input.lastName,tl:0}}," ");n.useEffect((function(){return l.a(c,{TAG:2,_0:"Profile for "+g}),function(e){return l.a(c,{TAG:2,_0:""})}}),[c,g]);var b,p=l.a(Je.$$Set.toMap,i.avoidPairs),N=h.c(p,m),w=void 0!==N?N:0,_=E.g(E.c(h.i(a)),(function(e){return!E.f(w,e,Oe)&&!Oe(e,m)})),k=n.useState((function(){if(_)return v.b(_.hd)})),S=k[1],R=k[0],A=f.matchCountResult;return b=void 0!==A?0===A.TAG?String(Br.getKFactor(A._0)):"":String(Br.getKFactor(d)),n.createElement("div",{className:"content-area",style:{margin:"auto",width:"650px"}},n.createElement(hn,{children:null,to_:2,onClick:function(e){!l.a(f.dirty,void 0)||window.confirm("Discard changes?")||e.preventDefault()}},n.createElement(Ar.a,{})," Back"),n.createElement("h2",void 0,"Profile for "+g),n.createElement("form",{onSubmit:function(e){return e.preventDefault(),l.a(f.submit,void 0)}},n.createElement("p",void 0,n.createElement("label",{htmlFor:"firstName"},"First name"),n.createElement("input",{name:"firstName",type:"text",value:f.input.firstName,onBlur:function(e){return l.a(f.blurFirstName,void 0)},onChange:function(e){return l.b(f.updateFirstName,(function(e,t){return{firstName:t,lastName:e.lastName,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Jr(f.firstNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"lastName"},"Last name"),n.createElement("input",{name:"lastName",type:"text",value:f.input.lastName,onBlur:function(e){return l.a(f.blurLastName,void 0)},onChange:function(e){return l.b(f.updateLastName,(function(e,t){return{firstName:e.firstName,lastName:t,rating:e.rating,matchCount:e.matchCount}}),e.target.value)}})),Jr(f.lastNameResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"matchCount"},"Matches played"),n.createElement("input",{name:"matchCount",type:"number",value:f.input.matchCount,onBlur:function(e){return l.a(f.blurMatchCount,void 0)},onChange:function(e){return l.b(f.updateMatchCount,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:e.rating,matchCount:t}}),e.target.value)}})),Jr(f.matchCountResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"rating"},"Rating"),n.createElement("input",{name:"rating",type:"number",value:f.input.rating,onBlur:function(e){return l.a(f.blurRating,void 0)},onChange:function(e){return l.b(f.updateRating,(function(e,t){return{firstName:e.firstName,lastName:e.lastName,rating:t,matchCount:e.matchCount}}),e.target.value)}})),Jr(f.ratingResult),n.createElement("p",void 0,n.createElement("label",{htmlFor:"Kfactor"},"K factor"),n.createElement("input",{disabled:!0,name:"kfactor",readOnly:!0,type:"number",value:b})),n.createElement("p",void 0,n.createElement("button",{disabled:f.submitting||!l.a(f.valid,void 0)},l.a(f.dirty,void 0)?"Save":"Saved"))),n.createElement("h3",void 0,"Players to avoid"),n.createElement("ul",void 0,y.l(y.q(E.p(w)),(function(e){return n.createElement("li",{key:e},Ra(a,e).firstName," ",Ra(a,e).lastName,n.createElement("button",{"aria-label":Ee.concat({hd:"Remove",tl:{hd:Ra(a,e).firstName,tl:{hd:Ra(a,e).lastName,tl:{hd:"from avoid list.",tl:0}}}}," "),className:"danger button-ghost",title:Ee.concat({hd:"Remove",tl:{hd:Ra(a,e).firstName,tl:{hd:Ra(a,e).lastName,tl:{hd:"from avoid list.",tl:0}}}}," "),onClick:function(t){var a=Je.make(m,e);if(void 0!==a)return l.a(s,{TAG:1,_0:v.d(a)})}},n.createElement(Rr.a,{})))})),w?null:n.createElement("li",void 0,"None")),n.createElement("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==R){var t=v.d(R),a=Je.make(m,t);if(void 0!==a){var n;if(l.a(s,{TAG:0,_0:v.d(a)}),_){var r=_.tl,i=_.hd;n=Oe(i,t)?r?v.b(r.hd):void 0:v.b(i)}else n=void 0;return l.a(S,(function(e){return n}))}}}},n.createElement("label",{htmlFor:"avoid-select"},"Select a new player to avoid."),void 0!==R?n.createElement(n.Fragment,void 0,n.createElement("select",{id:"avoid-select",value:v.d(R),onBlur:function(e){var t=e.currentTarget.value;return l.a(S,(function(e){return t}))},onChange:function(e){var t=e.currentTarget.value;return l.a(S,(function(e){return t}))}},y.l(E.p(_),(function(e){return n.createElement("option",{key:e,value:e},Ra(a,e).firstName," ",Ra(a,e).lastName)})))," ",n.createElement("input",{className:"button-micro",type:"submit",value:"Add"})):"No players are available to avoid."))}var Zr=function(e){var t=e.id,a=e.windowDispatch,r=Ka(),i=r.dispatch,s=r.items,o=Nt(h.u(s),jr,!1),c=o[1];n.useEffect((function(){l.a(c,{TAG:2,_0:h.u(s)})}),[s,c]);var u,d=Xa(),m=d[1];if(void 0!==t){var f=h.c(s,v.d(t));if(void 0!==f){var g={player:f,players:s,playersDispatch:i,config:d[0],configDispatch:m};void 0!==a&&(g.windowDispatch=v.d(a)),u=n.createElement(Yr,g)}else u=n.createElement("div",void 0,"Loading...")}else{var b={sorted:o[0],sortDispatch:c,players:s,playersDispatch:i,configDispatch:m};void 0!==a&&(b.windowDispatch=v.d(a)),u=n.createElement(Kr,b)}return n.createElement(In,{children:u})},Xr=a(116),$r=a(117),ei=a(114),ti=a(118),ai=a(29),ni=a(110),ri=a(111),ii=a(109),si=a(112),oi=a(113),li=a(108),ci=a(50);function ui(e){return E.j(e,0,(function(e,t){return e+t}))}function di(e){return 8/e}function mi(e){return 0}var fi=ui({hd:di(1),tl:{hd:4,tl:{hd:16,tl:{hd:32,tl:0}}}});function hi(e,t){if(Oe(e.id,t.id))return 0;var a=E.f(e.opponents,t.id,Oe),n=E.f(e.avoidIds,t.id,Oe),r=e.colors,i=t.colors,s=!r||!i||r.hd!==i.hd,o=Math.abs(e.score-t.score)+1,l=d.b(e.halfPos-t.halfPos|0)+1|0;return ui({hd:s?4:0,tl:{hd:16/o,tl:{hd:(e.isUpperHalf!==t.isUpperHalf&&e.score===t.score?di:mi)(l),tl:{hd:a||n?0:32,tl:0}}}})}function gi(e,t){return j(k.c,(function(e){return e.rating}),e,t)}function vi(e){var t=h.u(e);return h.k(e,(function(e){var a=function(e){var t=e.length/2|0;return[y.u(e,0,t),y.v(e,t)]}(_.a(y.i(t,(function(t){return t.score===e.score})),gi)),n=function(t){return y.h(t,(function(t){return t===e}))},r=n(a[0]),i=n(a[1]),s=void 0!==r?[r,!0]:void 0!==i?[i,!1]:[0,!1];return{id:e.id,avoidIds:e.avoidIds,colorScores:e.colorScores,colors:e.colors,halfPos:s[0],isUpperHalf:s[1],opponents:e.opponents,rating:e.rating,score:e.score}}))}function bi(e,t){var a=k.b(e.score,t.score);return 0!==a?a:k.c(e.rating,t.rating)}function pi(e){var t=e[1],a=e[0];return ui(a.colorScores)<ui(t.colorScores)?[t.id,a.id]:[a.id,t.id]}function Ei(e){return e[0].score+e[1].score}function yi(e){return e[0].rating+e[1].rating|0}function Ni(e,t){var a=k.b(Ei(t),Ei(e));return 0!==a?a:k.c(yi(t),yi(e))}function wi(e,t){var a=t[1],n=t[0],r=e[1],i=e[0];return i===n&&r===a||r===n&&i===a}function _i(e,t,a,n,r,i,s){var o=h.c(e,t),l=void 0!==o?o:at(a,t),c=Ae(i)?l.resultsNoByes:{hd:r,tl:l.resultsNoByes},u={hd:[i,r],tl:l.opponentResults};return{colorScores:{hd:$e.toScore(s),tl:l.colorScores},colors:{hd:s,tl:l.colors},id:l.id,isDummy:Ae(t),opponentResults:u,ratings:{hd:n,tl:l.ratings},firstRating:l.firstRating,results:{hd:r,tl:l.results},resultsNoByes:c,adjustment:l.adjustment}}function ki(e,t){return h.k((a=Ht(e),y.n(a,Be.make(void 0),(function(e,t){if(t.result>=3)return e;var a=_i(e,t.whiteId,t.whiteOrigRating,t.whiteNewRating,It.toScoreWhite(t.result),t.blackId,0),n=_i(e,t.blackId,t.blackOrigRating,t.blackNewRating,It.toScoreBlack(t.result),t.whiteId,1);return h.r(h.r(e,t.whiteId,a),t.blackId,n)}))),(function(e){var a=h.c(t,e.id);return void 0!==a?{colorScores:e.colorScores,colors:e.colors,id:e.id,isDummy:e.isDummy,opponentResults:e.opponentResults,ratings:e.ratings,firstRating:e.firstRating,results:e.results,resultsNoByes:e.resultsNoByes,adjustment:a}:e}));var a}var Si=a(106),Ri=a(107);function Ai(e){var t=e.tourney,a=e.setTourney,r=e.players,i=e.playersDispatch,s=t.playerIds,o=function(e){var n=e.target.value;return e.target.checked?l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:{hd:n,tl:s},scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList}):l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:E.g(s,(function(e){return!Oe(e,n)})),scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})};return n.createElement("div",void 0,n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:E.c(h.i(r)),scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select all"),n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:0,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}},"Select none")),n.createElement("table",void 0,n.createElement("caption",void 0,"Select players"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"First name"),n.createElement("th",void 0,"Last name"),n.createElement("th",void 0,"Select"))),n.createElement("tbody",void 0,y.l(h.u(r),(function(e){var t=e.lastName,a=e.id,r=e.firstName;return n.createElement("tr",{key:a},n.createElement("td",void 0,r),n.createElement("td",void 0,t),n.createElement("td",void 0,n.createElement(bt.a,{children:n.createElement("label",{htmlFor:"select-"+a},Ee.concat({hd:"Select",tl:{hd:r,tl:{hd:t,tl:0}}}," "))}),n.createElement("input",{id:"select-"+a,checked:E.f(s,a,Oe),type:"checkbox",value:a,onChange:o})))})))),n.createElement(Ur,{dispatch:i,addPlayerCallback:function(e){return l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:{hd:e,tl:s},scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks,roundList:t.roundList})}}))}var Ii=Ai;function Ci(e,t){return e.filter((function(e){return[e.whiteId,e.blackId].includes(t)})).reduce((function(e,t){return e.concat([t.whiteId,t.blackId])}),[]).includes(Re)}var Ti={scoreAdjustment:{strategy:3,validate:function(e){var t=u.a(e.scoreAdjustment);return void 0!==t?{TAG:0,_0:t}:{TAG:1,_0:"Score adjustment must be a number."}}}};function Oi(e){return{input:e,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:void 0,formStatus:0,submissionStatus:0}}function Gi(e,t,a){var n=a.scoreAdjustment,r=n?n._0:l.a(t.scoreAdjustment.validate,e);return 0===r.TAG?{TAG:0,output:{scoreAdjustment:r._0},fieldsStatuses:{scoreAdjustment:{_0:r,_1:0}},collectionsStatuses:void 0}:{TAG:1,fieldsStatuses:{scoreAdjustment:{_0:r,_1:0}},collectionsStatuses:void 0}}function Bi(e){var t,a=e.setTourney,r=e.dialog,i=e.tourney,s=e.p,o=function(e,t){var a,r=n.useMemo((function(){return Oi(e)}),[e]),i=Dr.a(r,(function(a,n){if("number"===typeof n)switch(n){case 0:var r=kr.b(a.input,a.fieldsStatuses.scoreAdjustment,Ti.scoreAdjustment,(function(e){return{scoreAdjustment:e}}));return void 0!==r?{TAG:0,_0:{input:a.input,fieldsStatuses:r,collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}}:0;case 1:var i=a.formStatus;if("number"!==typeof i&&0===i.TAG)return 0;var s=Gi(a.input,Ti,a.fieldsStatuses);if(0!==s.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:s.fieldsStatuses,collectionsStatuses:s.collectionsStatuses,formStatus:0,submissionStatus:1}};var o,c=s.output,u=a.formStatus;return o="number"===typeof u||1!==u.TAG?void 0:v.b(u._0),{TAG:1,_0:{input:a.input,fieldsStatuses:s.fieldsStatuses,collectionsStatuses:s.collectionsStatuses,formStatus:{TAG:0,_0:o},submissionStatus:1},_1:function(e){var a=e.dispatch;return l.b(t,c,{notifyOnSuccess:function(e){return l.a(a,{TAG:1,_0:e})},notifyOnFailure:function(e){return l.a(a,{TAG:2,_0:e})},reset:function(e){return l.a(a,4)},dismissSubmissionResult:function(e){return l.a(a,3)}})}};case 2:var d=a.formStatus;return"number"===typeof d||1!==d.TAG?0:{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 3:var m=a.formStatus;if("number"===typeof m){if(0===m)return 0}else if(0===m.TAG)return 0;return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:0,submissionStatus:a.submissionStatus}};case 4:return{TAG:0,_0:Oi(e)}}else switch(0|n.TAG){case 0:var f=l.a(n._0,a.input);return{TAG:0,_0:{input:f,fieldsStatuses:kr.c(f,a.fieldsStatuses.scoreAdjustment,a.submissionStatus,Ti.scoreAdjustment,(function(e){return{scoreAdjustment:e}})),collectionsStatuses:a.collectionsStatuses,formStatus:a.formStatus,submissionStatus:a.submissionStatus}};case 1:var h=n._0;return void 0!==h?{TAG:0,_0:{input:h,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}}:{TAG:0,_0:{input:a.input,fieldsStatuses:{scoreAdjustment:0},collectionsStatuses:a.collectionsStatuses,formStatus:1,submissionStatus:a.submissionStatus}};case 2:return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:n._0},submissionStatus:a.submissionStatus}};case 3:var g=n._0,b=a.formStatus;if("number"===typeof b)return 0;if(0!==b.TAG)return{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:1,_0:l.a(g,b._0)},submissionStatus:a.submissionStatus}};var p=b._0;return void 0!==p?{TAG:0,_0:{input:a.input,fieldsStatuses:a.fieldsStatuses,collectionsStatuses:a.collectionsStatuses,formStatus:{TAG:0,_0:v.b(l.a(g,v.d(p)))},submissionStatus:a.submissionStatus}}:0}})),s=i[1],o=i[0],c=o.formStatus;return a="number"!==typeof c&&0===c.TAG,{updateScoreAdjustment:function(e,t){return l.a(s,{TAG:0,_0:function(a){return l.b(e,a,t)}})},blurScoreAdjustment:function(e){return l.a(s,0)},scoreAdjustmentResult:kr.a(o.fieldsStatuses.scoreAdjustment),input:o.input,status:o.formStatus,dirty:function(e){return!!o.fieldsStatuses.scoreAdjustment},valid:function(e){return 0===Gi(o.input,Ti,o.fieldsStatuses).TAG},submitting:a,submit:function(e){return l.a(s,1)},dismissSubmissionError:function(e){return l.a(s,2)},dismissSubmissionResult:function(e){return l.a(s,3)},mapSubmissionError:function(e){return l.a(s,{TAG:3,_0:e})},reset:function(e){return l.a(s,4)}}}({scoreAdjustment:m.h(h.c(i.scoreAdjustments,s.id),"0",(function(e){return String(e)}))},(function(e,t){var n=e.scoreAdjustment;return 0!==n?l.a(a,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:h.r(i.scoreAdjustments,s.id,n),byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:i.roundList}):l.a(a,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:h.p(i.scoreAdjustments,s.id),byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:i.roundList}),l.a(t.notifyOnSuccess,void 0),l.a(r.setFalse,void 0)}));return n.createElement(n.Fragment,void 0,n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return l.a(r.setFalse,void 0)}},"close"),n.createElement("h2",void 0,Ee.concat({hd:"Options for",tl:{hd:s.firstName,tl:{hd:s.lastName,tl:0}}}," ")),n.createElement("form",{onSubmit:function(e){return e.preventDefault(),l.a(o.submit,void 0)}},n.createElement("h3",void 0,n.createElement("label",{className:"title-30",htmlFor:s.id+"-scoreAdjustment"},"Score adjustment")),n.createElement("p",{className:"caption-30",id:s.id+"-scoreAdjustment-description"},"Score adjustment will be added to this player's actual score.\n              It can be negative."),n.createElement("p",void 0,n.createElement("input",{"aria-describedby":s.id+"-scoreAdjustment-description",id:s.id+"-scoreAdjustment",disabled:o.submitting,size:3,step:.5,type:"number",value:o.input.scoreAdjustment,onBlur:function(e){return l.a(o.blurScoreAdjustment,void 0)},onChange:function(e){return l.b(o.updateScoreAdjustment,(function(e,t){return{scoreAdjustment:t}}),e.target.value)}})," ",n.createElement("button",{className:"button-micro",onClick:function(e){return e.preventDefault(),l.b(o.updateScoreAdjustment,(function(e,t){return{scoreAdjustment:t}}),"0")}},"Reset")),void 0!==(t=o.scoreAdjustmentResult)&&0!==t.TAG?n.createElement(we,{children:t._0,kind:2}):null,n.createElement("p",void 0,n.createElement("input",{disabled:o.submitting||!l.a(o.valid,void 0),type:"submit",value:"Save"}))))}function Di(e){var t=e.setTourney,a=e.tourney,r=e.byeQueue,i=e.p,s=Et(!1);return n.createElement(n.Fragment,void 0,n.createElement("button",{className:"button-micro",disabled:r.includes(i.id),onClick:function(e){return l.a(t,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:y.b(r,[i.id]),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Bye signup")," ",n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(s.setTrue,void 0)}},n.createElement("span",{"aria-hidden":!0},n.createElement(Si.a,{})),n.createElement(bt.a,{children:Ee.concat({hd:"More options for",tl:{hd:i.firstName,tl:{hd:i.lastName,tl:0}}}," ")})),n.createElement(vn,{isOpen:s.state,onDismiss:s.setFalse,ariaLabel:Ee.concat({hd:"Options for",tl:{hd:i.firstName,tl:{hd:i.lastName,tl:0}}}," "),children:n.createElement(Bi,{setTourney:t,dialog:s,tourney:a,p:i})}))}function ji(e){var t=e.players,a=e.tourney,r=e.setTourney,i=e.byeQueue;return n.createElement(n.Fragment,void 0,y.l(h.u(t),(function(e){return n.createElement("tr",{key:e.id,className:s.a(wa.toString(e.type_),"player")},n.createElement("td",void 0,e.firstName),n.createElement("td",void 0,e.lastName),n.createElement("td",void 0,n.createElement(Di,{setTourney:r,tourney:a,byeQueue:i,p:e})))})))}var Li=function(e){var t=e.tournament,a=t.tourney,r=a.byeQueue,i=a.playerIds,o=t.setTourney,c=t.getPlayer,u=n.useState((function(){return!i})),d=u[1],m=Ht(a.roundList);return n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{onClick:function(e){return l.a(d,(function(e){return!0}))}},n.createElement(Ri.a,{})," Edit player roster")),n.createElement(J,{children:null},n.createElement(H,{children:n.createElement("table",void 0,n.createElement("caption",void 0,"Current roster"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{colSpan:2},"Name"),n.createElement("th",void 0,"Options"))),n.createElement("tbody",{className:"content"},n.createElement(ji,{players:t.activePlayers,tourney:a,setTourney:o,byeQueue:r}))),style:{flexShrink:"0"}}),n.createElement(H,{children:null},n.createElement("h3",void 0,"Bye queue"),0===r.length?n.createElement("p",void 0,"No players have signed up for a bye round."):null,n.createElement("ol",void 0,y.l(r,(function(e){return n.createElement("li",{key:e,className:s.a("buttons-on-hover",s.d("disabled",Ci(m,e)))},Ee.concat({hd:l.a(c,e).firstName,tl:{hd:l.a(c,e).firstName,tl:0}}," ")," ",n.createElement("button",{className:"button-micro",onClick:function(t){return l.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:r.filter((function(t){return!Oe(e,t)})),tieBreaks:a.tieBreaks,roundList:a.roundList})}},"Remove"))})))),n.createElement(vn,{isOpen:u[0],onDismiss:function(e){return l.a(d,(function(e){return!1}))},ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return l.a(d,(function(e){return!1}))}},"Done"),n.createElement(Ai,{tourney:a,setTourney:o,players:t.players,playersDispatch:t.playersDispatch}))))};function Mi(e,t,a,n){var r=h.h(e,(function(e,t){return h.f(a,e)})),i=function(e,t,a){if(h.s(a)%2===0)return[a,void 0];var n,r=E.n(E.g(E.c(h.u(a)),(function(e){return!E.f(e.opponents,t,Oe)})),bi),i=E.i(r,(function(e){return e.id})),s=E.g(E.c(e),(function(e){return E.f(i,e,Oe)}));if(s){var o=h.c(a,s.hd);n=void 0!==o?o:E.e(r,0)}else n=r?r.hd:E.e(E.n(E.c(h.u(a)),bi),0);return[h.p(a,n.id),n]}(n,Re,r),s=i[1],o=function(e){return E.i(E.n(E.h(ci.b(ci.a.make(void 0,h.n(e,0,(function(t,a,n){return h.n(e,t,(function(e,t,r){return{hd:[a,t,hi(n,r)],tl:e}}))}))),0,(function(e,t,a){return E.f(e,[t,a],wi)?e:{hd:[t,a],tl:e}})),(function(t){var a=t[0],n=t[1],r=h.c(e,a),i=h.c(e,n);if(void 0!==r&&void 0!==i)return[r,i]})),Ni),pi)}(i[0]),l=void 0!==s?E.k(E.a(E.k(o),[s.id,Re])):o;return E.i(l,(function(e){var n=e[1],r=e[0];return Ot({id:Ie(),whiteId:r,blackId:n,whiteNewRating:Ra(a,r).rating,blackNewRating:Ra(a,n).rating,whiteOrigRating:Ra(a,r).rating,blackOrigRating:Ra(a,n).rating,result:3},t)}))}var Pi={TAG:0,_0:function(e){return e.player.firstName}},xi={TAG:2,_0:function(e){return e.ideal}};function Fi(e){var t=e.pairData,a=e.stagedPlayers,r=e.setStagedPlayers,i=e.unmatched,s=a[1],o=a[0],c=Nt(y.l(h.u(i),(function(e){return{player:e,ideal:0}})),Pi,!1),u=c[1],d=c[0],m=o!==s&&(void 0===o||void 0===s),f=function(e){var t=a[0];if(void 0!==t)return void 0===a[1]&&!Oe(v.d(t),e);var n=a[1];return void 0===n||!Oe(v.d(n),e)};return n.useEffect((function(){var e=function(e){var n,r=a[0];if(void 0!==r)n=void 0!==a[1]?void 0:v.b(v.d(r));else{var i=a[1];n=void 0!==i?v.b(v.d(i)):void 0}if(void 0===n)return 0;var s=h.c(t,v.d(n));return void 0!==s&&void 0!==e?hi(s,e)/fi:0},n=y.l(h.u(i),(function(a){return{player:a,ideal:e(h.c(t,a.id))}}));l.a(u,{TAG:2,_0:n})}),[i,t,u,a]),0===h.s(i)?null:n.createElement("table",{className:"content"},n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(bt.a,{children:"Controls"})),n.createElement("th",void 0,n.createElement(wt,{children:"Name",sortColumn:Pi,data:d,dispatch:u})),n.createElement("th",void 0,n.createElement(wt,{children:"Ideal",sortColumn:xi,data:d,dispatch:u})))),n.createElement("tbody",void 0,y.l(d.table,(function(e){var t=e.player;return n.createElement("tr",{key:t.id},n.createElement("td",void 0,n.createElement("button",{className:"button-ghost",disabled:!f(t.id),onClick:function(e){var n=t.id,i=a[0];if(void 0!==i){if(void 0!==a[1])return;var s=v.d(i);return l.a(r,(function(e){return[v.b(s),v.b(n)]}))}var o=a[1];if(void 0===o)return l.a(r,(function(e){return[v.b(n),void 0]}));var c=v.d(o);return l.a(r,(function(e){return[v.b(n),v.b(c)]}))}},n.createElement(Sr.a,{}),n.createElement(bt.a,{children:Ee.concat({hd:"Add",tl:{hd:t.firstName,tl:{hd:t.lastName,tl:0}}}," ")}))),n.createElement("td",void 0,t.firstName+" "+t.lastName),n.createElement("td",void 0,m?p()(e.ideal).format("%"):"-"))}))))}function Vi(e){var t,a,r=e.getPlayer,i=e.pairData,s=e.roundId,o=e.stagedPlayers,c=e.setStagedPlayers,u=e.setTourney,d=e.byeValue,m=e.tourney,f=e.round,g=m.roundList,b=o[1],E=o[0],y=void 0===o[0]&&void 0===o[1],N=void 0!==o[0]&&void 0!==o[1];if(void 0!==E){var w=v.d(E);t=l.a(r,w).firstName+" "+l.a(r,w).lastName}else t="";if(void 0!==b){var _=v.d(b);a=l.a(r,_).firstName+" "+l.a(r,_).lastName}else a="";var k,R=function(e){return e?l.a(c,(function(e){return[e[0],void 0]})):l.a(c,(function(e){return[void 0,e[1]]}))},A=o[0];if(void 0!==A){var I=o[1];if(void 0!==I){var C=h.c(i,v.d(A)),T=h.c(i,v.d(I));if(void 0!==C&&void 0!==T){var O=hi(C,T);k=p()(O/fi).format("%")}else k=""}else k=""}else k="";return n.createElement("div",void 0,n.createElement("h2",void 0,"Selected for matching:"),n.createElement("div",{className:"content"},n.createElement("p",void 0,"White: ",void 0!==E?n.createElement(n.Fragment,void 0,t+" ",n.createElement("button",{"aria-label":"remove "+t,className:"button-micro",onClick:function(e){return R(0)}},n.createElement(li.a,{})," Remove")):null),n.createElement("p",void 0,"Black: ",void 0!==b?n.createElement(n.Fragment,void 0,a+" ",n.createElement("button",{"aria-label":"remove "+a,className:"button-micro",onClick:function(e){return R(1)}},n.createElement(li.a,{})," Remove")):null),n.createElement("p",void 0,"Match ideal: "+k)),n.createElement("div",{className:"toolbar"},n.createElement("button",{disabled:y,onClick:function(e){return l.a(c,(function(e){return[e[1],e[0]]}))}},n.createElement(ii.a,{})," Swap colors")," ",n.createElement("button",{className:"button-primary",disabled:!N,onClick:function(e){var t=o[0];if(void 0!==t){var a=o[1];if(void 0!==a){var n=l.b(Pt.addMatches,f,[Gt([l.a(r,v.d(t)),l.a(r,v.d(a))],d)]),i=Wt(g,s,n);return void 0!==i&&l.a(u,{id:m.id,name:m.name,date:m.date,playerIds:m.playerIds,scoreAdjustments:m.scoreAdjustments,byeQueue:m.byeQueue,tieBreaks:m.tieBreaks,roundList:v.d(i)}),l.a(c,(function(e){return[void 0,void 0]}))}}}},n.createElement(S.a,{})," Match selected")))}function Qi(e){var t=e.player,a=e.scoreData,r=e.players,i=e.avoidPairs,s=e.origRating,o=e.newRating,l=e.getPlayer,c=kt(t,a,v.b(i),l,r,s,o),u=c.player,d=u.firstName+" "+u.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,d),n.createElement("p",void 0,"Score: ",c.score),n.createElement("p",{id:"rating-"+u.id},"Rating: ",c.rating),n.createElement("p",void 0,"Color balance: "+c.colorBalance),n.createElement("p",void 0,"Has had a bye round: "+(c.hasBye?"Yes":"No")),n.createElement("p",void 0,"Opponent history:"),n.createElement("ol",void 0,c.opponentResults),n.createElement("p",void 0,"Players to avoid:"),c.avoidListHtml)}var Wi=function(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=e.unmatched,s=e.unmatchedCount,o=e.unmatchedWithDummy,c=n.useState((function(){return[void 0,void 0]})),u=c[0],d=u[1],m=u[0],f=c[1],g=Xa(),b=a.tourney,p=b.roundList,N=b.byeQueue,w=a.setTourney,_=a.players,k=a.getPlayer,S=a.activePlayers,R=g[0],A=R.byeValue,I=R.avoidPairs,C=Yt(p,t),T=Et(!1),O=n.useMemo((function(){return vi(function(e,t,a){var n=l.a(Je.$$Set.toMap,a);return h.n(t,Be.make(void 0),(function(t,a,r){var i=h.c(e,a),s=void 0!==i?i:at(void 0,a),o=h.c(n,a),c=void 0!==o?o:0,u={id:r.id,avoidIds:c,colorScores:E.i(s.colorScores,gt.toFloat),colors:s.colors,halfPos:0,isUpperHalf:!1,opponents:E.i(s.opponentResults,(function(e){return e[0]})),rating:r.rating,score:l.a(gt.Sum.toFloat,gt.calcScore(s.results,s.adjustment))};return h.r(t,a,u)}))}(r,S,I))}),[S,I,r]);if(n.useEffect((function(){void 0!==m&&(void 0!==h.c(o,v.d(m))||l.a(f,(function(e){return[void 0,e[1]]})));void 0!==d&&(void 0!==h.c(o,v.d(d))||l.a(f,(function(e){return[e[0],void 0]})))}),[o,m,d,f]),void 0===C)return n.createElement("div",void 0,"No round available.");var G=v.d(C);return n.createElement("div",{className:"content-area",style:{width:"720px"}},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-primary",disabled:0===s,onClick:function(e){var a=l.b(Pt.addMatches,G,E.p(Mi(O,A,i,N))),n=Wt(p,t,a);if(void 0!==n)return l.a(w,{id:b.id,name:b.name,date:b.date,playerIds:b.playerIds,scoreAdjustments:b.scoreAdjustments,byeQueue:b.byeQueue,tieBreaks:b.tieBreaks,roundList:v.d(n)})}},"Auto-pair unmatched players")," ",n.createElement("button",{onClick:function(e){return l.a(T.setTrue,void 0)}},"Add or remove players from the roster.")),n.createElement(J,{children:null},n.createElement(H,{children:n.createElement(Fi,{pairData:O,stagedPlayers:u,setStagedPlayers:f,unmatched:o})}),n.createElement(H,{children:null,style:{flexGrow:"1"}},n.createElement(Vi,{getPlayer:k,pairData:O,roundId:t,stagedPlayers:u,setStagedPlayers:f,setTourney:w,byeValue:A,tourney:b,round:G}),n.createElement(J,{children:y.l([m,d],(function(e){if(void 0===e)return null;var t=v.d(e);return n.createElement(H,{children:n.createElement(Qi,{player:l.a(k,t),scoreData:r,players:_,avoidPairs:I,origRating:l.a(k,t).rating,newRating:void 0,getPlayer:k}),key:t})}))}))),n.createElement(vn,{isOpen:T.state,onDismiss:T.setFalse,ariaLabel:"Select players",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(T.setFalse,void 0)}},"Done"),n.createElement(Ii,{tourney:b,setTourney:w,players:_,playersDispatch:a.playersDispatch})))};function qi(e){var t,a=Math.ceil((t=e,Math.log(t)/Math.log(2)));return a!==d.e?0|a:0}var Hi=Ia(Ie(),"");function Ji(e,t){return t}var zi=function(e){var t=e.children,a=e.tourneyId,r=e.windowDispatch,i=void 0!==r?r:function(e){},s=a,o=n.useReducer(Ji,Hi),c=o[0],u=c.roundList,d=c.playerIds,g=c.name,b=o[1],p=Ka(),y=p.loaded,N=p.items,w=n.useState((function(){return 0})),_=w[1],k=w[0];switch(_t(0!==k&&y),n.useEffect((function(){return l.a(i,{TAG:2,_0:g}),function(e){return l.a(i,{TAG:2,_0:""})}}),[g,i]),n.useEffect((function(){var e={contents:!1};return f.c(f.f(f.a.toResult(f.a.fromBsPromise(function(e,t){var a=e.decode;return e.store.getItem(t).then((function(e){var t;try{t=m.g(null==e?void 0:v.b(e),a)}catch(n){return Promise.reject(Ga.b(n))}return Promise.resolve(t)}))}(Ja,s))),(function(t){return e.contents?void 0:void 0!==t?(l.a(b,t),l.a(_,(function(e){return 1}))):l.a(_,(function(e){return 2}))})),(function(t){if(!e.contents)return l.a(_,(function(e){return 2}))})),function(t){e.contents=!0}}),[s]),n.useEffect((function(){1===k&&Oe(s,c.id)&&function(e,t,a){e.store.setItem(t,e.encode(a))}(Ja,s,c)}),[k,s,c]),k){case 0:break;case 1:if(y){var S=h.h(N,(function(e,t){return E.f(d,e,Oe)})),R=qi(h.s(S)),A=Vt(u)>=R,I=0===Vt(u)||Jt(u,S,Vt(u)-1|0);return l.a(t,{activePlayers:S,getPlayer:function(e){return Ra(N,e)},isItOver:A,isNewRoundReady:I,players:N,playersDispatch:p.dispatch,roundCount:R,tourney:c,setTourney:b})}break;case 2:return n.createElement(In,{children:"Error: tournament couldn't be loaded."})}return n.createElement(In,{children:"Loading..."})},Ui=l.a(o.G,{hd:o.K({NAME:"percent",VAL:100}),tl:{hd:o.q({NAME:"em",VAL:1}),tl:0}}),Ki=l.a(o.G,{hd:o.K({NAME:"percent",VAL:100}),tl:{hd:o.F(" tr:not(:last-of-type)",{hd:o.d("solid"),tl:{hd:o.i({NAME:"px",VAL:1}),tl:{hd:o.f(re),tl:0}}}),tl:0}}),Yi=l.a(o.G,{hd:o.C({NAME:"px",VAL:8},{NAME:"px",VAL:4}),tl:0}),Zi=l.a(o.G,{hd:o.K({NAME:"px",VAL:20}),tl:{hd:o.B({NAME:"px",VAL:4}),tl:{hd:o.H("center"),tl:0}}}),Xi=l.a(o.G,{hd:o.K({NAME:"px",VAL:72}),tl:0}),$i=l.a(o.G,{hd:o.K({NAME:"px",VAL:140}),tl:0}),es=l.a(o.G,{hd:o.K({NAME:"px",VAL:32}),tl:{hd:o.H("center"),tl:0}});function ts(e){var t=e.player,a=e.origRating,r=e.newRating,i=e.getPlayer,s=kt(t,e.scoreData,void 0,i,e.players,a,r),o=s.player,l=o.firstName+" "+o.lastName;return n.createElement("dl",{className:"player-card"},n.createElement("h3",void 0,l),n.createElement("dt",void 0,"Score"),n.createElement("dd",void 0,s.score),n.createElement("dt",void 0,"Rating"),n.createElement(ve,{children:n.createElement("dd",{"aria-label":"Rating for "+l},s.rating),testId:"rating-"+o.id}),n.createElement("dt",void 0,"Color balance"),n.createElement("dd",void 0,s.colorBalance),n.createElement("dt",void 0,"Has had a bye round"),n.createElement("dd",void 0,s.hasBye?"Yes":"No"),n.createElement("dt",void 0,"Opponent history"),n.createElement("dd",void 0,n.createElement("ol",void 0,s.opponentResults)),n.createElement("p",void 0,"Players to avoid:"),s.avoidListHtml)}function as(e){var t,a=e.isCompact,r=e.pos,i=e.m,c=e.roundId,u=e.selectedMatch,d=e.setSelectedMatch,f=e.scoreData,g=e.tournament,b=e.className,p=void 0!==a&&a,E=void 0!==b?b:"",y=g.tourney,N=y.roundList,w=g.setTourney,_=g.playersDispatch,k=g.players,S=g.getPlayer,R=Et(!1),I=l.a(S,i.whiteId),C=l.a(S,i.blackId),T=Ae(i.whiteId)||Ae(i.blackId),O=Ee.concat({hd:I.firstName,tl:{hd:I.lastName,tl:0}}," "),G=Ee.concat({hd:C.firstName,tl:{hd:C.lastName,tl:0}}," "),B=function(e){var t=n.createElement(on.a,{className:l.a(o.G,{hd:o.j(te),tl:0})}),a=n.createElement(bt.a,{children:"Lost"});switch(i.result){case 0:return e?a:t;case 1:return e?t:a;case 2:return n.createElement("span",{"aria-label":"Draw",role:"img",style:{filter:"grayscale(70%)"}},"\ud83e\udd1d");case 3:return n.createElement(bt.a,{children:"Not set"})}},D=function(e){var t=It.fromString(e);if(i.result!==t){var a,n=i.blackId,r=i.whiteId,s=h.c(k,r),o=h.c(k,n),u=0;void 0!==s&&void 0!==o&&t<3?a=function(e,t,a,n,r){var i=Or(a),s=Or(n),o=Cr(e,t),l=Cr(t,e),c=gt.toFloat(It.toScoreWhite(r)),u=gt.toFloat(It.toScoreBlack(r));return[Gr(Tr(i,o,c,e)),Gr(Tr(s,l,u,t))]}(i.whiteOrigRating,i.blackOrigRating,s.matchCount,o.matchCount,t):u=1,1===u&&(a=[i.whiteOrigRating,i.blackOrigRating]);var d=a[1],f=a[0],g=m.f(s,(function(e){return{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount,rating:f,type_:e.type_}})),v=m.f(o,(function(e){return{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount,rating:d,type_:e.type_}}));i.result>=3?(m.b(g,(function(e){return l.a(_,{TAG:1,_0:r,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount+1|0,rating:e.rating,type_:e.type_}})})),m.b(v,(function(e){return l.a(_,{TAG:1,_0:n,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount+1|0,rating:e.rating,type_:e.type_}})}))):3===t?(m.b(g,(function(e){return l.a(_,{TAG:1,_0:r,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount-1|0,rating:e.rating,type_:e.type_}})})),m.b(v,(function(e){return l.a(_,{TAG:1,_0:n,_1:{firstName:e.firstName,id:e.id,lastName:e.lastName,matchCount:e.matchCount-1|0,rating:e.rating,type_:e.type_}})}))):(m.b(g,(function(e){return l.a(_,{TAG:1,_0:r,_1:e})})),m.b(v,(function(e){return l.a(_,{TAG:1,_0:n,_1:e})})));var b=i.id,p=i.whiteId,E=i.blackId,S=i.whiteOrigRating,R=i.blackOrigRating,A={id:b,whiteId:p,blackId:E,whiteNewRating:f,blackNewRating:d,whiteOrigRating:S,blackOrigRating:R,result:t};m.f(qt(N,c,A),(function(e){return l.a(w,{id:y.id,name:y.name,date:y.date,playerIds:y.playerIds,scoreAdjustments:y.scoreAdjustments,byeQueue:y.byeQueue,tieBreaks:y.tieBreaks,roundList:e})}))}};if(p||void 0===d)t=null;else{var j;if(void 0!==f){var L=v.d(f);j=n.createElement(vn,{isOpen:R.state,onDismiss:function(e){return l.a(R.setFalse,void 0)},ariaLabel:"Match information",children:null},n.createElement("button",{className:"button-micro button-primary",onClick:function(e){return l.a(R.setFalse,void 0)}},"close"),n.createElement("p",void 0,y.name),n.createElement("p",void 0,Ee.concat({hd:"Round",tl:{hd:String(c+1|0),tl:{hd:"match",tl:{hd:String(r+1|0),tl:0}}}}," ")),n.createElement(J,{children:null},n.createElement(H,{children:n.createElement(ts,{player:l.a(S,i.whiteId),origRating:i.whiteOrigRating,newRating:i.whiteNewRating,getPlayer:S,scoreData:L,players:k})}),n.createElement(H,{children:n.createElement(ts,{player:l.a(S,i.blackId),origRating:i.blackOrigRating,newRating:i.blackNewRating,getPlayer:S,scoreData:L,players:k})})))}else j=null;t=n.createElement("td",{className:s.a(Xi,"data__input")},m.h(u,!0,(function(e){return!Oe(e,i.id)}))?n.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(e){return l.a(d,(function(e){return v.b(i.id)}))}},n.createElement(ni.a,{}),n.createElement(bt.a,{children:Ee.concat({hd:"Edit match for",tl:{hd:O,tl:{hd:"versus",tl:{hd:G,tl:0}}}}," ")})):n.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(e){return l.a(d,(function(e){}))}},n.createElement(ri.a,{})),n.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(e){return l.a(R.setTrue,void 0)}},n.createElement(A.a,{}),n.createElement(bt.a,{children:Ee.concat({hd:"View information for match:",tl:{hd:O,tl:{hd:"versus",tl:{hd:G,tl:0}}}}," ")})),j)}return n.createElement("tr",{className:s.a(E,m.h(u,"",(function(e){return Oe(i.id,e)?"selected":"buttons-on-hover"})))},n.createElement("th",{className:s.a(Zi,"table__number"),scope:"row"},String(r+1|0)),n.createElement("td",{className:es},B(0)),n.createElement(ve,{children:n.createElement("td",{className:s.a("table__player row__player",wa.toString(I.type_)),id:"match-"+String(r)+"-white"},O),testId:"match-"+String(r)+"-white"}),n.createElement("td",{className:es},B(1)),n.createElement(ve,{children:n.createElement("td",{className:s.a("table__player row__player",wa.toString(C.type_)),id:"match-"+String(r)+"-black"},G),testId:"match-"+String(r)+"-black"}),n.createElement("td",{className:s.a($i,"data__input row__controls")},n.createElement(ve,{children:n.createElement("select",{className:Ui,disabled:T,value:It.toString(i.result),onBlur:function(e){return D(e.target.value)},onChange:function(e){return D(e.target.value)}},n.createElement("option",{value:It.toString(3)},"Select winner"),n.createElement("option",{value:It.toString(0)},"White won"),n.createElement("option",{value:It.toString(1)},"Black won"),n.createElement("option",{value:It.toString(2)},"Draw")),testId:"match-"+String(r)+"-select"})),t)}function ns(e){var t=e.isCompact,a=e.roundId,r=e.matches,i=e.selectedMatch,s=e.setSelectedMatch,o=e.tournament,l=e.scoreData,c=void 0!==t&&t;return n.createElement("table",{className:Ki},0===r.length?null:n.createElement(n.Fragment,void 0,n.createElement("caption",{className:c?"title-30":"title-40"},"Round ",a+1|0),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",{className:Zi,scope:"col"},"#"),n.createElement("th",{scope:"col"},n.createElement(bt.a,{children:"White result"})),n.createElement("th",{className:"row__player",scope:"col"},"White"),n.createElement("th",{scope:"col"},n.createElement(bt.a,{children:"Black result"})),n.createElement("th",{className:"row__player",scope:"col"},"Black"),n.createElement("th",{className:"row__result",scope:"col"},"Match result"),c?null:n.createElement("th",{className:"row__controls",scope:"col"},n.createElement(bt.a,{children:"Controls"}))))),n.createElement("tbody",{className:"content"},y.m(r,(function(e,t){var r={isCompact:c,pos:e,m:t,roundId:a,setSelectedMatch:s,scoreData:l,tournament:o,className:Yi,key:t.id};return void 0!==i&&(r.selectedMatch=v.d(i)),n.createElement(as,r)}))))}var rs=ns;function is(e){var t=e.roundId,a=e.tournament,r=e.scoreData,i=a.tourney,s=i.roundList,o=a.setTourney,c=a.playersDispatch,u=a.players,d=n.useState((function(){})),f=d[1],g=d[0],b=function(e,a,n){var r=Pt.moveMatch(n,e,a);if(void 0!==r){var c=Wt(s,t,v.d(r));return void 0!==c?l.a(o,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:v.d(c)}):void 0}},p=Yt(i.roundList,t);if(void 0===p)return n.createElement(Qn,{});var y=v.d(p),N={roundId:t,matches:Pt.toArray(y),setSelectedMatch:f,tournament:a,scoreData:r};return void 0!==g&&(N.selectedMatch=v.d(g)),n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){m.f(g,(function(e){var a=Pt.getMatchById(y,e);void 0!==a&&3!==a.result&&E.b({hd:[a.whiteId,a.whiteOrigRating],tl:{hd:[a.blackId,a.blackOrigRating],tl:0}},(function(e){var t=h.c(u,e[0]);if(void 0!==t)return l.a(c,{TAG:1,_0:t.id,_1:{firstName:t.firstName,id:t.id,lastName:t.lastName,matchCount:t.matchCount-1|0,rating:e[1],type_:t.type_}})}));var n=Pt.removeMatchById(y,e),r=Wt(s,t,n);return void 0!==r&&l.a(o,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:v.d(r)}),l.a(f,(function(e){}))}))}},n.createElement(Rr.a,{})," Unmatch")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){m.f(g,(function(e){var a=Pt.getMatchById(y,e);if(void 0!==a){var n=function(e){var t;switch(e.result){case 0:t=1;break;case 1:t=0;break;case 2:t=2;break;case 3:t=3}return{id:e.id,whiteId:e.blackId,blackId:e.whiteId,whiteNewRating:e.blackNewRating,blackNewRating:e.whiteNewRating,whiteOrigRating:e.blackOrigRating,blackOrigRating:e.whiteOrigRating,result:t}}(a);m.f(qt(s,t,n),(function(e){return l.a(o,{id:i.id,name:i.name,date:i.date,playerIds:i.playerIds,scoreAdjustments:i.scoreAdjustments,byeQueue:i.byeQueue,tieBreaks:i.tieBreaks,roundList:e})}))}}))}},n.createElement(ii.a,{})," Swap colors")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){m.f(g,(function(e){return b(e,-1,y)}))}},n.createElement(si.a,{})," Move up")," ",n.createElement("button",{className:"button-micro",disabled:void 0===g,onClick:function(e){m.f(g,(function(e){return b(e,1,y)}))}},n.createElement(oi.a,{})," Move down")),0===Pt.size(y)?n.createElement("p",void 0,"No players matched yet."):null,n.createElement(ns,N))}var ss=function(e){var t=e.roundId,a=e.tournament,r=function(e,t){var a,r=t.tourney,i=r.roundList,s=r.scoreAdjustments,o=t.activePlayers,l=n.useMemo((function(){return ki(i,s)}),[i,s]),c=e===Qt(i),u=Yt(i,e);if(void 0!==u&&c){var d=Pt.getMatched(v.d(u));a=h.q(o,d)}else a=Be.make(void 0);var m=h.s(a),f=m%2!==0?h.r(a,Re,Sa):a;return{activePlayersCount:h.s(o),scoreData:l,unmatched:a,unmatchedCount:m,unmatchedWithDummy:f}}(t,a),i=r.unmatchedCount,s=r.scoreData,o=r.activePlayersCount,c=i===o?1:0,u=n.useState((function(){return c})),d=u[1];return n.useEffect((function(){i===o&&l.a(d,(function(e){return 1})),0===i&&l.a(d,(function(e){return 0}))}),[i,o,d]),n.createElement(ai.e,{index:u[0],onChange:function(e){return l.a(d,(function(t){return e}))},children:null},n.createElement(ai.b,{children:null},n.createElement(ai.a,{disabled:i===o,children:null},n.createElement(ei.a,{})," Matches"),n.createElement(ai.a,{disabled:0===i,children:null},n.createElement(ln.a,{}),Ee.concat({hd:" Unmatched players (",tl:{hd:String(i),tl:{hd:")",tl:0}}},""))),n.createElement(ai.d,{children:null},n.createElement(ai.c,{children:n.createElement(is,{roundId:t,tournament:a,scoreData:s})}),n.createElement(ai.c,{children:n.createElement("div",void 0,0!==i?n.createElement(Wi,{roundId:t,tournament:a,scoreData:s,unmatched:r.unmatched,unmatchedCount:i,unmatchedWithDummy:r.unmatchedWithDummy}):null)})))},os=a(64);function ls(e){var t=String(e.getFullYear()),a=e.getMonth(),n=e.getDate(),r=a<9?"0"+String(a+1):String(a+1),i=n<10?"0"+String(n):String(n);return Ee.concat({hd:t,tl:{hd:r,tl:{hd:i,tl:0}}},"-")}var cs=function(e){var t=e.tournament,a=t.tourney,r=a.roundList,i=a.date,s=a.name,o=t.setTourney,c=n.useState((function(){return 2})),d=c[1],f=c[0],h=n.useRef(null),g=n.useRef(null),b=function(e){m.f(m.a(v.a(e.current),os.a),(function(e){e.focus()}))};return n.useEffect((function(){switch(f){case 0:b(h);break;case 1:b(g)}}),[f]),n.createElement("div",{className:"content-area"},0!==f?n.createElement("h1",{style:{textAlign:"left"}},n.createElement("span",{className:"inputPlaceholder"},s)," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return l.a(d,(function(e){return 0}))}},n.createElement(Ri.a,{}),n.createElement(bt.a,{children:"Edit name"}))):n.createElement("form",{className:"display-20",style:{textAlign:"left"},onSubmit:function(e){return l.a(d,(function(e){return 2}))}},n.createElement("input",{ref:h,className:"display-20",style:{textAlign:"left"},type:"text",value:s,onChange:function(e){return l.a(o,{id:a.id,name:e.currentTarget.value,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return l.a(d,(function(e){return 2}))}},n.createElement(S.a,{}))),1!==f?n.createElement("p",{className:"caption-30"},n.createElement(ye,{date:i})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return l.a(d,(function(e){return 1}))}},n.createElement(Ri.a,{}),n.createElement(bt.a,{children:"Edit date"}))):n.createElement("form",{className:"caption-30",onSubmit:function(e){return l.a(d,(function(e){return 2}))}},n.createElement("input",{ref:g,className:"caption-30",type:"date",value:ls(i),onChange:function(e){var t,n=e.currentTarget.value,r=Ee.split(n,"-");3!==r.length?t=["2000","01","01"]:t=[r[0],r[1],r[2]];var i=u.a(t[0]),s=u.a(t[1]),c=u.a(t[2]);if(void 0!==i&&void 0!==s&&void 0!==c)return l.a(o,{id:a.id,name:a.name,date:new Date(i,s-1,c),playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:a.roundList})}})," ",n.createElement("button",{className:"button-ghost",onClick:function(e){return l.a(d,(function(e){return 2}))}},n.createElement(S.a,{}))),n.createElement("h2",void 0,"Change bye scores"),n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return l.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Kt(r,0)}),M("Bye scores updated to 1.")}},"Change byes to 1")," ",n.createElement("button",{"aria-describedby":"score-desc",onClick:function(e){return l.a(o,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Kt(r,1)}),M("Bye scores updated to \xbd.")}},"Change byes to \xbd"),n.createElement("p",{className:"caption-30",id:"score-desc"},"This will update all bye matches which have been previously\n          scored in this tournament. To change the default bye value in\n          future matches, go to the ",n.createElement(hn,{children:"app options",to_:4}),"."))},us=a(115),ds=l.a(o.G,{hd:o.e("collapse"),tl:{hd:o.I("width","min-content"),tl:0}}),ms=l.a(o.G,{hd:o.J("bottom"),tl:0}),fs=l.a(o.G,0),hs=l.a(o.G,{hd:o.F(":nth-of-type(even)",{hd:o.c(oe),tl:0}),tl:{hd:o.F(":nth-of-type(odd)",{hd:o.c(ne),tl:0}),tl:0}}),gs=l.a(o.G,{hd:o.i({NAME:"px",VAL:1}),tl:{hd:o.f(re),tl:{hd:o.h("solid"),tl:0}}}),vs=l.a(o.G,{hd:o.d("solid"),tl:{hd:o.i({NAME:"px",VAL:1}),tl:{hd:o.f(re),tl:{hd:o.c(oe),tl:0}}}}),bs=l.a(o.G,{hd:o.H("left"),tl:{hd:o.j(ie),tl:0}}),ps=l.a(o.G,{hd:o.H("center"),tl:{hd:o.j(ie),tl:0}}),Es=l.a(o.G,{hd:o.B({NAME:"px",VAL:4}),tl:0});function ys(e){var t=e.size,a=e.tourney,r=e.getPlayer,i=e.title,o=void 0!==t?t:1,c=a.tieBreaks,u=y.l(c,vt.toPrettyString),d=ht(E.g(ft(ki(a.roundList,a.scoreAdjustments),c),(function(e){return!Ae(e.id)})));return n.createElement("table",{className:s.a(ds,s.d(fs,!o))},n.createElement("caption",{className:s.a(s.d("title-30",!o),s.d("title-40",!!o))},i),n.createElement("thead",void 0,n.createElement("tr",{className:ms},n.createElement("th",{className:"title-10",scope:"col"},"Rank"),n.createElement("th",{className:"title-10",scope:"col"},"Name"),n.createElement("th",{className:"title-10",scope:"col"},"Score"),o?y.m(u,(function(e,t){return n.createElement("th",{key:String(e),className:"title-10",scope:"col"},t)})):null)),n.createElement("tbody",void 0,y.m(y.q(E.p(d)),(function(e,t){return y.m(y.q(E.p(t)),(function(a,i){return n.createElement("tr",{key:i.id,className:hs},0===a?n.createElement("th",{className:s.b({hd:"table__number",tl:{hd:Es,tl:{hd:ps,tl:{hd:vs,tl:0}}}}),rowSpan:E.l(t),scope:"row"},e+1|0):null,o?n.createElement(ve,{children:n.createElement("th",{className:s.a(vs,bs),scope:"row"},l.a(r,i.id).firstName,x,l.a(r,i.id).lastName),testId:"rank-"+String(e+1|0)+"."+String(a)}):n.createElement("td",{className:s.a(gs,bs)},l.a(r,i.id).firstName,x,l.a(r,i.id).lastName),n.createElement("td",{className:s.b({hd:Es,tl:{hd:gs,tl:{hd:"table__number",tl:0}}})},l.a(gt.Sum.toNumeral,i.score).format("1/2")),o?y.l(E.p(i.tieBreaks),(function(e){return n.createElement("td",{key:vt.toString(e[0]),className:s.a(gs,"table__number")},l.a(gt.Sum.toNumeral,e[1]).format("1/2"))})):null)}))}))))}var Ns=ys;function ws(e){var t=e.tourney,a=e.setTourney,r=t.tieBreaks,i=n.useState((function(){})),o=i[1],c=i[0],u=function(e){return void 0!==e?e:void 0!==c?c:0},d=function(e){return r.includes(u(e))?(l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.filter((function(t){return!vt.eq(u(e),t)})),roundList:t.roundList}),l.a(o,(function(e){}))):l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:t.tieBreaks.concat([u(e)]),roundList:t.roundList})},m=function(e){if(void 0!==c){var n=r.indexOf(c);return l.a(a,{id:t.id,name:t.name,date:t.date,playerIds:t.playerIds,scoreAdjustments:t.scoreAdjustments,byeQueue:t.byeQueue,tieBreaks:L.swap(t.tieBreaks,n,n+e|0),roundList:t.roundList})}};return n.createElement(J,{children:null,className:"content-area"},n.createElement(H,{children:null},n.createElement("div",{className:"toolbar"},n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return d(void 0)}},"Toggle"),n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return m(-1)}},n.createElement(si.a,{})," Move up"),n.createElement("button",{className:"button-micro",disabled:void 0===c,onClick:function(e){return m(1)}},n.createElement(oi.a,{})," Move down"),n.createElement("button",{className:s.a("button-micro",s.e("button-primary",c)),disabled:void 0===c,onClick:function(e){return l.a(o,(function(e){}))}},"Done")),n.createElement("table",void 0,n.createElement("caption",{className:"title-30"},"Selected tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(bt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(r,(function(e){return n.createElement("tr",{key:vt.toString(e),className:s.c(c,(function(t){return t===e?"selected":""}))},n.createElement("td",void 0,vt.toPrettyString(e)),n.createElement("td",{style:{width:"48px"}},n.createElement("button",{className:"button-micro",disabled:void 0!==c&&c!==e,onClick:function(t){return void 0!==c&&vt.eq(c,e)?l.a(o,(function(e){})):l.a(o,(function(t){return e}))}},void 0!==c&&vt.eq(c,e)?"Done":"Edit")))}))))),n.createElement(H,{children:null},n.createElement("div",{className:"toolbar"},x),n.createElement("table",{style:{marginTop:"16px"}},n.createElement("caption",{className:"title-30"},"Available tiebreak methods"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"Name"),n.createElement("th",void 0,n.createElement(bt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l([0,1,2,3,4],(function(e){return n.createElement("tr",{key:vt.toString(e)},n.createElement("td",void 0,n.createElement("span",{className:r.includes(e)?"disabled":"enabled"},vt.toPrettyString(e))),n.createElement("td",void 0,r.includes(e)?null:n.createElement("button",{className:"button-micro",onClick:function(t){return d(e)}},"Add")))}))))))}function _s(e,t,a){if(Oe(t,a))return n.createElement(us.a,{className:"disabled"});var r=h.c(e,t);if(void 0===r)return null;var i,s,o=(i=r,s=a,E.j(i.opponentResults,void 0,(function(e,t){var a=t[1];return Oe(s,t[0])?void 0!==e?v.b(v.d(e)+Ye(a)):v.b(0+Ye(a)):e})));return void 0!==o?l.a(gt.Sum.toNumeral,v.d(o)).format("1/2"):null}var ks=function(e){var t=e.tournament,a=t.tourney;return n.createElement(ai.e,{children:null},n.createElement(ai.b,{children:null},n.createElement(ai.a,{children:null},n.createElement(ei.a,{})," Scores"),n.createElement(ai.a,{children:null},n.createElement(cn.a,{})," Edit tiebreak rules")),n.createElement(ai.d,{children:null},n.createElement(ai.c,{children:n.createElement(ys,{tourney:a,getPlayer:t.getPlayer,title:"Score detail"})}),n.createElement(ai.c,{children:n.createElement(ws,{tourney:a,setTourney:t.setTourney})})))},Ss=function(e){var t=e.tournament,a=t.tourney,r=t.getPlayer,i=ki(a.roundList,a.scoreAdjustments),o=ft(i,a.tieBreaks);return n.createElement("table",{className:ds},n.createElement("caption",void 0,"Crosstable"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,"#"),n.createElement("th",void 0,"Name"),y.m(E.p(o),(function(e,t){return n.createElement("th",{key:String(e)},e+1|0)})),n.createElement("th",void 0,"Score"),n.createElement("th",{colSpan:2},"Rating"))),n.createElement("tbody",void 0,y.m(E.p(o),(function(e,t){return n.createElement("tr",{key:String(e),className:hs},n.createElement("th",{className:s.a(vs,ps),scope:"col"},e+1|0),n.createElement("th",{className:s.a(vs,bs),scope:"row"},l.a(r,t.id).firstName,x,l.a(r,t.id).lastName),y.m(E.p(o),(function(e,a){return n.createElement("td",{key:String(e),className:s.a(gs,"table__number")},_s(i,t.id,a.id))})),n.createElement("td",{className:s.a(gs,"table__number")},l.a(gt.Sum.toNumeral,t.score).format("1/2")),function(e,t){var a=h.d(e,t).firstRating,r=h.d(e,t).ratings,i=r?r.hd:a,o=p()(i-a|0).format("+0");return n.createElement(n.Fragment,void 0,n.createElement("td",{className:s.a(gs,"table__number")},i),n.createElement("td",{className:s.a(gs,"table__number body-10")},o))}(i,t.id))}))))};var Rs=function(e){var t,a=e.tournament,r=a.tourney,i=Qt(r.roundList),s=Yt(r.roundList,i);if(void 0!==s){var o=v.d(s);t=0===Pt.size(o)?n.createElement("p",void 0,"Matched players in the current round will be shown here."):n.createElement(rs,{isCompact:!0,roundId:i,matches:Pt.toArray(o),tournament:a})}else t=n.createElement("p",void 0,"No rounds played yet.");return n.createElement(n.Fragment,void 0,n.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),n.createElement(J,{children:null,style:{justifyContent:"center"}},n.createElement(H,{children:t}),n.createElement(H,{children:n.createElement(Ns,{size:0,tourney:r,getPlayer:a.getPlayer,title:"Rankings"})})))};function As(e){var t=e.tournament,a=t.isNewRoundReady?t.isItOver?[x+" All rounds have completed.",1]:[x+" Ready to begin a new round.",0]:[x+"Round in progress.",3],r=a[0];return n.createElement(n.Fragment,void 0,n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Rounds: ",Vt(t.tourney.roundList),n.createElement("small",void 0," out of "),t.roundCount),n.createElement("hr",{className:"win__footer-divider"}),n.createElement(we,{children:r,kind:a[1],tooltip:r,className:"win__footer-block",style:{backgroundColor:"transparent",color:"initial",display:"inline-flex",margin:"0",minHeight:"initial"}}),n.createElement("hr",{className:"win__footer-divider"}),n.createElement("label",{className:"win__footer-block",style:{display:"inline-block"}},"Registered players: ",h.s(t.activePlayers)))}function Is(e){e.preventDefault()}function Cs(e){var t=e.tournament,a=t.tourney,r=a.roundList,i=t.setTourney,o=t.playersDispatch,c=t.players,u=t.isItOver,d=t.activePlayers;return n.createElement("div",void 0,n.createElement("nav",void 0,n.createElement("ul",{style:{marginTop:"0"}},n.createElement("li",void 0,n.createElement(hn,{children:null,to_:1,onDragStart:Is},n.createElement(Ar.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Back")))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:3},onDragStart:Is},n.createElement(cn.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Setup"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:0},onDragStart:Is},n.createElement(ln.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Players"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:4},onDragStart:Is},n.createElement(Xr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Status"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:2},onDragStart:Is},n.createElement($r.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Crosstable"))),n.createElement("li",void 0,n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:1},onDragStart:Is},n.createElement(ei.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Score detail")))),n.createElement("hr",void 0),n.createElement("h5",{className:"sidebar__hide-on-close sidebar__header"},"Rounds"),n.createElement("ul",{className:"center-on-close"},y.m(r,(function(e,t){return n.createElement("li",{key:String(e)},n.createElement(hn,{children:null,to_:{TAG:0,_0:a.id,_1:{_0:e}},onDragStart:Is},e+1|0,Jt(r,d,e)?n.createElement("span",{className:s.a("sidebar__hide-on-close","caption-20")}," Complete ",n.createElement(S.a,{})):n.createElement("span",{className:s.a("sidebar__hide-on-close","caption-20")}," Not complete ",n.createElement(R.a,{}))))})))),n.createElement("hr",void 0),n.createElement("ul",void 0,n.createElement("li",void 0,n.createElement("button",{className:"sidebar-button",style:{width:"100%"},disabled:!t.isNewRoundReady,onClick:function(e){if(e.preventDefault(),!(u&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?")))return l.a(i,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:zt(r)})}},n.createElement(ti.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," New round"))),n.createElement("li",{style:{textAlign:"center"}},n.createElement("button",{className:"button-micro sidebar-button",style:{marginTop:"8px"},disabled:0===Vt(r),onClick:function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete the last round?")){dn.a("#/tourneys/"+a.id);var t=Qt(r),n=Yt(r,t);return void 0!==n&&y.c(Pt.toArray(v.d(n)),(function(e){return e.result>=3?void 0:E.b({hd:[e.whiteId,e.whiteOrigRating],tl:{hd:[e.blackId,e.blackOrigRating],tl:0}},(function(e){var t=h.c(c,e[0]);if(void 0!==t){var a=t.matchCount-1|0;return l.a(o,{TAG:1,_0:t.id,_1:{firstName:t.firstName,id:t.id,lastName:t.lastName,matchCount:a,rating:e[1],type_:t.type_}})}}))})),l.a(i,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:Ut(r)}),0===Vt(r)?l.a(i,{id:a.id,name:a.name,date:a.date,playerIds:a.playerIds,scoreAdjustments:a.scoreAdjustments,byeQueue:a.byeQueue,tieBreaks:a.tieBreaks,roundList:zt(r)}):void 0}}},n.createElement(Rr.a,{}),n.createElement("span",{className:"sidebar__hide-on-close"}," Remove last round")))))}var Ts=function(e){var t=e.tourneyId,a=e.subPage,r=e.windowDispatch,i={children:function(e){var t;if("number"===typeof a)switch(a){case 0:t=n.createElement(Li,{tournament:e});break;case 1:t=n.createElement(ks,{tournament:e});break;case 2:t=n.createElement(Ss,{tournament:e});break;case 3:t=n.createElement(cs,{tournament:e});break;case 4:t=n.createElement(Rs,{tournament:e})}else t=n.createElement(ss,{roundId:a._0,tournament:e});return n.createElement(In,{children:t,footerFunc:function(t){return n.createElement(As,{tournament:e})},sidebarFunc:function(t){return n.createElement(Cs,{tournament:e})}})},tourneyId:t};return void 0!==r&&(i.windowDispatch=v.d(r)),n.createElement(zi,i)},Os=a(60),Gs=a(61),Bs=a(62),Ds={TAG:3,_0:function(e){return e.date}},js={TAG:0,_0:function(e){return e.name}};var Ls=function(e){var t=e.windowDispatch,a=void 0!==t?t:function(e){},r=Ya(),i=r.dispatch,s=r.items,o=Nt(h.u(s),Ds,!0),c=o[1],u=o[0],d=n.useState((function(){return""})),m=d[1],f=d[0],g=Et(!1);return n.useEffect((function(){return l.a(a,{TAG:2,_0:"Tournament list"}),function(e){return l.a(a,{TAG:2,_0:""})}}),[a]),n.useEffect((function(){l.a(c,{TAG:2,_0:h.u(s)})}),[s,c]),n.createElement(In,{children:n.createElement("div",{className:"content-area"},n.createElement("div",{className:"toolbar toolbar__left"},n.createElement("button",{onClick:function(e){return l.a(g.setTrue,void 0)}},n.createElement(ti.a,{})," Add tournament")),h.g(s)?n.createElement("p",void 0,"No tournaments are added yet."):n.createElement("table",void 0,n.createElement("caption",void 0,"Tournament list"),n.createElement("thead",void 0,n.createElement("tr",void 0,n.createElement("th",void 0,n.createElement(wt,{children:"Name",sortColumn:js,data:u,dispatch:c})),n.createElement("th",void 0,n.createElement(wt,{children:"Date",sortColumn:Ds,data:u,dispatch:c})),n.createElement("th",void 0,n.createElement(bt.a,{children:"Controls"})))),n.createElement("tbody",{className:"content"},y.l(u.table,(function(e){var t=e.name,a=e.id;return n.createElement("tr",{key:a,className:"buttons-on-hover"},n.createElement("td",void 0,n.createElement(hn,{children:t,to_:{TAG:0,_0:a,_1:0}})),n.createElement("td",void 0,n.createElement(ye,{date:e.date})),n.createElement("td",void 0,n.createElement("button",{"aria-label":"Delete \u201c"+t+"\u201d",className:"danger button-ghost",title:"Delete "+t,onClick:function(e){var n="Are you sure you want to delete \u201c"+t+"\u201d?";if(window.confirm(n))return l.a(i,{TAG:0,_0:a})}},n.createElement(Rr.a,{}))))})))),n.createElement(vn,{isOpen:g.state,onDismiss:g.setFalse,ariaLabel:"Create new tournament",children:null},n.createElement("button",{className:"button-micro",onClick:function(e){return l.a(g.setFalse,void 0)}},"Close"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Ie();return l.a(i,{TAG:1,_0:t,_1:Ia(t,f)}),l.a(m,(function(e){return""})),l.a(g.setFalse,void 0)}},n.createElement("fieldset",void 0,n.createElement("legend",void 0,"Make a new tournament"),n.createElement("label",{htmlFor:"tourney-name"},"Name:"),n.createElement("input",{id:"tourney-name",name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:f,onChange:function(e){return l.a(m,e.currentTarget.value)}})," ",n.createElement("input",{className:"button-primary",type:"submit",value:"Create"})))))})};function Ms(e){var t=fn();return n.createElement(Cn,{children:function(e){var a;if("number"===typeof t)switch(t){case 0:a=n.createElement(Wn,{});break;case 1:a=n.createElement(Ls,{windowDispatch:e});break;case 2:a=n.createElement(Zr,{windowDispatch:e});break;case 3:a=n.createElement(qn,{});break;case 4:a=n.createElement(_r,{windowDispatch:e});break;case 5:a=n.createElement(In,{children:n.createElement(Qn,{})})}else a=0===t.TAG?n.createElement(Ts,{tourneyId:t._0,subPage:t._1,windowDispatch:e}):n.createElement(Zr,{id:t._0,windowDispatch:e});return n.createElement("main",{className:"app__main"},a)},className:"app"})}Os.extendPrototype(i),Bs.extendPrototype(i),Gs.extendPrototype(i);Hn(),r.a(n.createElement(Ms,{}),"root")}},[[88,1,2]]]);
//# sourceMappingURL=main.81d1d24b.chunk.js.map