{"version":3,"sources":["Utils.bs.js","Scoring.bs.js","Data.bs.js","Hooks.bs.js","DemoData.bs.js","Externals.bs.js","Db.bs.js","Icons.bs.js","Electron.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","PagePlayers.bs.js","Pairing.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/HigherOrderComponents.bs.js","PageTournament/PairPicker.bs.js","PageTournament/PageRound.bs.js","PageTournament/TournamentDataReducers.bs.js","PageTournament/TournamentData.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js","index.js","assets/icon-min.svg","assets/caution.svg","styles/index.js"],"names":["alert","prim","window","nanoid","Nanoid","confirm","ascend","getter","a","b","Caml_obj","Curry","descend","$$Array","arr","Belt_Array","length","reduce","prim$1","idx1","idx2","match","match$1","undefined","Caml_option","List","list","Belt_List","fn","result","item","unshift","WebpackAssets","require","Entities","formatter","Intl_DateTimeFormat","DateFormat","Props","date","React","dateTime","toISOString","formatter$1","DateTimeFormat","panels","Css","panel","Panel","children","className","style","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","container","text","icon","success","warning","error","$$Notification","match$4","kind","tooltip","match$2","match$3","ReactFeather","aria-label","title","Router","hashString","split","path","to_","onDragStart","hash","ReasonReactRouter","ariaCurrent","aria-current","href","Numeral","format","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","toString","regexps","unformat","Number","github_url","license_url","issues_url","Color","color","isNotDummy","scoreDict","oppId","Belt_MapString","getPlayerScore","id","Utils$Coronate","getOpponentScores","filter","param","map","runningReducer","acc","score","getCumulativeScore","tieBreakMethods","Belt_SortArray","slice","getNamefromIndex","index","createBlankScoreData","standingsSorter","tieBreakIndex","$$break","x","Caml_primitive","x$1","createStandingList","methods","scoreData","selectedTieBreakFuncs","i","standings","createStandingTree","standingList","standing","standing1","standing2","concat","includes","lastIndex","getKFactor","matchCount","ne","Caml_int32","keepAboveFloor","rating","Ratings","param$1","param$2","blackRating","whiteRating","whiteElo","EloRank","blackElo","whiteScoreExpected","getExpected","blackScoreExpected","updateRating","data","fromString","str","decode","Json_decode","dummy_id","dummyPlayer","makeMissingPlayer","Player","json","Json_encode","playerId","playerMap","toFloat","toString$1","fromString$1","decode$2","decode$3","encode$3","Match","Tournament","partial_arg","fromFloat","decode$5","ByeValue","byeValue","T","Belt_Id","d","c","w","y","z","decode$6","Belt_Set","encode$6","reduceToMap","id2","id1","newList1","newList2","AvoidPairs","Config","Date","rounds2Matches","roundList","lastRound","round","getUnmatched","players","roundId","matchedIds","match_","key","player","isRoundComplete","unmatched","results","makeScoreData","existingData","origRating","newRating","oldData","Scoring$Coronate","ratings","newResultsNoByes","oldOppResults","oppResult","newOpponentResults","Converters","matchList","whiteData","blackData","playerData","avoidPairs","scoreMap","avoidMap","playerStats","newAvoidIds","newData","sortedTableReducer","state","action","newState","tag","sortFunc","direction","func","toLowerCase","table","useSortedTable","column","isDescending","initialState","dispatch","SortButton","sortColumn","chevronStyle","opacity","width","onClick","Block","aria-hidden","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","config","Data$Coronate","tournaments","LocalForage","Repromise","console","Localforage","clear","Data","store","createInstance","name","storeName","parseItems","items","Js_dict","handleError_map","val","exit","Belt_Option","raw_x","Caml_js_exceptions","getItem","setItem","keys","getItems","setItems","removeItems","$$default","LocalforageGetitems","LocalforageSetitems","LocalforageRemoveitems","ConfigDb","Externals$Coronate","Players","Tournaments","genericDbReducer","useAllDb","getAllItems","getKeys","setIsLoaded","Hooks$Coronate","didCancel","stateKeys","deleted","partial_arg$1","partial_arg$2","partial_arg$3","useAllPlayers","partial_arg$4","partial_arg$5","partial_arg$6","partial_arg$7","useAllTournaments","configReducer","p2","p1","useConfig","values","IconData","Reason","Icons$SimpleIcon","height","ariaLabel","match$5","ariaHidden","role","ReactDOMRe","fill","hex","viewBox","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","electron_","ifElectron","electron","remote","getCurrentWindow","openInBrowser","$$event","preventDefault","shell","openExternal","target","macOSDoubleClick","doubleClickAction","systemPreferences","getUserDefault","$$window","isMaximized","unmaximize","maximize","toggleMaximize","minimize","isWin","navigator","appVersion","isMac","isElectron","IfElectron","os","global_title","formatTitle","initialWinState","windowReducer","windowContext","makeProps","make","Provider","useWindowContext","Window$About","display","justifyContent","textAlign","flex","alt","src","join","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","sidebarCallback","Body","footerFunc","sidebarFunc","make$1","Webapi__Dom__Document","win","unregisterListeners","removeAllListeners","on","isFocused","isFullScreen","Dialog","isOpen","onDismiss","backgroundColor","link","Pages$CautionFooter","container$1","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","Splash","Window$Coronate","DemoData$Coronate","fontSize","NotFound","Boolean","location","hostname","unregister","serviceWorker","ready","then","registration","getDateForFile","getFullYear","getMonth","getDay","decodeOptions","dict","dict$1","encodeOptions","map$1","PageOptions$LastBackupDate","getTime","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","windowDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","checked","type","onChange","download","htmlFor","reader","FileReader","onload","ev","raw_exn","exn","readAsText","currentTarget","files","onSubmit","spellCheck","cols","rows","newText","sortName","sortRating","sortMatchCount","defaultFirstName","defaultLastName","defaultRating","PagePlayers$NewPlayerForm","setFirstName","firstName","setLastName","lastName","setRating","updateField","Caml_format","required","String","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","setIsDialogOpen","p","$$event$1","playerOpt","PagePlayers$Profile","playerName","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","handleChange","defaultValue","disabled","readOnly","pId","newSelected","onBlur","tmp","Pages$Coronate","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","isDiffDueColor","metBefore","mustAvoid","scoreDiff","abs","halfDiff","Pervasives","isDiffHalf","descendingRating","setUpperHalves","dataList","midpoint","splitInHalf","upperHalfIds","isUpperHalf","halfPos","indexOf","newPlayerData","sortByScoreThenRating","data1","data2","assignColorsForPair","pair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","PageTourneyPlayers$Selecting","tourney","tourneyDispatch","togglePlayer","PagePlayers$Coronate","Selecting","PageTourneyPlayers$PlayerList","byeQueue","tournament","playerIds","activePlayers","setIsSelecting","matches","colSpan","flexShrink","WithScoreInfo","BaseComponent","getPlayer","opponentResults","hasBye","colorBalance","avoidList","opponentResults$1","opId","avoidListHtml","sortByName","sortByIdeal","PairPicker$SelectList","pairData","stagedPlayers","setStagedPlayers","stagePlayersOption_000","stagePlayersOption_001","stagePlayersOption","sortedDispatch","isNullSelected","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","Pairing$Coronate","PairPicker$Stage","whiteName","blackName","stagedPlayersOption_000","stagedPlayersOption_001","blackOpt","whiteOpt","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","ideal","PlayerInfo","HigherOrderComponents$Coronate","fullName","unmatchedCount","unmatchedWithDummy","setIsModalOpen","flexGrow","PageTourneyPlayers$Coronate","winnerSelect","td","rowId","controls","matchResult","playerResult","PlayerMatchInfo","PageRound$MatchRow","isCompact","pos","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","white","black","newWhiteScore","newBlackScore","newRatings","tmp$1","scoreData$1","scope","PageRound$RoundTable","RoundTable","findById","PageRound$Round","moveMatch","matchId","oldIndex","newIndex","matchList$1","forEach","PageRound","activePlayersCount","initialTab","setOpenTab","Tabs","PairPicker$Coronate","scoreByeMatch","autoPair","filteredData","datum","dummyId","dataForNextBye","playerIdsWithoutByes","nextByeSignups","byePlayerData","pairs","playerIdArray","playerArray","EdmondsBlossom","accArr","playerMatches","p1Index","p2Index","matched","sort","pairsWithBye","blackId","whiteId","manualPair","tournamentReducer","idToDel","tbId","roundId$1","roundList$1","roundId$2","roundList$2","matchIndex","findIndex","roundId$3","matchId$1","roundList$3","roundId$4","matchId$2","roundList$4","matchIndex$1","oldMatch","roundId$5","roundList$5","newValue","roundList$6","playersReducer","id$1","player$2","calcNumOfRounds","playerCount","num","roundCount","ceil","log","NEGATIVE_INFINITY","emptyTourney","tourneyId","TournamentDataReducers$Coronate","setLoadStatus","loadStatus","allTheIds","values$1","newIds","Belt_SetString","oldIds","isItOver","isNewRoundReady","makeDateInput","year","rawMonth","rawDate","getDate","setEditing","editing","nameInput","dateInput","focusRef","myref","current","focus","ref","year$1","month$1","aria-describedby","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreaks","tieBreakNames","standingTree","standingsFlat","rank$1","rowSpan","j","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","moveTb","marginTop","m","Crosstable","opponent","index2","player1Id","player2Id","getXScore","firstRating","lastRating","change","getRatingChangeTds","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","basePath","hashPath","TournamentData$Coronate","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","t","placeholder","Index$App","url","PageOptions$Coronate","PageTourney$Coronate","PageTournamentList$Coronate","__webpack_require__","__webpack_exports__","App","ServiceWorker$1","ServiceWorker","module","exports","r"],"mappings":"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,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,SACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,GACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,YACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,WACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,IACQ,MAK1BuK,GAAcvK,IAAoC,CACrC,CACT,wBACY,CACY,GACZ,IAAImG,KAAK,4BACX,wBACE,mBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACF,GAET,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,KAIN,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,6BACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACF,GAET,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,IAGhB,IAEU,CACrB,E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AA7Btc,OAAOqc,SAASC,UAEhBtc,OAAOqc,SAASC,SAASnb,MACvB,2DA+GC,SAASob,KACV,kBAAmB/E,WACrBA,UAAUgF,cAAcC,MAAMC,KAAK,SAACC,GAClCA,EAAaJ,0DC9HclQ,IAA8B,CAC9C,CACT,wBACA,yBAES,CACT,wBACA,yBAES,CACT,wBACA,yBAES,CACT,wBACA,0BAED4E,GAAgC,IAEN,IAAInE,KAAK,4BAQ5BnG,IAAoC,CACjC,CACT,wBACY,CACK,SACP,wBACM,GACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,UACP,wBACM,YACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,WACE,IACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,GACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,WACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,SACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,YACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,UACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,SACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,cACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,MACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,YACE,GACJ,IACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,YACE,GACJ,IACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,QACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,MACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,MACP,wBACM,QACE,GACJ,KACQ,MAKZA,IAAoC,CACrC,CACT,wBACY,CACY,GACZ,IAAImG,KAAK,4BACX,wBACE,oBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CAAY,IACZ,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,sBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CAAY,CACnB,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,KAGN,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,gBACa,CACrB,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,KAIN,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,iBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,IAGhB,IAEU,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,qBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CA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","file":"static/js/main.dd60a907.chunk.js","sourcesContent":["// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Nanoid from \"nanoid\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction alert(prim) {\n  window.alert(prim);\n  return /* () */0;\n}\n\nfunction nanoid(prim) {\n  return Nanoid.default();\n}\n\nfunction confirm(prim) {\n  return window.confirm(prim);\n}\n\nfunction ascend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, a), Curry._1(getter, b));\n}\n\nfunction descend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, b), Curry._1(getter, a));\n}\n\nfunction last(arr) {\n  return Belt_Array.get(arr, arr.length - 1 | 0);\n}\n\nfunction sum(arr) {\n  return arr.reduce((function (prim, prim$1) {\n                return prim + prim$1 | 0;\n              }), 0);\n}\n\nfunction sumF(arr) {\n  return arr.reduce((function (prim, prim$1) {\n                return prim + prim$1;\n              }), 0.0);\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = /* module */[\n  /* last */last,\n  /* sum */sum,\n  /* sumF */sumF,\n  /* swap */swap\n];\n\nfunction sumF$1(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction toReactArray(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEach(list, (function (item) {\n          return result.unshift(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nvar List = /* module */[\n  /* sumF */sumF$1,\n  /* toReactArray */toReactArray\n];\n\nvar logo = ( require(\"./assets/icon-min.svg\") );\n\nvar caution = ( require(\"./assets/caution.svg\") );\n\nvar WebpackAssets = /* module */[\n  /* logo */logo,\n  /* caution */caution\n];\n\nvar Entities = /* module */[\n  /* nbsp */\"\\xa0\",\n  /* copy */\"\\xa9\"\n];\n\nfunction MakeDateTimeFormat(M) {\n  var Utils$MakeDateTimeFormat = function (Props) {\n    var date = Props.date;\n    return React.createElement(\"time\", {\n                dateTime: date.toISOString()\n              }, Intl_DateTimeFormat.format(M[/* formatter */0], date));\n  };\n  return /* module */[/* make */Utils$MakeDateTimeFormat];\n}\n\nvar formatter = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar DateFormat = /* module */[/* make */Utils$MakeDateTimeFormat];\n\nvar formatter$1 = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat$1(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$1, date));\n}\n\nvar DateTimeFormat = /* module */[/* make */Utils$MakeDateTimeFormat$1];\n\nvar panels = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Css.style(/* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* panels */panels,\n  /* panel */panel\n];\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = /* module */[/* make */Utils$Panel];\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = /* module */[/* make */Utils$PanelContainer];\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_000 = /* magenta_50 : `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_001 = /* magenta_60 : `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_002 = /* magenta_70 : `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_003 = /* magenta_80 : `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_004 = /* magenta_90 : `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_005 = /* purple_30 : `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_006 = /* purple_40 : `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_007 = /* purple_50 : `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_008 = /* purple_60 : `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_009 = /* purple_70 : `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_010 = /* purple_80 : `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_011 = /* purple_90 : `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_012 = /* blue_40 : `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_013 = /* blue_50 : `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_014 = /* blue_50_A30 : `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_015 = /* blue_60 : `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_016 = /* blue_70 : `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_017 = /* blue_80 : `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_018 = /* blue_90 : `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_019 = /* teal_50 : `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_020 = /* teal_60 : `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_021 = /* teal_70 : `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_022 = /* teal_80 : `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_023 = /* teal_90 : `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_025 = /* green_60 : `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_026 = /* green_70 : `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_027 = /* green_80 : `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_030 = /* yellow_60 : `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_031 = /* yellow_70 : `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_032 = /* yellow_80 : `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_034 = /* red_50 : `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_036 = /* red_70 : `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_037 = /* red_80 : `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_038 = /* red_90 : `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_039 = /* orange_50 : `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_040 = /* orange_60 : `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_041 = /* orange_70 : `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_042 = /* orange_80 : `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_043 = /* orange_90 : `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_044 = /* grey_10 : `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_045 = /* grey_10_A10 : `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_046 = /* grey_10_A20 : `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_047 = /* grey_10_A40 : `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_048 = /* grey_10_A60 : `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_049 = /* grey_10_A80 : `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_050 = /* grey_20 : `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_051 = /* grey_30 : `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_052 = /* grey_40 : `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_053 = /* grey_50 : `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_054 = /* grey_60 : `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_055 = /* grey_70 : `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_056 = /* grey_80 : `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_057 = /* grey_90 : `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_058 = /* grey_90_A05 : `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_059 = /* grey_90_A10 : `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_060 = /* grey_90_A20 : `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_061 = /* grey_90_A30 : `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_062 = /* grey_90_A40 : `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_063 = /* grey_90_A50 : `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_064 = /* grey_90_A60 : `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_065 = /* grey_90_A70 : `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_066 = /* grey_90_A80 : `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_067 = /* grey_90_A90 : `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_068 = /* ink_70 : `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_069 = /* ink_80 : `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_070 = /* ink_90 : `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = /* module */[\n  PhotonColors_000,\n  PhotonColors_001,\n  PhotonColors_002,\n  PhotonColors_003,\n  PhotonColors_004,\n  PhotonColors_005,\n  PhotonColors_006,\n  PhotonColors_007,\n  PhotonColors_008,\n  PhotonColors_009,\n  PhotonColors_010,\n  PhotonColors_011,\n  PhotonColors_012,\n  PhotonColors_013,\n  PhotonColors_014,\n  PhotonColors_015,\n  PhotonColors_016,\n  PhotonColors_017,\n  PhotonColors_018,\n  PhotonColors_019,\n  PhotonColors_020,\n  PhotonColors_021,\n  PhotonColors_022,\n  PhotonColors_023,\n  /* green_50 */green_50,\n  PhotonColors_025,\n  PhotonColors_026,\n  PhotonColors_027,\n  /* green_90 */green_90,\n  /* yellow_50 */yellow_50,\n  PhotonColors_030,\n  PhotonColors_031,\n  PhotonColors_032,\n  /* yellow_90 */yellow_90,\n  PhotonColors_034,\n  /* red_60 */red_60,\n  PhotonColors_036,\n  PhotonColors_037,\n  PhotonColors_038,\n  PhotonColors_039,\n  PhotonColors_040,\n  PhotonColors_041,\n  PhotonColors_042,\n  PhotonColors_043,\n  PhotonColors_044,\n  PhotonColors_045,\n  PhotonColors_046,\n  PhotonColors_047,\n  PhotonColors_048,\n  PhotonColors_049,\n  PhotonColors_050,\n  PhotonColors_051,\n  PhotonColors_052,\n  PhotonColors_053,\n  PhotonColors_054,\n  PhotonColors_055,\n  PhotonColors_056,\n  PhotonColors_057,\n  PhotonColors_058,\n  PhotonColors_059,\n  PhotonColors_060,\n  PhotonColors_061,\n  PhotonColors_062,\n  PhotonColors_063,\n  PhotonColors_064,\n  PhotonColors_065,\n  PhotonColors_066,\n  PhotonColors_067,\n  PhotonColors_068,\n  PhotonColors_069,\n  PhotonColors_070,\n  /* white_100 */white_100\n];\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Css.style(/* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Css.style(/* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Css.style(/* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nvar Style$1 = /* module */[\n  /* container */container,\n  /* text */text,\n  /* icon */icon,\n  /* success */success,\n  /* warning */warning,\n  /* error */error\n];\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var match = Props.kind;\n  var kind = match !== undefined ? match : /* Generic */3;\n  var match$1 = Props.tooltip;\n  var tooltip = match$1 !== undefined ? match$1 : \"\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4;\n  switch (kind) {\n    case 0 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case 1 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case 2 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.X, { }),\n          error\n        ];\n        break;\n    case 3 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match$4[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match$4[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nvar $$Notification = /* module */[\n  /* Style */Style$1,\n  /* make */Utils$Notification\n];\n\nfunction hashPath(hashString) {\n  var list = Belt_List.fromArray(hashString.split(\"/\"));\n  var path = list ? list[1] : list;\n  if (path) {\n    return path;\n  } else {\n    return /* :: */[\n            \"\",\n            /* [] */0\n          ];\n  }\n}\n\nfunction Utils$Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var hash = match[/* hash */1];\n  var isCurrent = to_ === \"/\" ? hash === \"\" || hash === to_ : hash === to_;\n  var ariaCurrent = isCurrent ? \"true\" : \"false\";\n  return React.createElement(\"a\", {\n              \"aria-current\": ariaCurrent,\n              href: \"#\" + to_,\n              onDragStart: onDragStart\n            }, children);\n}\n\nvar HashLink = /* module */[/* make */Utils$Router$HashLink];\n\nvar Router = /* module */[\n  /* hashPath */hashPath,\n  /* HashLink */HashLink\n];\n\nNumeral.registerFormat(\"fraction\", {\n      format: (function (value, _format, _roundingFunction) {\n          var whole = Math.floor(value);\n          var remainder = value - whole;\n          var fraction = remainder !== 0.25 ? (\n              remainder !== 0.5 ? (\n                  remainder !== 0.75 ? \"\" : \"¾\"\n                ) : \"½\"\n            ) : \"¼\";\n          var match = whole === 0.0 && fraction !== \"\";\n          var stringedWhole = match ? \"\" : whole.toString();\n          return stringedWhole + fraction;\n        }),\n      regexps: {\n        format: (/(1\\/2)/),\n        unformat: (/(1\\/2)/)\n      },\n      unformat: (function (value) {\n          return Number(value);\n        })\n    });\n\nvar Tabs = 0;\n\nvar VisuallyHidden = 0;\n\nvar Dialog = 0;\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nexport {\n  Tabs ,\n  VisuallyHidden ,\n  Dialog ,\n  alert ,\n  nanoid ,\n  confirm ,\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  List ,\n  WebpackAssets ,\n  Entities ,\n  MakeDateTimeFormat ,\n  DateFormat ,\n  DateTimeFormat ,\n  Style ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  Router ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as EloRank from \"elo-rank\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nfunction opposite(color) {\n  if (color) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(color) {\n  if (color) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nvar Color = /* module */[\n  /* opposite */opposite,\n  /* toScore */toScore\n];\n\nfunction isNotDummy(scoreDict, oppId) {\n  var match = Belt_MapString.get(scoreDict, oppId);\n  if (match !== undefined) {\n    return !match[/* isDummy */3];\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List[/* sumF */0](match[/* results */7]);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Belt_MapString.keysToArray(match[/* opponentResults */4]).filter((function (param) {\n                    return isNotDummy(scoreDict, param);\n                  })).map((function (param) {\n                  return getPlayerScore(scoreDict, param);\n                }));\n  } else {\n    return /* array */[];\n  }\n}\n\nfunction getMedianScore(scoreDict, id) {\n  return Utils$Coronate.$$Array[/* sumF */2](Belt_SortArray.stableSortBy(getOpponentScores(scoreDict, id), Caml_obj.caml_compare).slice(1, -1));\n}\n\nfunction getSolkoffScore(scoreDict, id) {\n  return Utils$Coronate.$$Array[/* sumF */2](getOpponentScores(scoreDict, id));\n}\n\nfunction runningReducer(acc, score) {\n  var lastScore = acc ? acc[0] : 0.0;\n  return /* :: */[\n          lastScore + score,\n          acc\n        ];\n}\n\nfunction getCumulativeScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List[/* sumF */0](Belt_List.reduce(match[/* resultsNoByes */8], /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.$$Array[/* sumF */2](Belt_MapString.keysToArray(match[/* opponentResults */4]).filter((function (param) {\n                        return isNotDummy(scoreDict, param);\n                      })).map((function (param) {\n                      return getCumulativeScore(scoreDict, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List[/* sumF */0](match[/* colorScores */0]);\n  } else {\n    return 0.0;\n  }\n}\n\nvar tieBreakMethods = /* array */[\n  /* record */[\n    /* func */getMedianScore,\n    /* id */0,\n    /* name */\"Median\"\n  ],\n  /* record */[\n    /* func */getSolkoffScore,\n    /* id */1,\n    /* name */\"Solkoff\"\n  ],\n  /* record */[\n    /* func */getCumulativeScore,\n    /* id */2,\n    /* name */\"Cumulative score\"\n  ],\n  /* record */[\n    /* func */getCumulativeOfOpponentScore,\n    /* id */3,\n    /* name */\"Cumulative of opposition\"\n  ],\n  /* record */[\n    /* func */getColorBalanceScore,\n    /* id */4,\n    /* name */\"Most black\"\n  ]\n];\n\nfunction getNamefromIndex(index) {\n  return Belt_Array.getExn(tieBreakMethods, index)[/* name */2];\n}\n\nfunction getTieBreakNames(idList) {\n  return idList.map(getNamefromIndex);\n}\n\nfunction createBlankScoreData(id) {\n  return /* record */[\n          /* colorScores : [] */0,\n          /* colors : [] */0,\n          /* id */id,\n          /* isDummy */false,\n          /* opponentResults */Belt_MapString.empty,\n          /* ratings : [] */0,\n          /* firstRating */0,\n          /* results : [] */0,\n          /* resultsNoByes : [] */0\n        ];\n}\n\nfunction standingsSorter(a, b) {\n  var result = 0;\n  var tieBreakIndex = 0;\n  var $$break = false;\n  while(result === 0 && !$$break) {\n    var x = Caml_primitive.caml_float_compare(b[/* score */1], a[/* score */1]);\n    if (x !== 0) {\n      result = x;\n    } else {\n      var match = Belt_Array.get(b[/* tieBreaks */2], tieBreakIndex);\n      var match$1 = Belt_Array.get(a[/* tieBreaks */2], tieBreakIndex);\n      if (match !== undefined && match$1 !== undefined) {\n        var x$1 = Caml_primitive.caml_float_compare(match, match$1);\n        if (x$1 !== 0) {\n          result = x$1;\n        } else {\n          tieBreakIndex = tieBreakIndex + 1 | 0;\n        }\n      } else {\n        $$break = true;\n      }\n    }\n  };\n  return result;\n}\n\nfunction createStandingList(methods, scoreData) {\n  var selectedTieBreakFuncs = methods.map((function (i) {\n          return Belt_Array.getExn(tieBreakMethods, i)[/* func */0];\n        }));\n  var standings = Belt_MapString.keysToArray(scoreData).map((function (id) {\n          return /* record */[\n                  /* id */id,\n                  /* score */getPlayerScore(scoreData, id),\n                  /* tieBreaks */selectedTieBreakFuncs.map((function (fn) {\n                          return Curry._2(fn, scoreData, id);\n                        }))\n                ];\n        }));\n  return Belt_SortArray.stableSortBy(standings, standingsSorter);\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  var equalScores = standing1[/* score */1] !== standing2[/* score */1];\n  if (equalScores) {\n    return false;\n  } else {\n    return !standing1[/* tieBreaks */2].reduce((function (acc, value, i) {\n                    return /* array */[value !== Belt_Array.getExn(standing2[/* tieBreaks */2], i)].concat(acc);\n                  }), /* array */[]).includes(true);\n  }\n}\n\nfunction createStandingTree(standingList) {\n  return standingList.reduce((function (acc, standing, i) {\n                var match = i === 0;\n                var isNewRank = match ? true : !areScoresEqual(standing, Belt_Array.getExn(standingList, i - 1 | 0));\n                if (isNewRank) {\n                  return acc.concat(/* array */[/* array */[standing]]);\n                } else {\n                  var lastIndex = acc.length - 1 | 0;\n                  Belt_Array.set(acc, lastIndex, Belt_Array.getExn(acc, lastIndex).concat(/* array */[standing]));\n                  return acc;\n                }\n              }), /* array */[]);\n}\n\nfunction getKFactor(matchCount) {\n  var match = matchCount > 0;\n  var ne = match ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  var match = rating > 100;\n  if (match) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(param, param$1, param$2) {\n  var blackRating = param[1];\n  var whiteRating = param[0];\n  var whiteElo = new EloRank.default(getKFactor(param$1[0]));\n  var blackElo = new EloRank.default(getKFactor(param$1[1]));\n  var whiteScoreExpected = whiteElo.getExpected(whiteRating, blackRating);\n  var blackScoreExpected = blackElo.getExpected(blackRating, whiteRating);\n  return /* tuple */[\n          keepAboveFloor(whiteElo.updateRating(whiteScoreExpected, param$2[0], whiteRating)),\n          keepAboveFloor(blackElo.updateRating(blackScoreExpected, param$2[1], blackRating))\n        ];\n}\n\nvar Ratings = /* module */[\n  /* getKFactor */getKFactor,\n  /* floor */100,\n  /* keepAboveFloor */keepAboveFloor,\n  /* EloRank */0,\n  /* calcNewRatings */calcNewRatings\n];\n\nexport {\n  Color ,\n  isNotDummy ,\n  getPlayerScore ,\n  getOpponentScores ,\n  getMedianScore ,\n  getSolkoffScore ,\n  runningReducer ,\n  getCumulativeScore ,\n  getCumulativeOfOpponentScore ,\n  getColorBalanceScore ,\n  tieBreakMethods ,\n  getNamefromIndex ,\n  getTieBreakNames ,\n  createBlankScoreData ,\n  standingsSorter ,\n  createStandingList ,\n  areScoresEqual ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* elo-rank Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case 0 : \n        return \"person\";\n    case 1 : \n        return \"dummy\";\n    case 2 : \n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" : \n        return /* Dummy */1;\n    case \"missing\" : \n        return /* Missing */2;\n    case \"person\" : \n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = /* module */[\n  /* toString */toString,\n  /* fromString */fromString,\n  /* encode */encode,\n  /* decode */decode\n];\n\nfunction decode$1(json) {\n  return /* record */[\n          /* firstName */Json_decode.field(\"firstName\", Json_decode.string, json),\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* lastName */Json_decode.field(\"lastName\", Json_decode.string, json),\n          /* matchCount */Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          /* rating */Json_decode.field(\"rating\", Json_decode.$$int, json),\n          /* type_ */Json_decode.field(\"type_\", decode, json)\n        ];\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"firstName\",\n                data[/* firstName */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"id\",\n                  data[/* id */1]\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastName\",\n                    data[/* lastName */2]\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"matchCount\",\n                      data[/* matchCount */3]\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"rating\",\n                        data[/* rating */4]\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"type_\",\n                          toString(data[/* type_ */5])\n                        ],\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar dummy_id = \"________DUMMY________\";\n\nfunction isDummyId(playerId) {\n  return playerId === dummy_id;\n}\n\nvar dummyPlayer = /* record */[\n  /* firstName */\"Bye\",\n  /* id */dummy_id,\n  /* lastName */\"Player\",\n  /* matchCount */0,\n  /* rating */0,\n  /* type_ : Dummy */1\n];\n\nfunction makeMissingPlayer(id) {\n  return /* record */[\n          /* firstName */\"Anonymous\",\n          /* id */id,\n          /* lastName */\"Player\",\n          /* matchCount */0,\n          /* rating */0,\n          /* type_ : Missing */2\n        ];\n}\n\nfunction getPlayerMaybe(playerMap, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    return Belt_MapString.getWithDefault(playerMap, id, makeMissingPlayer(id));\n  }\n}\n\nvar Player = /* module */[\n  /* Type */Type,\n  /* decode */decode$1,\n  /* encode */encode$1,\n  /* dummy_id */dummy_id,\n  /* isDummyId */isDummyId,\n  /* dummyPlayer */dummyPlayer,\n  /* makeMissingPlayer */makeMissingPlayer,\n  /* getPlayerMaybe */getPlayerMaybe\n];\n\nfunction toFloat(score, color) {\n  switch (score) {\n    case 0 : \n        if (color) {\n          return 0.0;\n        } else {\n          return 1.0;\n        }\n    case 1 : \n        if (color) {\n          return 1.0;\n        } else {\n          return 0.0;\n        }\n    case 2 : \n        return 0.5;\n    case 3 : \n        return 0.0;\n    \n  }\n}\n\nfunction toString$1(score) {\n  switch (score) {\n    case 0 : \n        return \"whiteWon\";\n    case 1 : \n        return \"blackWon\";\n    case 2 : \n        return \"draw\";\n    case 3 : \n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString$1(score) {\n  switch (score) {\n    case \"blackWon\" : \n        return /* BlackWon */1;\n    case \"draw\" : \n        return /* Draw */2;\n    case \"whiteWon\" : \n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode$2 = toString$1;\n\nfunction decode$2(json) {\n  return fromString$1(Json_decode.string(json));\n}\n\nvar Result = /* module */[\n  /* toFloat */toFloat,\n  /* toString */toString$1,\n  /* fromString */fromString$1,\n  /* encode */encode$2,\n  /* decode */decode$2\n];\n\nfunction decode$3(json) {\n  return /* record */[\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* whiteId */Json_decode.field(\"whiteId\", Json_decode.string, json),\n          /* blackId */Json_decode.field(\"blackId\", Json_decode.string, json),\n          /* whiteNewRating */Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          /* blackNewRating */Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          /* whiteOrigRating */Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          /* blackOrigRating */Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          /* result */Json_decode.field(\"result\", decode$2, json)\n        ];\n}\n\nfunction encode$3(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                data[/* id */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"whiteId\",\n                  data[/* whiteId */1]\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"blackId\",\n                    data[/* blackId */2]\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"whiteNewRating\",\n                      data[/* whiteNewRating */3]\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"blackNewRating\",\n                        data[/* blackNewRating */4]\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"whiteOrigRating\",\n                          data[/* whiteOrigRating */5]\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"blackOrigRating\",\n                            data[/* blackOrigRating */6]\n                          ],\n                          /* :: */[\n                            /* tuple */[\n                              \"result\",\n                              toString$1(data[/* result */7])\n                            ],\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar Match = /* module */[\n  /* Result */Result,\n  /* decode */decode$3,\n  /* encode */encode$3\n];\n\nfunction decode$4(json) {\n  var partial_arg_001 = /* :: */[\n    (function (prim) {\n        return prim;\n      }),\n    /* [] */0\n  ];\n  var partial_arg = /* :: */[\n    Json_decode.date,\n    partial_arg_001\n  ];\n  return /* record */[\n          /* byeQueue */Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Json_decode.string, param);\n                }), json),\n          /* date */Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* name */Json_decode.field(\"name\", Json_decode.string, json),\n          /* playerIds */Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.array(Json_decode.string, param);\n                }), json),\n          /* roundList */Json_decode.field(\"roundList\", (function (param) {\n                  return Json_decode.array((function (param) {\n                                return Json_decode.array(decode$3, param);\n                              }), param);\n                }), json),\n          /* tieBreaks */Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(Json_decode.$$int, param);\n                }), json)\n        ];\n}\n\nfunction encode$4(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"byeQueue\",\n                data[/* byeQueue */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"date\",\n                  Json_encode.date(data[/* date */1])\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"id\",\n                    data[/* id */2]\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"name\",\n                      data[/* name */3]\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"playerIds\",\n                        data[/* playerIds */4]\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"roundList\",\n                          Json_encode.array((function (param) {\n                                  return Json_encode.array(encode$3, param);\n                                }), data[/* roundList */5])\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"tieBreaks\",\n                            Json_encode.array((function (prim) {\n                                    return prim;\n                                  }), data[/* tieBreaks */6])\n                          ],\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar Tournament = /* module */[\n  /* decode */decode$4,\n  /* encode */encode$4\n];\n\nfunction toFloat$1(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(json) {\n  if (json !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode$5(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode$5(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nfunction resultForPlayerColor(byeValue, color) {\n  if (byeValue) {\n    return /* Draw */2;\n  } else if (color) {\n    return /* BlackWon */1;\n  } else {\n    return /* WhiteWon */0;\n  }\n}\n\nvar ByeValue = /* module */[\n  /* toFloat */toFloat$1,\n  /* fromFloat */fromFloat,\n  /* encode */encode$5,\n  /* decode */decode$5,\n  /* resultForPlayerColor */resultForPlayerColor\n];\n\nfunction cmp(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  var w = Caml_obj.caml_compare(a, c);\n  var x = Caml_obj.caml_compare(b, d);\n  var y = Caml_obj.caml_compare(a, d);\n  var z = Caml_obj.caml_compare(b, c);\n  var x$1 = ((w + x | 0) + y | 0) + z | 0;\n  if (x$1 !== 0 || !(w !== 0 && x !== 0 && y !== 0 && z !== 0)) {\n    return x$1;\n  } else {\n    return 1;\n  }\n}\n\nvar T = Belt_Id.MakeComparable(/* module */[/* cmp */cmp]);\n\nfunction make(param) {\n  return Belt_Set.make(T);\n}\n\nfunction decode$6(json) {\n  return Belt_Set.fromArray(Json_decode.array((function (param) {\n                    return Json_decode.pair(Json_decode.string, Json_decode.string, param);\n                  }), json), T);\n}\n\nfunction encode$6(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair((function (prim) {\n                              return prim;\n                            }), (function (prim) {\n                              return prim;\n                            }), param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction reduceToMap(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var match = Belt_MapString.get(acc, id1);\n  var newList1 = match !== undefined ? /* :: */[\n      id2,\n      match\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var match$1 = Belt_MapString.get(acc, id2);\n  var newList2 = match$1 !== undefined ? /* :: */[\n      id1,\n      match$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_MapString.set(Belt_MapString.set(acc, id1, newList1), id2, newList2);\n}\n\nvar AvoidPairs = /* module */[\n  /* T */T,\n  /* make */make,\n  /* decode */decode$6,\n  /* encode */encode$6,\n  /* reduceToMap */reduceToMap\n];\n\nfunction decode$7(json) {\n  return /* record */[\n          /* avoidPairs */Json_decode.field(\"avoidPairs\", decode$6, json),\n          /* byeValue */Json_decode.field(\"byeValue\", decode$5, json),\n          /* lastBackup */Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        ];\n}\n\nfunction encode$7(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"avoidPairs\",\n                encode$6(data[/* avoidPairs */0])\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"byeValue\",\n                  data[/* byeValue */1] ? 0.5 : 1.0\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastBackup\",\n                    Json_encode.date(data[/* lastBackup */2])\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nvar defaults_000 = /* avoidPairs */Belt_Set.make(T);\n\nvar defaults_002 = /* lastBackup */new Date(0.0);\n\nvar defaults = /* record */[\n  defaults_000,\n  /* byeValue : Full */0,\n  defaults_002\n];\n\nvar Config = /* module */[\n  /* decode */decode$7,\n  /* encode */encode$7,\n  /* defaults */defaults\n];\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? (function (param) {\n            return (function (param$1) {\n                return roundList.slice(param, param$1);\n              });\n          })(0)(lastRound + 1 | 0) : roundList;\n  return rounds.reduce((function (acc, round) {\n                return acc.concat(round);\n              }), /* array */[]);\n}\n\nfunction getUnmatched(roundList, players, roundId) {\n  var match = Belt_Array.get(roundList, roundId);\n  var matchList = match !== undefined ? match : /* array */[];\n  var matchedIds = matchList.reduce((function (acc, match_) {\n          return acc.concat(/* array */[\n                      match_[/* whiteId */1],\n                      match_[/* blackId */2]\n                    ]);\n        }), /* array */[]);\n  return Belt_MapString.reduce(players, Belt_MapString.empty, (function (acc, key, player) {\n                if (matchedIds.includes(key)) {\n                  return acc;\n                } else {\n                  return Belt_MapString.set(acc, key, player);\n                }\n              }));\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  if (roundId < (roundList.length - 1 | 0)) {\n    return true;\n  } else {\n    var unmatched = getUnmatched(roundList, players, roundId);\n    var results = Belt_Array.getExn(roundList, roundId).map((function (match_) {\n            return match_[/* result */7];\n          }));\n    if (Belt_MapString.size(unmatched) === 0) {\n      return !results.includes(/* NotSet */3);\n    } else {\n      return false;\n    }\n  }\n}\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var match = Belt_MapString.get(existingData, playerId);\n  var oldData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(playerId);\n  var ratings = oldData[/* ratings */5];\n  var match$1 = ratings ? /* tuple */[\n      /* :: */[\n        newRating,\n        ratings\n      ],\n      origRating\n    ] : /* tuple */[\n      /* :: */[\n        newRating,\n        /* [] */0\n      ],\n      origRating\n    ];\n  var match$2 = oppId === dummy_id;\n  var newResultsNoByes = match$2 ? oldData[/* resultsNoByes */8] : /* :: */[\n      result,\n      oldData[/* resultsNoByes */8]\n    ];\n  var oldOppResults = oldData[/* opponentResults */4];\n  var match$3 = Belt_MapString.get(oldOppResults, oppId);\n  var oppResult = match$3 !== undefined ? match$3 + result : result;\n  var newOpponentResults = Belt_MapString.set(oldOppResults, oppId, oppResult);\n  return /* record */[\n          /* colorScores : :: */[\n            Scoring$Coronate.Color[/* toScore */1](color),\n            oldData[/* colorScores */0]\n          ],\n          /* colors : :: */[\n            color,\n            oldData[/* colors */1]\n          ],\n          /* id */playerId,\n          /* isDummy */playerId === dummy_id,\n          /* opponentResults */newOpponentResults,\n          /* ratings */match$1[0],\n          /* firstRating */match$1[1],\n          /* results : :: */[\n            result,\n            oldData[/* results */7]\n          ],\n          /* resultsNoByes */newResultsNoByes\n        ];\n}\n\nfunction matches2ScoreData(matchList) {\n  return matchList.reduce((function (acc, match_) {\n                var match = match_[/* result */7];\n                if (match >= 3) {\n                  return acc;\n                } else {\n                  var whiteData = makeScoreData(acc, match_[/* whiteId */1], match_[/* whiteOrigRating */5], match_[/* whiteNewRating */3], toFloat(match_[/* result */7], /* White */0), match_[/* blackId */2], /* White */0);\n                  var blackData = makeScoreData(acc, match_[/* blackId */2], match_[/* blackOrigRating */6], match_[/* blackNewRating */4], toFloat(match_[/* result */7], /* Black */1), match_[/* whiteId */1], /* Black */1);\n                  return Belt_MapString.set(Belt_MapString.set(acc, match_[/* whiteId */1], whiteData), match_[/* blackId */2], blackData);\n                }\n              }), Belt_MapString.empty);\n}\n\nfunction createPairingData(playerData, avoidPairs, scoreMap) {\n  var avoidMap = Belt_Set.reduce(avoidPairs, Belt_MapString.empty, reduceToMap);\n  return Belt_MapString.reduce(playerData, Belt_MapString.empty, (function (acc, key, data) {\n                var match = Belt_MapString.get(scoreMap, key);\n                var playerStats = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(key);\n                var match$1 = Belt_MapString.get(avoidMap, key);\n                var newAvoidIds = match$1 !== undefined ? match$1 : /* [] */0;\n                var newData_000 = /* id */data[/* id */1];\n                var newData_002 = /* colorScores */playerStats[/* colorScores */0];\n                var newData_003 = /* colors */playerStats[/* colors */1];\n                var newData_006 = /* opponents */Belt_List.fromArray(Belt_MapString.keysToArray(playerStats[/* opponentResults */4]));\n                var newData_007 = /* rating */data[/* rating */4];\n                var newData_008 = /* score */Utils$Coronate.List[/* sumF */0](playerStats[/* results */7]);\n                var newData = /* record */[\n                  newData_000,\n                  /* avoidIds */newAvoidIds,\n                  newData_002,\n                  newData_003,\n                  /* halfPos */0,\n                  /* isUpperHalf */false,\n                  newData_006,\n                  newData_007,\n                  newData_008\n                ];\n                return Belt_MapString.set(acc, key, newData);\n              }));\n}\n\nvar Converters = /* module */[\n  /* makeScoreData */makeScoreData,\n  /* matches2ScoreData */matches2ScoreData,\n  /* createPairingData */createPairingData\n];\n\nexport {\n  Player ,\n  Match ,\n  Tournament ,\n  ByeValue ,\n  AvoidPairs ,\n  Config ,\n  rounds2Matches ,\n  getUnmatched ,\n  isRoundComplete ,\n  Converters ,\n  \n}\n/* T Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case 0 : \n          newState = /* record */[\n            /* isDescending */action[0],\n            /* column */state[/* column */1],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case 1 : \n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* column */action[0],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case 2 : \n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* column */state[/* column */1],\n            /* table */action[0]\n          ];\n          break;\n      \n    }\n  }\n  var match = newState[/* isDescending */0];\n  var direction = match ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var match$1 = newState[/* column */1];\n  var sortFunc;\n  if (match$1.tag) {\n    sortFunc = Curry._1(direction, match$1[0]);\n  } else {\n    var func = match$1[0];\n    sortFunc = Curry._1(direction, (function (str) {\n            return Curry._1(func, str).toLowerCase();\n          }));\n  }\n  var table = Belt_SortArray.stableSortBy(newState[/* table */2], sortFunc);\n  return /* record */[\n          /* isDescending */newState[/* isDescending */0],\n          /* column */newState[/* column */1],\n          /* table */table\n        ];\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = /* record */[\n    /* isDescending */isDescending,\n    /* column */column,\n    /* table */table\n  ];\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          return undefined;\n        }), /* array */[dispatch]);\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var match = data[/* column */1] === sortColumn;\n  var chevronStyle = match ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  var match$1 = data[/* isDescending */0];\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  var match = data[/* column */1] === sortColumn;\n                  if (match) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data[/* isDescending */0]]));\n                  } else {\n                    return Curry._1(dispatch, /* SetColumn */Block.__(1, [sortColumn]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, match$1 ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = /* module */[/* make */Hooks$SortButton];\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), /* array */[isLoaded]);\n  return /* () */0;\n}\n\nexport {\n  sortedTableReducer ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nvar config_000 = /* avoidPairs */Belt_Set.fromArray(/* array */[\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        \"JamesGordon_1ts9xICT3\"\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        \"HarleyQuinn_-10-02VPH\"\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        \"BruceWayne_lv_ZsUHTU9\"\n      ]\n    ], Data$Coronate.AvoidPairs[/* T */0]);\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue : Full */0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        /* record */[\n          /* firstName */\"Bruce\",\n          /* id */\"BruceWayne_lv_ZsUHTU9\",\n          /* lastName */\"Wayne\",\n          /* matchCount */9,\n          /* rating */1998,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"DickGrayson_1C2rCokHH\",\n        /* record */[\n          /* firstName */\"Dick\",\n          /* id */\"DickGrayson_1C2rCokHH\",\n          /* lastName */\"Grayson\",\n          /* matchCount */9,\n          /* rating */1909,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"AlfredPennyworth_y4dW\",\n        /* record */[\n          /* firstName */\"Alfred\",\n          /* id */\"AlfredPennyworth_y4dW\",\n          /* lastName */\"Pennyworth\",\n          /* matchCount */9,\n          /* rating */1999,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        /* record */[\n          /* firstName */\"Barbara\",\n          /* id */\"BarbaraGordon_cL6SpI2\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1345,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"KateKane_klFW6gDfUOTX\",\n        /* record */[\n          /* firstName */\"Kate\",\n          /* id */\"KateKane_klFW6gDfUOTX\",\n          /* lastName */\"Kane\",\n          /* matchCount */9,\n          /* rating */1539,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"SelinaKyle_rJBH-45Xoy\",\n        /* record */[\n          /* firstName */\"Selina\",\n          /* id */\"SelinaKyle_rJBH-45Xoy\",\n          /* lastName */\"Kyle\",\n          /* matchCount */9,\n          /* rating */1495,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JasonTodd_fc9CeOa-Luw\",\n        /* record */[\n          /* firstName */\"Jason\",\n          /* id */\"JasonTodd_fc9CeOa-Luw\",\n          /* lastName */\"Todd\",\n          /* matchCount */7,\n          /* rating */1101,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JamesGordon_1ts9xICT3\",\n        /* record */[\n          /* firstName */\"James\",\n          /* id */\"JamesGordon_1ts9xICT3\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1167,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        /* record */[\n          /* firstName */\"Helena\",\n          /* id */\"HelenaWayne_fE6O0DJcE\",\n          /* lastName */\"Wayne\",\n          /* matchCount */7,\n          /* rating */1087,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        /* record */[\n          /* firstName */\"Joker\",\n          /* id */\"Joker_v0z2416fpAZ9o2c\",\n          /* lastName */\"\",\n          /* matchCount */1,\n          /* rating */1538,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HarleyQuinn_-10-02VPH\",\n        /* record */[\n          /* firstName */\"Harley\",\n          /* id */\"HarleyQuinn_-10-02VPH\",\n          /* lastName */\"Quinn\",\n          /* matchCount */1,\n          /* rating */1648,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"VictorFries_cWaQoW014\",\n        /* record */[\n          /* firstName */\"Victor\",\n          /* id */\"VictorFries_cWaQoW014\",\n          /* lastName */\"Fries\",\n          /* matchCount */1,\n          /* rating */862,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"OswaldCobblepot_lfCro\",\n        /* record */[\n          /* firstName */\"Oswald\",\n          /* id */\"OswaldCobblepot_lfCro\",\n          /* lastName */\"Cobblepot\",\n          /* matchCount */1,\n          /* rating */1812,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"RasAlGhul_k9n8k852bHr\",\n        /* record */[\n          /* firstName */\"Ra's\",\n          /* id */\"RasAlGhul_k9n8k852bHr\",\n          /* lastName */\"al Ghul\",\n          /* matchCount */1,\n          /* rating */1404,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"PamelaIsley_vH5vD8uPB\",\n        /* record */[\n          /* firstName */\"Pamela\",\n          /* id */\"PamelaIsley_vH5vD8uPB\",\n          /* lastName */\"Isley\",\n          /* matchCount */1,\n          /* rating */965,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"EdwardNigma_j80JfWOZq\",\n        /* record */[\n          /* firstName */\"Edward\",\n          /* id */\"EdwardNigma_j80JfWOZq\",\n          /* lastName */\"Nigma\",\n          /* matchCount */1,\n          /* rating */948,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JonathanCrane_R4Q8tVW\",\n        /* record */[\n          /* firstName */\"Jonathan\",\n          /* id */\"JonathanCrane_R4Q8tVW\",\n          /* lastName */\"Crane\",\n          /* matchCount */1,\n          /* rating */899,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HarveyDent_0eYIiP_Ij5\",\n        /* record */[\n          /* firstName */\"Harvey\",\n          /* id */\"HarveyDent_0eYIiP_Ij5\",\n          /* lastName */\"Dent\",\n          /* matchCount */1,\n          /* rating */1649,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HugoStrange_az43f9mtS\",\n        /* record */[\n          /* firstName */\"Hugo\",\n          /* id */\"HugoStrange_az43f9mtS\",\n          /* lastName */\"Strange\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ : Person */0\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"CaouTNel9k70jUJ0h6SYM\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-05-22T12:14:47.670Z\"),\n          /* id */\"CaouTNel9k70jUJ0h6SYM\",\n          /* name */\"Wayne Manor Open\",\n          /* playerIds : array */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            \"DickGrayson_1C2rCokHH\",\n            \"AlfredPennyworth_y4dW\",\n            \"BarbaraGordon_cL6SpI2\",\n            \"KateKane_klFW6gDfUOTX\",\n            \"SelinaKyle_rJBH-45Xoy\",\n            \"JasonTodd_fc9CeOa-Luw\",\n            \"JamesGordon_1ts9xICT3\",\n            \"HelenaWayne_fE6O0DJcE\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"FUASEeyES6ez_ROoT6qmU\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1236,\n                /* blackNewRating */2109,\n                /* whiteOrigRating */1238,\n                /* blackOrigRating */2108,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"gqPyD66QMPF-pup41xsB2\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */2260,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */2260,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"KpS1lQSzsQWQ3VVWJyA2P\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1553,\n                /* blackNewRating */1722,\n                /* whiteOrigRating */1527,\n                /* blackOrigRating */1755,\n                /* result : Draw */2\n              ],\n              /* record */[\n                /* id */\"OgFuy-wq8mz378EWat46u\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1278,\n                /* blackNewRating */1887,\n                /* whiteOrigRating */1284,\n                /* blackOrigRating */1881,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"f8Ps3GUmd0ZRsBBY8rZOp\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */831,\n                /* blackNewRating */0,\n                /* whiteOrigRating */831,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"6seKrw7ehbhL766g6L2PF\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */2122,\n                /* blackNewRating */1672,\n                /* whiteOrigRating */2109,\n                /* blackOrigRating */1685,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"TCSjz48ZXqjamtYUFNg0B\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"HelenaWayne_fE6O0DJcE\",\n                /* whiteNewRating */1887,\n                /* blackNewRating */830,\n                /* whiteOrigRating */1887,\n                /* blackOrigRating */831,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"zF64DEsN8sHydpDDsg37E\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */2101,\n                /* blackNewRating */1437,\n                /* whiteOrigRating */2260,\n                /* blackOrigRating */1278,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"qVGt1EJq9y0MmvFtumM0A\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1574,\n                /* blackNewRating */1207,\n                /* whiteOrigRating */1545,\n                /* blackOrigRating */1236,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"UhfHaRWr_-BtVo22xAuJu\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"odrOOnZJUe0YAwkfUDqUb\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1990,\n                /* whiteOrigRating */2101,\n                /* blackOrigRating */1887,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"qzCMqUwNIDAcFSAuA5yCm\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */990,\n                /* blackNewRating */2008,\n                /* whiteOrigRating */830,\n                /* blackOrigRating */2122,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"6QgVqdtcJPjfVp3UZ8S9g\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1529,\n                /* blackNewRating */1464,\n                /* whiteOrigRating */1437,\n                /* blackOrigRating */1574,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"as45gODKMLC5-3_UsTyx5\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1542,\n                /* blackNewRating */1244,\n                /* whiteOrigRating */1672,\n                /* blackOrigRating */1049,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Pc0CWecSfeGNfvBPjyEIj\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1207,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"xj0y_Iqkb-g3MDGgmYx2-\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */1990,\n                /* blackOrigRating */1542,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"HWYWtsyaqUkHRExM6kQrt\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */2009,\n                /* blackNewRating */1243,\n                /* whiteOrigRating */2008,\n                /* blackOrigRating */1244,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"uAzHZVMC71liQZ-6fWWeD\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */983,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */990,\n                /* blackOrigRating */1529,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"_tCBn9YNIyto-vXpxm7WI\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1205,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */1998,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"L7yatE2oVKlV7LOY6-d7Y\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1464,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1464,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"tvAdS4YbSOznrBgrg0ITA\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-05-29T12:15:20.593Z\"),\n          /* id */\"tvAdS4YbSOznrBgrg0ITA\",\n          /* name */\"The Battle for Gotham City\",\n          /* playerIds : array */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            \"DickGrayson_1C2rCokHH\",\n            \"AlfredPennyworth_y4dW\",\n            \"BarbaraGordon_cL6SpI2\",\n            \"KateKane_klFW6gDfUOTX\",\n            \"SelinaKyle_rJBH-45Xoy\",\n            \"JasonTodd_fc9CeOa-Luw\",\n            \"JamesGordon_1ts9xICT3\",\n            \"HelenaWayne_fE6O0DJcE\",\n            \"Joker_v0z2416fpAZ9o2c\",\n            \"HarleyQuinn_-10-02VPH\",\n            \"VictorFries_cWaQoW014\",\n            \"OswaldCobblepot_lfCro\",\n            \"RasAlGhul_k9n8k852bHr\",\n            \"PamelaIsley_vH5vD8uPB\",\n            \"EdwardNigma_j80JfWOZq\",\n            \"JonathanCrane_R4Q8tVW\",\n            \"HarveyDent_0eYIiP_Ij5\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"5f8GYcR8V44NYvTN1cZle\",\n                /* whiteId */\"EdwardNigma_j80JfWOZq\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */948,\n                /* blackNewRating */1998,\n                /* whiteOrigRating */950,\n                /* blackOrigRating */1998,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"GPTct4sL368SryTLFUu8E\",\n                /* whiteId */\"JonathanCrane_R4Q8tVW\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */899,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */900,\n                /* blackOrigRating */1999,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"AxtoztZ6O19nyrLfZ4YaU\",\n                /* whiteId */\"HarveyDent_0eYIiP_Ij5\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1649,\n                /* blackNewRating */1909,\n                /* whiteOrigRating */850,\n                /* blackOrigRating */2009,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"bUM_tWQsAtPe1gqRzlXd1\",\n                /* whiteId */\"RasAlGhul_k9n8k852bHr\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */1404,\n                /* blackNewRating */1495,\n                /* whiteOrigRating */1050,\n                /* blackOrigRating */1534,\n                /* result : Draw */2\n              ],\n              /* record */[\n                /* id */\"bAOVlP-M5xaPk1qofNReb\",\n                /* whiteId */\"OswaldCobblepot_lfCro\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1812,\n                /* blackNewRating */1345,\n                /* whiteOrigRating */1100,\n                /* blackOrigRating */1464,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"4omlgiGSaE1BmrHdABSym\",\n                /* whiteId */\"PamelaIsley_vH5vD8uPB\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */965,\n                /* blackNewRating */1539,\n                /* whiteOrigRating */1000,\n                /* blackOrigRating */1534,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"ysdEVYS2AyuKyOAwLLpTF\",\n                /* whiteId */\"HarleyQuinn_-10-02VPH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1648,\n                /* blackNewRating */1167,\n                /* whiteOrigRating */1200,\n                /* blackOrigRating */1242,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"YoJ9WGokAYrmJjfxCCf87\",\n                /* whiteId */\"VictorFries_cWaQoW014\",\n                /* blackId */\"Joker_v0z2416fpAZ9o2c\",\n                /* whiteNewRating */862,\n                /* blackNewRating */1538,\n                /* whiteOrigRating */1150,\n                /* blackOrigRating */1250,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Az7SBl3cs7rbwKPBI0IsU\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1087,\n                /* blackNewRating */1101,\n                /* whiteOrigRating */983,\n                /* blackOrigRating */1205,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Repromise from \"@aantron/repromise/src/js/repromise.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as LocalforageGetitems from \"localforage-getitems\";\nimport * as LocalforageSetitems from \"localforage-setitems\";\nimport * as LocalforageRemoveitems from \"localforage-removeitems\";\n\nvar EloRank = /* module */[];\n\nvar $$FileReader = /* module */[];\n\nfunction clear(param) {\n  return Repromise.Rejectable[/* catch */7]((function (error) {\n                console.error(error);\n                return Repromise.resolved(/* () */0);\n              }), Localforage.default.clear());\n}\n\nfunction $$Map(Data) {\n  return (function (Config) {\n      var store = Localforage.default.createInstance({\n            name: Config[/* name */0],\n            storeName: Config[/* storeName */1]\n          });\n      var getItem = function (key) {\n        return Repromise.Rejectable[/* catch */7]((function (error) {\n                      console.error(error);\n                      return Repromise.resolved(undefined);\n                    }), Repromise.Rejectable[/* andThen */4]((function (value) {\n                          var exit = 0;\n                          var val;\n                          try {\n                            val = Belt_Option.map((value == null) ? undefined : Caml_option.some(value), Data[/* decode */0]);\n                            exit = 1;\n                          }\n                          catch (raw_x){\n                            return Repromise.Rejectable[/* rejected */3](Caml_js_exceptions.internalToOCamlException(raw_x));\n                          }\n                          if (exit === 1) {\n                            if (val !== undefined) {\n                              return Repromise.Rejectable[/* resolved */2](Caml_option.some(Caml_option.valFromOption(val)));\n                            } else {\n                              return Repromise.Rejectable[/* resolved */2](undefined);\n                            }\n                          }\n                          \n                        }), store.getItem(key)));\n      };\n      var setItem = function (key, value) {\n        return store.setItem(key, Curry._1(Data[/* encode */1], value));\n      };\n      var getKeys = function (param) {\n        return Repromise.Rejectable[/* catch */7]((function (error) {\n                      console.error(error);\n                      return Repromise.resolved(/* array */[]);\n                    }), store.keys());\n      };\n      var parseItems = function (items) {\n        return Belt_MapString.map(Belt_MapString.fromArray(Js_dict.entries(items)), Data[/* decode */0]);\n      };\n      var handleError_map = function (error) {\n        console.error(\"Couldn't load database:\", store.config().storeName);\n        console.error(error);\n        return Repromise.resolved(/* Error */Block.__(1, [Belt_MapString.empty]));\n      };\n      var getItems = function (keys) {\n        return Repromise.Rejectable[/* catch */7](handleError_map, Repromise.Rejectable[/* andThen */4]((function (items) {\n                          var exit = 0;\n                          var x;\n                          try {\n                            x = parseItems(items);\n                            exit = 1;\n                          }\n                          catch (raw_x){\n                            return Repromise.Rejectable[/* rejected */3](Caml_js_exceptions.internalToOCamlException(raw_x));\n                          }\n                          if (exit === 1) {\n                            return Repromise.Rejectable[/* resolved */2](/* Ok */Block.__(0, [x]));\n                          }\n                          \n                        }), store.getItems(keys)));\n      };\n      var getAllItems = function (param) {\n        return Repromise.Rejectable[/* catch */7](handleError_map, Repromise.Rejectable[/* andThen */4]((function (items) {\n                          var exit = 0;\n                          var x;\n                          try {\n                            x = parseItems(items);\n                            exit = 1;\n                          }\n                          catch (raw_x){\n                            return Repromise.Rejectable[/* rejected */3](Caml_js_exceptions.internalToOCamlException(raw_x));\n                          }\n                          if (exit === 1) {\n                            return Repromise.Rejectable[/* resolved */2](/* Ok */Block.__(0, [x]));\n                          }\n                          \n                        }), store.getItems()));\n      };\n      var setItems = function (items) {\n        return Repromise.Rejectable[/* catch */7]((function (error) {\n                      console.error(error);\n                      return Repromise.resolved(/* () */0);\n                    }), store.setItems(Js_dict.fromArray(Belt_MapString.toArray(Belt_MapString.map(items, Data[/* encode */1])))));\n      };\n      var removeItems = function (param) {\n        return store.removeItems(param);\n      };\n      return /* module */[\n              /* store */store,\n              /* getItem */getItem,\n              /* setItem */setItem,\n              /* getKeys */getKeys,\n              /* parseItems */parseItems,\n              /* handleError_map */handleError_map,\n              /* getItems */getItems,\n              /* getAllItems */getAllItems,\n              /* setItems */setItems,\n              /* removeItems */removeItems\n            ];\n    });\n}\n\nfunction $$Object(Data) {\n  return (function (Config) {\n      var $$default = Config[/* default */2];\n      var store = Localforage.default.createInstance({\n            name: Config[/* name */0],\n            storeName: Config[/* storeName */1]\n          });\n      var getItems = function (param) {\n        return Repromise.Rejectable[/* catch */7]((function (error) {\n                      console.error(error);\n                      return Repromise.resolved(/* Error */Block.__(1, [$$default]));\n                    }), Repromise.Rejectable[/* andThen */4]((function (items) {\n                          var exit = 0;\n                          var x;\n                          try {\n                            x = Curry._1(Data[/* decode */0], items);\n                            exit = 1;\n                          }\n                          catch (raw_x){\n                            return Repromise.Rejectable[/* rejected */3](Caml_js_exceptions.internalToOCamlException(raw_x));\n                          }\n                          if (exit === 1) {\n                            return Repromise.Rejectable[/* resolved */2](/* Ok */Block.__(0, [x]));\n                          }\n                          \n                        }), store.getItems()));\n      };\n      var setItems = function (items) {\n        return Repromise.Rejectable[/* catch */7]((function (error) {\n                      console.error(error);\n                      return Repromise.resolved(/* Error */Block.__(1, [/* () */0]));\n                    }), Repromise.Rejectable[/* map */5]((function (x) {\n                          return /* Ok */Block.__(0, [x]);\n                        }), store.setItems(Curry._1(Data[/* encode */1], items))));\n      };\n      return /* module */[\n              /* default */$$default,\n              /* store */store,\n              /* getItems */getItems,\n              /* setItems */setItems\n            ];\n    });\n}\n\nfunction loadGetItems(param) {\n  LocalforageGetitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nfunction loadSetItems(param) {\n  LocalforageSetitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nfunction loadRemoveItems(param) {\n  LocalforageRemoveitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nvar Plugins = /* module */[\n  /* loadGetItems */loadGetItems,\n  /* loadSetItems */loadSetItems,\n  /* loadRemoveItems */loadRemoveItems\n];\n\nvar LocalForage = /* module */[\n  /* clear */clear,\n  /* Map */$$Map,\n  /* Object */$$Object,\n  /* Plugins */Plugins\n];\n\nLocalforageGetitems.extendPrototype(Localforage.default);\n\nLocalforageSetitems.extendPrototype(Localforage.default);\n\nLocalforageRemoveitems.extendPrototype(Localforage.default);\n\nvar VisuallyHidden = /* module */[];\n\nvar Dialog = /* module */[];\n\nvar Tabs = /* module */[];\n\nvar TabList = /* module */[];\n\nvar Tab = /* module */[];\n\nvar TabPanels = /* module */[];\n\nvar TabPanel = /* module */[];\n\nvar ReachTabs = /* module */[\n  /* Tabs */Tabs,\n  /* TabList */TabList,\n  /* Tab */Tab,\n  /* TabPanels */TabPanels,\n  /* TabPanel */TabPanel\n];\n\nexport {\n  EloRank ,\n  $$FileReader ,\n  LocalForage ,\n  VisuallyHidden ,\n  Dialog ,\n  ReachTabs ,\n  \n}\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Repromise from \"@aantron/repromise/src/js/repromise.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\n\nvar database_name = \"Coronate\";\n\nvar $$default = Data$Coronate.Config[/* defaults */2];\n\nvar ConfigDb = Externals$Coronate.LocalForage[/* Object */2]([\n        Data$Coronate.Config[0],\n        Data$Coronate.Config[1]\n      ])(/* module */[\n      /* name */database_name,\n      /* storeName */\"Options\",\n      /* default */$$default\n    ]);\n\nvar Players = Externals$Coronate.LocalForage[/* Map */1]([\n        Data$Coronate.Player[1],\n        Data$Coronate.Player[2]\n      ])(/* module */[\n      /* name */database_name,\n      /* storeName */\"Players\"\n    ]);\n\nvar Tournaments = Externals$Coronate.LocalForage[/* Map */1](Data$Coronate.Tournament)(/* module */[\n      /* name */database_name,\n      /* storeName */\"Tournaments\"\n    ]);\n\nfunction loadDemoDB(param) {\n  ((document.body.style = \"wait\"));\n  Repromise.Rejectable[/* catch */7]((function (param) {\n          ((document.body.style = \"auto\"));\n          return Repromise.resolved(/* () */0);\n        }), Repromise.map((function (param) {\n              ((document.body.style = \"auto\"));\n              return Utils$Coronate.alert(\"Demo data loaded!\");\n            }), Repromise.all3(Curry._1(ConfigDb[/* setItems */3], DemoData$Coronate.config), Curry._1(Players[/* setItems */8], DemoData$Coronate.players), Curry._1(Tournaments[/* setItems */8], DemoData$Coronate.tournaments))));\n  return /* () */0;\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return Belt_MapString.remove(state, action[0]);\n    case 1 : \n        return Belt_MapString.set(state, action[0], action[1]);\n    case 2 : \n        return action[0];\n    \n  }\n}\n\nfunction useAllDb(getAllItems, setItems, removeItems, getKeys, param) {\n  var match = React.useReducer(genericDbReducer, Belt_MapString.empty);\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(isLoaded);\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Repromise.map((function (results) {\n                  if (didCancel[0]) {\n                    return /* () */0;\n                  } else if (results.tag) {\n                    Externals$Coronate.LocalForage[/* clear */0](/* () */0);\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  } else {\n                    Curry._1(dispatch, /* SetState */Block.__(2, [results[0]]));\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }), Curry._1(getAllItems, /* () */0));\n          return (function (param) {\n                    didCancel[0] = false;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Repromise.map((function (param) {\n                    Repromise.map((function (keys) {\n                            var stateKeys = Belt_MapString.keysToArray(items);\n                            var deleted = keys.filter((function (x) {\n                                    return !stateKeys.includes(x);\n                                  }));\n                            if (deleted.length > 0) {\n                              Curry._1(removeItems, deleted);\n                              return /* () */0;\n                            } else {\n                              return 0;\n                            }\n                          }), Curry._1(getKeys, /* () */0));\n                    return /* () */0;\n                  }), Curry._1(setItems, items));\n          }\n          return undefined;\n        }), /* tuple */[\n        items,\n        isLoaded\n      ]);\n  return /* tuple */[\n          items,\n          dispatch\n        ];\n}\n\nvar partial_arg = Players[/* getKeys */3];\n\nvar partial_arg$1 = Players[/* removeItems */9];\n\nvar partial_arg$2 = Players[/* setItems */8];\n\nvar partial_arg$3 = Players[/* getAllItems */7];\n\nfunction useAllPlayers(param) {\n  return useAllDb(partial_arg$3, partial_arg$2, partial_arg$1, partial_arg, param);\n}\n\nvar partial_arg$4 = Tournaments[/* getKeys */3];\n\nvar partial_arg$5 = Tournaments[/* removeItems */9];\n\nvar partial_arg$6 = Tournaments[/* setItems */8];\n\nvar partial_arg$7 = Tournaments[/* getAllItems */7];\n\nfunction useAllTournaments(param) {\n  return useAllDb(partial_arg$7, partial_arg$6, partial_arg$5, partial_arg$4, param);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return /* record */[\n                /* avoidPairs */Belt_Set.add(state[/* avoidPairs */0], action[0]),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 1 : \n        return /* record */[\n                /* avoidPairs */Belt_Set.remove(state[/* avoidPairs */0], action[0]),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 2 : \n        var id = action[0];\n        return /* record */[\n                /* avoidPairs */Belt_Set.reduce(state[/* avoidPairs */0], Data$Coronate.AvoidPairs[/* make */1](/* () */0), (function (acc, param) {\n                        var p2 = param[1];\n                        var p1 = param[0];\n                        if (p1 === id || p2 === id) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, /* tuple */[\n                                      p1,\n                                      p2\n                                    ]);\n                        }\n                      })),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 3 : \n        return /* record */[\n                /* avoidPairs */action[0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 4 : \n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */action[0],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 5 : \n        return action[0];\n    case 6 : \n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */action[0]\n              ];\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, ConfigDb[/* default */0]);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Repromise.map((function (values) {\n                  if (didCancel[0]) {\n                    return /* () */0;\n                  } else if (values.tag) {\n                    Externals$Coronate.LocalForage[/* clear */0](/* () */0);\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  } else {\n                    Curry._1(dispatch, /* SetState */Block.__(5, [values[0]]));\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }), Curry._1(ConfigDb[/* getItems */2], /* () */0));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Curry._1(ConfigDb[/* setItems */3], config);\n          }\n          return undefined;\n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  database_name ,\n  ConfigDb ,\n  Players ,\n  Tournaments ,\n  loadDemoDB ,\n  genericDbReducer ,\n  useAllDb ,\n  useAllPlayers ,\n  useAllTournaments ,\n  configReducer ,\n  useConfig ,\n  \n}\n/* ConfigDb Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = /* module */[];\n\nvar Alert = /* module */[];\n\nvar ArrowDown = /* module */[];\n\nvar ArrowLeft = /* module */[];\n\nvar ArrowUp = /* module */[];\n\nvar Award = /* module */[];\n\nvar Check = /* module */[];\n\nvar CheckCircle = /* module */[];\n\nvar ChevronDown = /* module */[];\n\nvar ChevronLeft = /* module */[];\n\nvar ChevronRight = /* module */[];\n\nvar ChevronUp = /* module */[];\n\nvar Circle = /* module */[];\n\nvar Download = /* module */[];\n\nvar Edit = /* module */[];\n\nvar Help = /* module */[];\n\nvar Info = /* module */[];\n\nvar Layers = /* module */[];\n\nvar List = /* module */[];\n\nvar Plus = /* module */[];\n\nvar Repeat = /* module */[];\n\nvar Settings = /* module */[];\n\nvar Sidebar = /* module */[];\n\nvar Trash = /* module */[];\n\nvar Unfullscreen = /* module */[];\n\nvar UserMinus = /* module */[];\n\nvar UserPlus = /* module */[];\n\nvar Users = /* module */[];\n\nvar X = /* module */[];\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var match = Props.height;\n    var height = match !== undefined ? match : \"24\";\n    var match$1 = Props.width;\n    var width = match$1 !== undefined ? match$1 : \"24\";\n    var match$2 = Props.className;\n    var className = match$2 !== undefined ? match$2 : \"\";\n    var match$3 = Props.style;\n    var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n    var match$4 = Props.ariaLabel;\n    var ariaLabel = match$4 !== undefined ? match$4 : IconData[/* icon */0].title + \" Icon\";\n    var match$5 = Props.ariaHidden;\n    var ariaHidden = match$5 !== undefined ? match$5 : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: ReactDOMRe.Style[/* combine */0]({\n                      fill: \"#\" + IconData[/* icon */0].hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData[/* icon */0].path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData[/* icon */0].title;\n  return /* module */[/* make */Icons$SimpleIcon];\n}\n\nvar IconData = /* module */[/* default */Reason.default];\n\nfunction Icons$SimpleIcon(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData[/* icon */0].title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style[/* combine */0]({\n                    fill: \"#\" + IconData[/* icon */0].hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData[/* icon */0].path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData[/* icon */0].title;\n\nvar Reason$1 = /* module */[/* make */Icons$SimpleIcon];\n\nvar IconData$1 = /* module */[/* default */React$1.default];\n\nfunction Icons$SimpleIcon$1(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData$1[/* icon */0].title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style[/* combine */0]({\n                    fill: \"#\" + IconData$1[/* icon */0].hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1[/* icon */0].path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1[/* icon */0].title;\n\nvar React$2 = /* module */[/* make */Icons$SimpleIcon$1];\n\nfunction Icons$Close(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = /* module */[/* make */Icons$Close];\n\nfunction Icons$Maximize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = /* module */[/* make */Icons$Maximize];\n\nfunction Icons$Minimize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = /* module */[/* make */Icons$Minimize];\n\nfunction Icons$Restore(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = /* module */[/* make */Icons$Restore];\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nvar match = window.require;\n\nvar electron_ = (match == null) ? undefined : Caml_option.nullable_to_opt(Curry._1(match, \"electron\"));\n\nfunction ifElectron(fn) {\n  if (electron_ !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron_)));\n  }\n  \n}\n\nvar currentWindow = ifElectron((function (electron) {\n        return electron.remote.getCurrentWindow();\n      }));\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  return /* () */0;\n}\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n    return /* () */0;\n  } else {\n    $$window.maximize();\n    return /* () */0;\n  }\n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (target.className.includes && target.className.includes(\"double-click-control\")) {\n            var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n            var $$window = electron.remote.getCurrentWindow();\n            switch (doubleClickAction) {\n              case \"Maximize\" : \n                  return toggleMaximize($$window);\n              case \"Minimize\" : \n                  $$window.minimize();\n                  return /* () */0;\n              default:\n                return /* () */0;\n            }\n          } else {\n            return 0;\n          }\n        }));\n  return /* () */0;\n}\n\nvar isWin = navigator.appVersion.includes(\"Windows\");\n\nvar isMac = navigator.appVersion.includes(\"Mac\");\n\nvar match$1 = ifElectron((function (param) {\n        return true;\n      }));\n\nvar isElectron = match$1 !== undefined ? match$1 : false;\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var os = Props.os;\n  var isThisTheRightOs = os ? isMac : isWin;\n  if (electron_ !== undefined && isThisTheRightOs) {\n    return Curry._1(children, Caml_option.valFromOption(electron_));\n  } else {\n    return null;\n  }\n}\n\nvar IfElectron = /* module */[/* make */Electron$IfElectron];\n\nexport {\n  electron_ ,\n  ifElectron ,\n  currentWindow ,\n  openInBrowser ,\n  toggleMaximize ,\n  macOSDoubleClick ,\n  isWin ,\n  isMac ,\n  isElectron ,\n  IfElectron ,\n  \n}\n/* match Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Webapi__Dom__Document from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Document.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  var match = title.length === 0;\n  if (match) {\n    return global_title;\n  } else {\n    return title + \" - Coronate\";\n  }\n}\n\nvar initialWinState = /* record */[\n  /* isBlur */false,\n  /* isDialogOpen */false,\n  /* isFullScreen */false,\n  /* isMaximized */false,\n  /* isSidebarOpen */true,\n  /* title */\"\"\n];\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return /* record */[\n                /* isBlur */action[0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 1 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */action[0],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 2 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */action[0],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 3 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */action[0],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 4 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */action[0],\n                /* title */state[/* title */5]\n              ];\n    case 5 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */action[0]\n              ];\n    \n  }\n}\n\nfunction initialState_001(param) {\n  return /* () */0;\n}\n\nvar initialState = /* tuple */[\n  initialWinState,\n  initialState_001\n];\n\nvar windowContext = React.createContext(initialState);\n\nfunction makeProps(value, children, param) {\n  return {\n          value: value,\n          children: children\n        };\n}\n\nvar make = windowContext.Provider;\n\nvar Provider = /* module */[\n  /* makeProps */makeProps,\n  /* make */make\n];\n\nvar Context = /* module */[\n  /* initialState */initialState,\n  /* windowContext */windowContext,\n  /* Provider */Provider\n];\n\nfunction useWindowContext(param) {\n  return React.useContext(windowContext);\n}\n\nfunction Window$About(Props) {\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets[/* logo */0],\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), React.createElement(\"p\", undefined, /* array */[\n                        \"Copyright \",\n                        Utils$Coronate.Entities[/* copy */1],\n                        \" 2019 John\",\n                        Utils$Coronate.Entities[/* nbsp */0],\n                        \"Jackson\"\n                      ].join(\"\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar About = /* module */[/* make */Window$About];\n\nvar container = Css.style(/* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.focus(/* :: */[\n                        Css.borderStyle(/* none */-922086728),\n                        /* :: */[\n                          Css.unsafe(\"boxShadow\", \"none\"),\n                          /* :: */[\n                            Css.outlineStyle(/* none */-922086728),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  /* :: */[\n                    Css.selector(\" svg\", /* :: */[\n                          Css.display(/* inline */423610969),\n                          /* [] */0\n                        ]),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Css.style(/* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Css.style(/* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* red_50 */34]),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* container */container,\n  /* button */button,\n  /* svg */svg,\n  /* close */close\n];\n\nfunction Window$MSWindowsControls(Props) {\n  var state = Props.state;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  var match = state[/* isFullScreen */2];\n  var match$1 = state[/* isMaximized */3];\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Minimize[/* make */0], {\n                      className: svg\n                    })), match ? React.createElement(\"button\", {\n                    className: Cn.make(/* :: */[\n                          button,\n                          /* :: */[\n                            \"button-ghost\",\n                            /* [] */0\n                          ]\n                        ]),\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        return /* () */0;\n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                match$1 ? React.createElement(\"button\", {\n                        className: Cn.make(/* :: */[\n                              button,\n                              /* :: */[\n                                \"button-ghost\",\n                                /* [] */0\n                              ]\n                            ]),\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Restore[/* make */0], {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: Cn.make(/* :: */[\n                              button,\n                              /* :: */[\n                                \"button-ghost\",\n                                /* [] */0\n                              ]\n                            ]),\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Maximize[/* make */0], {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* :: */[\n                            \"button-ghost\",\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Close[/* make */0], {\n                      className: svg\n                    })));\n}\n\nvar MSWindowsControls = /* module */[\n  /* Style */Style,\n  /* make */Window$MSWindowsControls\n];\n\nvar button$1 = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* [] */0\n    ]);\n\nvar Style$1 = /* module */[/* button */button$1];\n\nvar isElectronMac = Electron$Coronate.isMac && Electron$Coronate.isElectron;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var state = Props.state;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !state[/* isFullScreen */2]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron[/* make */0], {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets[/* logo */0],\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!state[/* isSidebarOpen */4]]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", state[/* isBlur */0]),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(state[/* title */5])), React.createElement(Electron$Coronate.IfElectron[/* make */0], {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  state: state,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nvar TitleBar = /* module */[\n  /* Style */Style$1,\n  /* isElectronMac */isElectronMac,\n  /* toolbarClasses */toolbarClasses,\n  /* make */Window$TitleBar\n];\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, initialWinState);\n  var dispatch = match[1];\n  var state = match[0];\n  var title = state[/* title */5];\n  React.useEffect((function () {\n          Belt_Option.map(Webapi__Dom__Document.asHtmlDocument(document), (function (x) {\n                  x.title = formatTitle(title);\n                  return /* () */0;\n                }));\n          return undefined;\n        }), /* array */[title]);\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron((function (electron) {\n                        var win = electron.remote.getCurrentWindow();\n                        var unregisterListeners = function (param) {\n                          win.removeAllListeners(\"enter-full-screen\");\n                          win.removeAllListeners(\"leave-full-screen\");\n                          win.removeAllListeners(\"blur\");\n                          win.removeAllListeners(\"focus\");\n                          win.removeAllListeners(\"maximize\");\n                          win.removeAllListeners(\"unmaximize\");\n                          return /* () */0;\n                        };\n                        unregisterListeners(/* () */0);\n                        win.on(\"enter-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                              }));\n                        win.on(\"leave-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                              }));\n                        win.on(\"maximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                              }));\n                        win.on(\"unmaximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                              }));\n                        win.on(\"blur\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                              }));\n                        win.on(\"focus\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                              }));\n                        Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                        Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                        Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                        return unregisterListeners;\n                      }));\n        }), /* array */[dispatch]);\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", state[/* isSidebarOpen */4]),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !state[/* isSidebarOpen */4]),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", state[/* isBlur */0]),\n                          /* :: */[\n                            Cn.ifTrue(\"isWindows\", Electron$Coronate.isWin),\n                            /* :: */[\n                              Cn.ifTrue(\"isMacOS\", Electron$Coronate.isMac),\n                              /* :: */[\n                                Cn.ifTrue(\"isElectron\", Electron$Coronate.isElectron),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  state: state,\n                  dispatch: dispatch\n                }), React.createElement(make, makeProps(/* tuple */[\n                      state,\n                      dispatch\n                    ], children, /* () */0)), React.createElement(Dialog.Dialog, {\n                  isOpen: state[/* isDialogOpen */1],\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/tourneys\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/players\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/options\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Info\")))));\n}\n\nvar DefaultSidebar = /* module */[/* make */Window$DefaultSidebar];\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var match = Props.sidebarFunc;\n  var sidebarFunc = match !== undefined ? match : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, /* () */0)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, /* () */0)) : null);\n}\n\nvar Body = /* module */[/* make */Window$Body];\n\nvar make$1 = $$Window;\n\nexport {\n  global_title ,\n  formatTitle ,\n  initialWinState ,\n  windowReducer ,\n  Context ,\n  useWindowContext ,\n  About ,\n  MSWindowsControls ,\n  TitleBar ,\n  make$1 as make,\n  noDraggy ,\n  DefaultSidebar ,\n  sidebarCallback ,\n  Body ,\n  \n}\n/* windowContext Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.backgroundRepeat(/* repeat */108828507),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.flexDirection(/* column */-963948842),\n            /* :: */[\n              Css.justifyContent(/* center */98248149),\n              /* :: */[\n                Css.textAlign(/* center */98248149),\n                /* :: */[\n                  Css.alignItems(/* center */98248149),\n                  /* :: */[\n                    Css.backgroundImage(/* `url */[\n                          5843823,\n                          Utils$Coronate.WebpackAssets[/* caution */1]\n                        ]),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* :: */[\n        Css.backgroundColor(Utils$Coronate.PhotonColors[/* ink_90 */70]),\n        /* :: */[\n          Css.color(Utils$Coronate.PhotonColors[/* grey_10 */44]),\n          /* :: */[\n            Css.borderRadius(/* `px */[\n                  25096,\n                  4\n                ]),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar link = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n      /* :: */[\n        Css.visited(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n              /* [] */0\n            ]),\n        /* :: */[\n          Css.active(/* :: */[\n                Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                /* [] */0\n              ]),\n          /* :: */[\n            Css.focus(/* :: */[\n                  Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                  /* [] */0\n                ]),\n            /* :: */[\n              Css.hover(/* :: */[\n                    Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                    /* [] */0\n                  ]),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar Styles = /* module */[\n  /* container */container,\n  /* text */text,\n  /* link */link\n];\n\nfunction Pages$CautionFooter(Props) {\n  return React.createElement(\"aside\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      \"body-20\",\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"p\", {\n                  className: text\n                }, \"⚠️\", \" This is beta software. Want to help make it better? Check out the \", React.createElement(\"span\", {\n                      \"aria-hidden\": true,\n                      role: \"img\"\n                    }, \" 👉 \"), Utils$Coronate.Entities[/* nbsp */0], React.createElement(\"a\", {\n                      className: link,\n                      href: Utils$Coronate.github_url,\n                      onClick: Electron$Coronate.openInBrowser\n                    }, \"Git repository\"), \".\"));\n}\n\nvar CautionFooter = /* module */[\n  /* Styles */Styles,\n  /* make */Pages$CautionFooter\n];\n\nvar container$1 = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors[/* grey_10 */44]),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Css.style(/* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Css.style(/* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Css.style(/* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors[/* ink_80 */69]),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_20 */50]),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Css.style(/* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Css.style(/* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Css.style(/* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = /* module */[\n  /* container */container$1,\n  /* hint */hint,\n  /* hintLi */hintLi,\n  /* footer */footer,\n  /* footerLink */footerLink,\n  /* title */title,\n  /* titleIcon */titleIcon,\n  /* titleText */titleText,\n  /* subtitle */subtitle\n];\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: container$1\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(/* () */0);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification[/* make */1], {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets[/* logo */0],\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities[/* copy */1] + \" 2019 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason[/* make */0], { }), \" \", React.createElement(Icons$Coronate.React[/* make */0], { })))))),\n              footerFunc: (function (param) {\n                  return React.createElement(Pages$CautionFooter, { });\n                })\n            });\n}\n\nvar Splash = /* module */[\n  /* Style */Style,\n  /* make */Pages$Splash\n];\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = /* module */[/* make */Pages$NotFound];\n\nexport {\n  CautionFooter ,\n  Splash ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nvar config_000 = /* avoidPairs */Belt_Set.fromArray(/* array */[\n      /* tuple */[\n        \"TVs_Frank____________\",\n        \"TVs_Son_of_TVs_Frank_\"\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Pearl_Forrester______\"\n      ]\n    ], Data$Coronate.AvoidPairs[/* T */0]);\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue : Full */0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Cambot_______________\",\n        /* record */[\n          /* firstName */\"Cambot\",\n          /* id */\"Cambot_______________\",\n          /* lastName */\"\",\n          /* matchCount */25,\n          /* rating */1500,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Crow_T_Robot_________\",\n        /* record */[\n          /* firstName */\"Crow T\",\n          /* id */\"Crow_T_Robot_________\",\n          /* lastName */\"Robot\",\n          /* matchCount */5,\n          /* rating */1700,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Dr_Clayton_Forrester_\",\n        /* record */[\n          /* firstName */\"Clayton\",\n          /* id */\"Dr_Clayton_Forrester_\",\n          /* lastName */\"Forrester\",\n          /* matchCount */40,\n          /* rating */2100,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Grandy_McMaster______\",\n        /* record */[\n          /* firstName */\"Grandy\",\n          /* id */\"Grandy_McMaster______\",\n          /* lastName */\"McMaster\",\n          /* matchCount */100,\n          /* rating */2600,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Gypsy________________\",\n        /* record */[\n          /* firstName */\"Gypsy\",\n          /* id */\"Gypsy________________\",\n          /* lastName */\"\",\n          /* matchCount */15,\n          /* rating */1600,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Joel_Robinson________\",\n        /* record */[\n          /* firstName */\"Joel\",\n          /* id */\"Joel_Robinson________\",\n          /* lastName */\"Robinson\",\n          /* matchCount */70,\n          /* rating */2400,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Jonah_Heston_________\",\n        /* record */[\n          /* firstName */\"Jonah\",\n          /* id */\"Jonah_Heston_________\",\n          /* lastName */\"Heston\",\n          /* matchCount */50,\n          /* rating */2200,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        /* record */[\n          /* firstName */\"Kinga\",\n          /* id */\"Kinga_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */20,\n          /* rating */1900,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Larry_Erhardt________\",\n        /* record */[\n          /* firstName */\"Larry\",\n          /* id */\"Larry_Erhardt________\",\n          /* lastName */\"Erhardt\",\n          /* matchCount */45,\n          /* rating */1300,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Mike_Nelson__________\",\n        /* record */[\n          /* firstName */\"Mike\",\n          /* id */\"Mike_Nelson__________\",\n          /* lastName */\"Nelson\",\n          /* matchCount */60,\n          /* rating */2300,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Newbie_McNewberson___\",\n        /* record */[\n          /* firstName */\"Newbie\",\n          /* id */\"Newbie_McNewberson___\",\n          /* lastName */\"McNewberson\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Observer_Brain_Guy___\",\n        /* record */[\n          /* firstName */\"Brain\",\n          /* id */\"Observer_Brain_Guy___\",\n          /* lastName */\"Guy\",\n          /* matchCount */55,\n          /* rating */1200,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        /* record */[\n          /* firstName */\"Pearl\",\n          /* id */\"Pearl_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */30,\n          /* rating */2000,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Professor_Bobo_______\",\n        /* record */[\n          /* firstName */\"Bobo\",\n          /* id */\"Professor_Bobo_______\",\n          /* lastName */\"Professor\",\n          /* matchCount */75,\n          /* rating */1000,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Frank____________\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Frank____________\",\n          /* lastName */\"Frank\",\n          /* matchCount */35,\n          /* rating */1400,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Son_of_TVs_Frank_\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Son_of_TVs_Frank_\",\n          /* lastName */\"Max\",\n          /* matchCount */65,\n          /* rating */1100,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Tom_Servo____________\",\n        /* record */[\n          /* firstName */\"Tom\",\n          /* id */\"Tom_Servo____________\",\n          /* lastName */\"Servo\",\n          /* matchCount */10,\n          /* rating */1800,\n          /* type_ : Person */0\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Bye_Round_Tourney____\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* id */\"Bye_Round_Tourney____\",\n          /* name */\"Bye Round Tourney\",\n          /* playerIds : array */[\n            \"Joel_Robinson________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\",\n            \"Cambot_______________\",\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\"\n          ],\n          /* roundList : array */[/* array */[]],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Round_Tourney_2__\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* id */\"Bye_Round_Tourney_2__\",\n          /* name */\"Bye Round Tourney 2\",\n          /* playerIds : array */[\n            \"Joel_Robinson________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\",\n            \"Cambot_______________\",\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\"\n          ],\n          /* roundList : array */[/* array */[\n              /* record */[\n                /* id */\"xTXxZHB0sTt__xIAg45fm\",\n                /* whiteId */\"Grandy_McMaster______\",\n                /* blackId */\"Crow_T_Robot_________\",\n                /* whiteNewRating */2592,\n                /* blackNewRating */1833,\n                /* whiteOrigRating */2600,\n                /* blackOrigRating */1700,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"zQcf9RWXK7iuU6ibPzrhU\",\n                /* whiteId */\"Joel_Robinson________\",\n                /* blackId */\"Gypsy________________\",\n                /* whiteNewRating */2400,\n                /* blackNewRating */1600,\n                /* whiteOrigRating */2400,\n                /* blackOrigRating */1600,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"Vw_X0c7O4vshrYEO-oSzR\",\n                /* whiteId */\"Tom_Servo____________\",\n                /* blackId */\"Cambot_______________\",\n                /* whiteNewRating */1738,\n                /* blackNewRating */1526,\n                /* whiteOrigRating */1800,\n                /* blackOrigRating */1500,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"iSDujOVkOTrcLv_KJmd7s\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */800,\n                /* blackNewRating */0,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Tourney_3________\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-17T23:00:29.603Z\"),\n          /* id */\"Bye_Tourney_3________\",\n          /* name */\"Bye Tourney 3\",\n          /* playerIds : array */[\n            \"Kinga_Forrester______\",\n            \"Newbie_McNewberson___\",\n            \"Jonah_Heston_________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KkFr4B7FDqiHRWmACgApf\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"Jonah_Heston_________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */2202,\n                /* whiteOrigRating */1900,\n                /* blackOrigRating */2200,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"R_BTsGSziwgyvFZM3yc5u\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */793,\n                /* blackNewRating */0,\n                /* whiteOrigRating */793,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"rcyCfpZU6olav5kdVac44\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"Newbie_McNewberson___\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */953,\n                /* whiteOrigRating */2202,\n                /* blackOrigRating */793,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Nc0Om5fEuwSuzFls9wmME\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1894,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"uawjKwbiA38RP8pA--tlw\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Kinga_Forrester______\",\n                /* whiteNewRating */952,\n                /* blackNewRating */1894,\n                /* whiteOrigRating */953,\n                /* blackOrigRating */1894,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"-kwIDxjPhWVRbqxtRZ26_\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */0,\n                /* whiteOrigRating */2187,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Simple_Pairing_______\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-14T11:40:34.407Z\"),\n          /* id */\"Simple_Pairing_______\",\n          /* name */\"Simple Pairing\",\n          /* playerIds : array */[\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\",\n            \"Joel_Robinson________\",\n            \"Dr_Clayton_Forrester_\",\n            \"TVs_Frank____________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KdLva8hWqYHdaU9KnFTe2\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"WDPFsNF1yADs4qofFwCY0\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"R5sXfTOJw5vrJ4IytAjSi\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"2YOsn_JJFnaUMhRBAc9KY\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1597,\n                /* blackNewRating */1728,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Pairing_With_Draws___\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-14T14:18:06.686Z\"),\n          /* id */\"Pairing_With_Draws___\",\n          /* name */\"Pairing with draws\",\n          /* playerIds : array */[\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\",\n            \"Joel_Robinson________\",\n            \"Dr_Clayton_Forrester_\",\n            \"TVs_Frank____________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"ryWXwvFGwBKQqGBbMYeps\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"2KKVbi0AfNxfJAJobTgP5\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"zdlBHBAqgV2qabn2oBa2a\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"8fGxU3tLpd8GibuSQr9-Y\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1197,\n                /* blackNewRating */1764,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* result : Draw */2\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return /* array */[\n            date.getFullYear().toString(),\n            Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n            Numeral.default(date.getDay() + 1.0).format(\"00\")\n          ].join(\"-\");\n}\n\nfunction invalidAlert(param) {\n  return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n}\n\nfunction dictToMap(dict) {\n  return Belt_MapString.fromArray(Js_dict.entries(dict));\n}\n\nfunction mapToDict(map) {\n  return Js_dict.fromArray(Belt_MapString.toArray(map));\n}\n\nfunction decodeOptions(json) {\n  var partial_arg = Data$Coronate.Player[/* decode */1];\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(partial_arg, param);\n        }), json);\n  var partial_arg$1 = Data$Coronate.Tournament[/* decode */0];\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(partial_arg$1, param);\n        }), json);\n  return /* record */[\n          /* config */Json_decode.field(\"config\", Data$Coronate.Config[/* decode */0], json),\n          /* players */Belt_MapString.fromArray(Js_dict.entries(dict)),\n          /* tournaments */Belt_MapString.fromArray(Js_dict.entries(dict$1))\n        ];\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_MapString.map(data[/* players */1], Data$Coronate.Player[/* encode */2]);\n  var map$1 = Belt_MapString.map(data[/* tournaments */2], Data$Coronate.Tournament[/* encode */1]);\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"config\",\n                Data$Coronate.Config[/* encode */1](data[/* config */0])\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"players\",\n                  Js_dict.fromArray(Belt_MapString.toArray(map))\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"tournaments\",\n                    Js_dict.fromArray(Belt_MapString.toArray(map$1))\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat[/* make */0], {\n                date: date\n              });\n  }\n}\n\nvar LastBackupDate = /* module */[/* make */PageOptions$LastBackupDate];\n\nfunction PageOptions(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var tourneysDispatch = match[1];\n  var tournaments = match[0];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return /* record */[\n                  /* config */config,\n                  /* players */players,\n                  /* tournaments */tournaments\n                ];\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          return undefined;\n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, /* SetState */Block.__(2, [tournaments]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetState */Block.__(2, [players]));\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var match = Json.parse(text);\n    if (match !== undefined) {\n      var exit = 0;\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(match));\n        exit = 1;\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn[0] === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        } else {\n          throw exn;\n        }\n      }\n      if (exit === 1) {\n        return loadData(val[/* tournaments */2], val[/* players */1], val[/* config */0]);\n      }\n      \n    } else {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var match = Json.parse(data);\n      if (match !== undefined) {\n        var exit = 0;\n        var val;\n        try {\n          val = decodeOptions(Caml_option.valFromOption(match));\n          exit = 1;\n        }\n        catch (raw_exn){\n          var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n          if (exn[0] === Json_decode.DecodeError) {\n            return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n          } else {\n            throw exn;\n          }\n        }\n        if (exit === 1) {\n          return loadData(val[/* tournaments */2], val[/* players */1], val[/* config */0]);\n        }\n        \n      } else {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    return /* () */0;\n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$5 = process.env.NODE_ENV !== \"production\";\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === /* Full */0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Full */0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"½ \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === /* Half */1,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Half */1]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config[/* lastBackup */2]\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(/* () */0) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", match$5 ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  getDateForFile ,\n  invalidAlert ,\n  dictToMap ,\n  mapToDict ,\n  decodeOptions ,\n  encodeOptions ,\n  LastBackupDate ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar sortName = /* GetString */Block.__(0, [(function (x) {\n        return x[/* firstName */0];\n      })]);\n\nvar sortRating = /* GetInt */Block.__(1, [(function (x) {\n        return x[/* rating */4];\n      })]);\n\nvar sortMatchCount = /* GetInt */Block.__(1, [(function (x) {\n        return x[/* matchCount */3];\n      })]);\n\nfunction defaultFirstName(param) {\n  return \"\";\n}\n\nfunction defaultLastName(param) {\n  return \"\";\n}\n\nfunction defaultRating(param) {\n  return 1200;\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var match = React.useState((function () {\n          return \"\";\n        }));\n  var setFirstName = match[1];\n  var firstName = match[0];\n  var match$1 = React.useState((function () {\n          return \"\";\n        }));\n  var setLastName = match$1[1];\n  var lastName = match$1[0];\n  var match$2 = React.useState((function () {\n          return 1200;\n        }));\n  var setRating = match$2[1];\n  var rating = match$2[0];\n  var handleSubmit = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(setFirstName, defaultFirstName);\n    Curry._1(setLastName, defaultLastName);\n    Curry._1(setRating, defaultRating);\n    var id = Utils$Coronate.nanoid(/* () */0);\n    return Curry._1(dispatch, /* SetItem */Block.__(1, [\n                  id,\n                  /* record */[\n                    /* firstName */firstName,\n                    /* id */id,\n                    /* lastName */lastName,\n                    /* matchCount */0,\n                    /* rating */rating,\n                    /* type_ : Person */0\n                  ]\n                ]));\n  };\n  var updateField = function ($$event) {\n    $$event.preventDefault();\n    var name = $$event.currentTarget.name;\n    var value = $$event.currentTarget.value;\n    switch (name) {\n      case \"firstName\" : \n          return Curry._1(setFirstName, (function (param) {\n                        return value;\n                      }));\n      case \"lastName\" : \n          return Curry._1(setLastName, (function (param) {\n                        return value;\n                      }));\n      case \"rating\" : \n          return Curry._1(setRating, (function (param) {\n                        return Caml_format.caml_int_of_string(value);\n                      }));\n      default:\n        return /* () */0;\n    }\n  };\n  return React.createElement(\"form\", {\n              onSubmit: handleSubmit\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: firstName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: lastName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: String(rating),\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          type: \"submit\",\n                          value: \"Add\"\n                        }))));\n}\n\nvar NewPlayerForm = /* module */[/* make */PagePlayers$NewPlayerForm];\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  var match$1 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, sorted[/* table */2].map((function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p[/* id */1],\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                                children: /* array */[\n                                                    p[/* firstName */0],\n                                                    p[/* lastName */2]\n                                                  ].join(\" \"),\n                                                to_: \"/players/\" + p[/* id */1]\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* rating */4])), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* matchCount */3])), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var $$event$1 = $$event;\n                                                    var id = p[/* id */1];\n                                                    $$event$1.preventDefault();\n                                                    var playerOpt = Belt_MapString.get(players, id);\n                                                    if (playerOpt !== undefined) {\n                                                      var player = playerOpt;\n                                                      var message = /* array */[\n                                                          \"Are you sure you want to delete \",\n                                                          player[/* firstName */0],\n                                                          \" \",\n                                                          player[/* lastName */2],\n                                                          \"?\"\n                                                        ].join(\"\");\n                                                      if (Utils$Coronate.confirm(message)) {\n                                                        Curry._1(playersDispatch, /* DelItem */Block.__(0, [id]));\n                                                        return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                      } else {\n                                                        return 0;\n                                                      }\n                                                    } else {\n                                                      return /* () */0;\n                                                    }\n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: /* array */[\n                                                        \"Delete\",\n                                                        p[/* firstName */0],\n                                                        p[/* lastName */2]\n                                                      ].join(\" \")\n                                                  }))));\n                          })))), React.createElement(Dialog.Dialog, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nvar PlayerList = /* module */[/* make */PagePlayers$PlayerList];\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var playerId = player[/* id */1];\n  var playerName = /* array */[\n      player[/* firstName */0],\n      player[/* lastName */2]\n    ].join(\" \");\n  var match = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Belt_Set.reduce(config[/* avoidPairs */0], Belt_MapString.empty, Data$Coronate.AvoidPairs[/* reduceToMap */4]);\n  var match$1 = Belt_MapString.get(avoidMap, playerId);\n  var singAvoidList = match$1 !== undefined ? match$1 : /* [] */0;\n  var unavoided = Belt_MapString.keysToArray(players).filter((function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match$2 = React.useState((function () {\n          return Belt_Array.getExn(unavoided, 0);\n        }));\n  var setSelectedAvoider = match$2[1];\n  var selectedAvoider = match$2[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [/* tuple */[\n              playerId,\n              selectedAvoider\n            ]]));\n    var match = Belt_Array.getExn(unavoided, 0) !== selectedAvoider;\n    var newSelected = match ? Belt_Array.getExn(unavoided, 0) : Belt_Array.getExn(unavoided, 1);\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return newSelected;\n                }));\n  };\n  var handleChange = function ($$event) {\n    $$event.preventDefault();\n    var target = $$event.currentTarget;\n    var firstName = target.firstName.value;\n    var lastName = target.lastName.value;\n    var matchCount = Caml_format.caml_int_of_string(target.matchCount.value);\n    var rating = Caml_format.caml_int_of_string(target.rating.value);\n    return Curry._1(playersDispatch, /* SetItem */Block.__(1, [\n                  playerId,\n                  /* record */[\n                    /* firstName */firstName,\n                    /* id */playerId,\n                    /* lastName */lastName,\n                    /* matchCount */matchCount,\n                    /* rating */rating,\n                    /* type_ */player[/* type_ */5]\n                  ]\n                ]));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                  children: null,\n                  to_: \"/players\"\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onChange: handleChange,\n                  onSubmit: handleChange\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* firstName */0],\n                          name: \"firstName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* lastName */2],\n                          name: \"lastName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* matchCount */3]),\n                          name: \"matchCount\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* rating */4]),\n                          name: \"rating\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: String(Scoring$Coronate.Ratings[/* getKFactor */0](player[/* matchCount */3]))\n                        }))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Utils$Coronate.List[/* toReactArray */1](singAvoidList, (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: pId\n                                  }, Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* firstName */0], \" \", Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* lastName */2], React.createElement(\"button\", {\n                                        \"aria-label\": /* array */[\n                                            \"Remove\",\n                                            Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* firstName */0],\n                                            Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* lastName */2],\n                                            \"from avoid list.\"\n                                          ].join(\" \"),\n                                        className: \"danger button-ghost\",\n                                        title: /* array */[\n                                            \"Remove\",\n                                            Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* firstName */0],\n                                            Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* lastName */2],\n                                            \"from avoid list.\"\n                                          ].join(\" \"),\n                                        onClick: (function (param) {\n                                            return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [/* tuple */[\n                                                            playerId,\n                                                            pId\n                                                          ]]));\n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), React.createElement(\"select\", {\n                      id: \"avoid-select\",\n                      value: selectedAvoider,\n                      onBlur: handleAvoidBlur,\n                      onChange: handleAvoidChange\n                    }, unavoided.map((function (pId) {\n                            return React.createElement(\"option\", {\n                                        key: pId,\n                                        value: pId\n                                      }, Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* firstName */0], \" \", Data$Coronate.Player[/* getPlayerMaybe */7](players, pId)[/* lastName */2]);\n                          }))), \" \", React.createElement(\"input\", {\n                      className: \"button-micro\",\n                      type: \"submit\",\n                      value: \"Add\"\n                    })));\n}\n\nvar Profile = /* module */[/* make */PagePlayers$Profile];\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match[1];\n  var players = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(players)]));\n          return undefined;\n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var match$3 = id;\n    if (match$3) {\n      if (match$3[1]) {\n        tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n      } else {\n        var match$4 = Belt_MapString.get(players, match$3[0]);\n        tmp = match$4 !== undefined ? React.createElement(PagePlayers$Profile, {\n                player: match$4,\n                players: players,\n                playersDispatch: playersDispatch,\n                config: match$2[0],\n                configDispatch: configDispatch\n              }) : React.createElement(\"div\", undefined, \"Loading...\");\n      }\n    } else {\n      tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n    }\n  } else {\n    tmp = React.createElement(PagePlayers$PlayerList, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  sortName ,\n  sortRating ,\n  sortMatchCount ,\n  defaultFirstName ,\n  defaultLastName ,\n  defaultRating ,\n  NewPlayerForm ,\n  PlayerList ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as EdmondsBlossom from \"edmonds-blossom\";\n\nfunction priority(value, condition) {\n  if (condition) {\n    return value;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction divisiblePriority(dividend, divisor) {\n  return dividend / divisor;\n}\n\nfunction avoidMeetingTwice(param) {\n  if (param) {\n    return 32.0;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction sameScores(param) {\n  return 16.0 / param;\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nfunction differentHalf(isDiffHalf) {\n  if (isDiffHalf) {\n    return halfPosition;\n  } else {\n    return sameHalfPriority;\n  }\n}\n\nfunction differentDueColor(param) {\n  if (param) {\n    return 4.0;\n  } else {\n    return 0.0;\n  }\n}\n\nvar maxPriority = Utils$Coronate.$$Array[/* sumF */2](/* array */[\n      halfPosition(1.0),\n      4.0,\n      16.0 / 1.0,\n      32.0\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1[/* id */0] === player2[/* id */0]) {\n    return 0.0;\n  } else {\n    var metBefore = Belt_List.has(player1[/* opponents */6], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var mustAvoid = Belt_List.has(player1[/* avoidIds */1], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var match = player1[/* colors */3];\n    var isDiffDueColor;\n    if (match) {\n      var match$1 = player2[/* colors */3];\n      isDiffDueColor = match$1 ? match[0] !== match$1[0] : true;\n    } else {\n      isDiffDueColor = true;\n    }\n    var scoreDiff = Math.abs(player1[/* score */8] - player2[/* score */8]) + 1.0;\n    var halfDiff = Pervasives.abs(player1[/* halfPos */4] - player2[/* halfPos */4] | 0) + 1 | 0;\n    var isDiffHalf = player1[/* isUpperHalf */5] !== player2[/* isUpperHalf */5] && player1[/* score */8] === player2[/* score */8];\n    return Utils$Coronate.$$Array[/* sumF */2](/* array */[\n                isDiffDueColor ? 4.0 : 0.0,\n                16.0 / scoreDiff,\n                (\n                    isDiffHalf ? halfPosition : sameHalfPriority\n                  )(halfDiff),\n                !metBefore && !mustAvoid ? 32.0 : 0.0\n              ]);\n  }\n}\n\nfunction descendingScore(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* score */8];\n              }), param, param$1);\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* rating */7];\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return /* tuple */[\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_MapString.valuesToArray(data);\n  return Belt_Array.reduce(dataList, Belt_MapString.empty, (function (acc, playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(dataList.filter((function (p2) {\n                                  return p2[/* score */8] === playerData[/* score */8];\n                                })), descendingRating).map((function (p) {\n                            return p[/* id */0];\n                          })));\n                var upperHalfIds = match[0];\n                var isUpperHalf = upperHalfIds.includes(playerData[/* id */0]);\n                var halfPos = isUpperHalf ? upperHalfIds.indexOf(playerData[/* id */0]) : match[1].indexOf(playerData[/* id */0]);\n                var newPlayerData_000 = /* id */playerData[/* id */0];\n                var newPlayerData_001 = /* avoidIds */playerData[/* avoidIds */1];\n                var newPlayerData_002 = /* colorScores */playerData[/* colorScores */2];\n                var newPlayerData_003 = /* colors */playerData[/* colors */3];\n                var newPlayerData_006 = /* opponents */playerData[/* opponents */6];\n                var newPlayerData_007 = /* rating */playerData[/* rating */7];\n                var newPlayerData_008 = /* score */playerData[/* score */8];\n                var newPlayerData = /* record */[\n                  newPlayerData_000,\n                  newPlayerData_001,\n                  newPlayerData_002,\n                  newPlayerData_003,\n                  /* halfPos */halfPos,\n                  /* isUpperHalf */isUpperHalf,\n                  newPlayerData_006,\n                  newPlayerData_007,\n                  newPlayerData_008\n                ];\n                return Belt_MapString.set(acc, playerData[/* id */0], newPlayerData);\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1[/* score */8], data2[/* score */8]);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1[/* rating */7], data2[/* rating */7]);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p[/* opponents */6], dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  if (Belt_MapString.size(data) % 2 === 0) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  } else {\n    var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n    var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n            return p[/* id */0];\n          }));\n    var hasntHadByeFn = function (id) {\n      return Belt_List.has(playerIdsWithoutByes, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n    };\n    var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n    var dataForNextBye;\n    if (nextByeSignups) {\n      var match = Belt_MapString.get(data, nextByeSignups[0]);\n      dataForNextBye = match !== undefined ? match : Belt_List.getExn(dataList, 0);\n    } else {\n      dataForNextBye = dataList ? dataList[0] : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), sortByScoreThenRating), 0);\n    }\n    var dataWithoutBye = Belt_MapString.remove(data, dataForNextBye[/* id */0]);\n    return /* tuple */[\n            dataWithoutBye,\n            dataForNextBye\n          ];\n  }\n}\n\nfunction assignColorsForPair(pair) {\n  var player2 = pair[1];\n  var player1 = pair[0];\n  var match = Utils$Coronate.List[/* sumF */0](player1[/* colorScores */2]) < Utils$Coronate.List[/* sumF */0](player2[/* colorScores */2]);\n  if (match) {\n    return /* tuple */[\n            player2[/* id */0],\n            player1[/* id */0]\n          ];\n  } else {\n    return /* tuple */[\n            player1[/* id */0],\n            player2[/* id */0]\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0][/* score */8] + param[1][/* score */8];\n}\n\nfunction netRating(param) {\n  return param[0][/* rating */7] + param[1][/* rating */7] | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairPlayers(pairData) {\n  var playerIdArray = Belt_MapString.keysToArray(pairData);\n  var playerArray = Belt_MapString.valuesToArray(pairData);\n  var pairIdealReducer = function (accArr, player1, index) {\n    var playerMatches = Belt_Array.sliceToEnd(playerArray, index + 1 | 0).map((function (player2) {\n            return /* tuple */[\n                    playerIdArray.indexOf(player1[/* id */0]),\n                    playerIdArray.indexOf(player2[/* id */0]),\n                    calcPairIdeal(player1, player2)\n                  ];\n          }));\n    return accArr.concat(playerMatches);\n  };\n  var blossom2Pairs = function (acc, p1Index, p2Index) {\n    if (p1Index === -1) {\n      return acc;\n    } else {\n      var p1 = Belt_MapString.getExn(pairData, Belt_Array.getExn(playerIdArray, p1Index));\n      var p2 = Belt_MapString.getExn(pairData, Belt_Array.getExn(playerIdArray, p2Index));\n      var matched = acc.map((function (param) {\n              return param[0];\n            }));\n      if (!matched.includes(p1) && !matched.includes(p2)) {\n        return acc.concat(/* array */[/* tuple */[\n                      p1,\n                      p2\n                    ]]);\n      } else {\n        return acc;\n      }\n    }\n  };\n  return EdmondsBlossom.default(playerArray.reduce(pairIdealReducer, /* array */[])).reduce(blossom2Pairs, /* array */[]).sort(sortByNetScoreThenRating).map(assignColorsForPair);\n}\n\nexport {\n  priority ,\n  divisiblePriority ,\n  avoidMeetingTwice ,\n  sameScores ,\n  halfPosition ,\n  sameHalfPriority ,\n  differentHalf ,\n  differentDueColor ,\n  maxPriority ,\n  calcPairIdeal ,\n  descendingScore ,\n  descendingRating ,\n  splitInHalf ,\n  setUpperHalves ,\n  sortByScoreThenRating ,\n  setByePlayer ,\n  assignColorsForPair ,\n  netScore ,\n  netRating ,\n  sortByNetScoreThenRating ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var players = match[0];\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [tourney[/* playerIds */4].concat(/* array */[id])]));\n    } else {\n      return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [tourney[/* playerIds */4].filter((function (pId) {\n                            return pId !== id;\n                          }))]));\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [Belt_MapString.keysToArray(players)]));\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [/* array */[]]));\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_MapString.valuesToArray(players).map((function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p[/* id */1]\n                                      }, React.createElement(\"td\", undefined, p[/* firstName */0]), React.createElement(\"td\", undefined, p[/* lastName */2]), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + p[/* id */1]\n                                                    }, /* array */[\n                                                        \"Select\",\n                                                        p[/* firstName */0],\n                                                        p[/* lastName */2]\n                                                      ].join(\" \"))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + p[/* id */1],\n                                                checked: tourney[/* playerIds */4].includes(p[/* id */1]),\n                                                type: \"checkbox\",\n                                                value: p[/* id */1],\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm[/* make */0], {\n                  dispatch: match[1]\n                }));\n}\n\nvar Selecting = /* module */[/* make */PageTourneyPlayers$Selecting];\n\nfunction hasHadBye(matchList, playerId) {\n  return matchList.filter((function (match_) {\n                    return /* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat(/* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ]);\n                }), /* array */[]).includes(Data$Coronate.Player[/* dummy_id */3]);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_MapString.valuesToArray(players).map((function (p) {\n                    return React.createElement(\"tr\", {\n                                key: p[/* id */1],\n                                className: Cn.make(/* :: */[\n                                      Curry._1(Data$Coronate.Player[/* Type */0][/* toString */0], p[/* type_ */5]),\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p[/* firstName */0]), React.createElement(\"td\", undefined, p[/* lastName */2]), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p[/* id */1]),\n                                        onClick: (function (param) {\n                                            return Curry._1(tourneyDispatch, /* SetByeQueue */Block.__(4, [byeQueue.concat(/* array */[p[/* id */1]])]));\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nvar PlayerList = /* module */[/* make */PageTourneyPlayers$PlayerList];\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var playerIds = tourney[/* playerIds */4];\n  var byeQueue = tourney[/* byeQueue */0];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var activePlayers = tournament[/* activePlayers */0];\n  var match = React.useState((function () {\n          return playerIds.length === 0;\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data$Coronate.rounds2Matches(tourney[/* roundList */5], undefined, /* () */0);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourneyDispatch: tourneyDispatch,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, byeQueue.map((function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: pId,\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, /* array */[\n                                              Belt_MapString.getExn(activePlayers, pId)[/* firstName */0],\n                                              Belt_MapString.getExn(activePlayers, pId)[/* lastName */2]\n                                            ].join(\" \"), React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(tourneyDispatch, /* SetByeQueue */Block.__(4, [byeQueue.filter((function (id) {\n                                                                          return pId !== id;\n                                                                        }))]));\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Dialog.Dialog, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          tourneyDispatch: tourneyDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  hasHadBye ,\n  PlayerList ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\n\nfunction WithRoundData(BaseComponent) {\n  var HigherOrderComponents$WithRoundData = function (Props) {\n    var roundId = Props.roundId;\n    var tournament = Props.tournament;\n    var roundList = tournament[/* tourney */7][/* roundList */5];\n    var activePlayers = tournament[/* activePlayers */0];\n    var scoreData = React.useMemo((function () {\n            return Data$Coronate.Converters[/* matches2ScoreData */1](Data$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n          }), /* array */[roundList]);\n    var match = roundId === (roundList.length - 1 | 0);\n    var unmatched = match ? Data$Coronate.getUnmatched(roundList, activePlayers, roundId) : Belt_MapString.empty;\n    var unmatchedCount = Belt_MapString.size(unmatched);\n    var match$1 = unmatchedCount % 2 !== 0;\n    var unmatchedWithDummy = match$1 ? Belt_MapString.set(unmatched, Data$Coronate.Player[/* dummy_id */3], Curry._1(tournament[/* getPlayer */1], Data$Coronate.Player[/* dummy_id */3])) : unmatched;\n    var activePlayersCount = Belt_MapString.size(activePlayers);\n    return React.createElement(BaseComponent[/* make */0], {\n                roundId: roundId,\n                tournament: tournament,\n                activePlayersCount: activePlayersCount,\n                scoreData: scoreData,\n                unmatched: unmatched,\n                unmatchedCount: unmatchedCount,\n                unmatchedWithDummy: unmatchedWithDummy\n              });\n  };\n  return /* module */[/* make */HigherOrderComponents$WithRoundData];\n}\n\nfunction WithScoreInfo(BaseComponent) {\n  var HigherOrderComponents$WithScoreInfo = function (Props) {\n    var player = Props.player;\n    var scoreData = Props.scoreData;\n    var avoidPairs = Props.avoidPairs;\n    var getPlayer = Props.getPlayer;\n    var players = Props.players;\n    var origRating = Props.origRating;\n    var newRating = Props.newRating;\n    var match = Belt_MapString.get(scoreData, player[/* id */1]);\n    var match$1 = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(player[/* id */1]);\n    var opponentResults = match$1[/* opponentResults */4];\n    var hasBye = Belt_MapString.has(opponentResults, Data$Coronate.Player[/* dummy_id */3]);\n    var x = Utils$Coronate.List[/* sumF */0](match$1[/* colorScores */0]);\n    var colorBalance = x < 0.0 ? \"White +\" + Math.abs(x).toString() : (\n        x > 0.0 ? \"Black +\" + x.toString() : \"Even\"\n      );\n    var avoidMap = Belt_Option.mapWithDefault(avoidPairs, Belt_MapString.empty, (function (x) {\n            return Belt_Set.reduce(x, Belt_MapString.empty, Data$Coronate.AvoidPairs[/* reduceToMap */4]);\n          }));\n    var match$2 = Belt_MapString.get(avoidMap, player[/* id */1]);\n    var avoidList = match$2 !== undefined ? match$2 : /* [] */0;\n    var score = Utils$Coronate.List[/* sumF */0](match$1[/* results */7]);\n    var oppResultsEntries = Belt_MapString.toArray(opponentResults);\n    var opponentResults$1 = oppResultsEntries.map((function (param) {\n            var result = param[1];\n            var opId = param[0];\n            return React.createElement(\"li\", {\n                        key: opId\n                      }, /* array */[\n                          Curry._1(getPlayer, opId)[/* firstName */0],\n                          Curry._1(getPlayer, opId)[/* lastName */2],\n                          \"-\",\n                          result !== 0.0 ? (\n                              result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                            ) : \"Lost\"\n                        ].join(\" \"));\n          }));\n    var avoidListHtml = Utils$Coronate.List[/* toReactArray */1](avoidList, (function (pId) {\n            var match = Belt_MapString.get(players, pId);\n            if (match !== undefined) {\n              return React.createElement(\"li\", {\n                          key: pId\n                        }, Curry._1(getPlayer, pId)[/* firstName */0] + (\" \" + Curry._1(getPlayer, pId)[/* lastName */2]));\n            } else {\n              return null;\n            }\n          }));\n    var rating = React.createElement(React.Fragment, undefined, origRating.toString(), newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n    return React.createElement(BaseComponent[/* make */0], {\n                hasBye: hasBye,\n                colorBalance: colorBalance,\n                player: player,\n                score: score,\n                rating: rating,\n                opponentResults: opponentResults$1,\n                avoidListHtml: avoidListHtml\n              });\n  };\n  return /* module */[/* make */HigherOrderComponents$WithScoreInfo];\n}\n\nexport {\n  WithRoundData ,\n  WithScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as HigherOrderComponents$Coronate from \"./HigherOrderComponents.bs.js\";\n\nvar sortByName = /* GetString */Block.__(0, [(function (x) {\n        return x[/* player */0][/* firstName */0];\n      })]);\n\nvar sortByIdeal = /* GetFloat */Block.__(2, [(function (x) {\n        return x[/* ideal */1];\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var stagePlayersOption_000 = (p1 == null) ? undefined : Caml_option.some(p1);\n  var stagePlayersOption_001 = (p2 == null) ? undefined : Caml_option.some(p2);\n  var stagePlayersOption = /* tuple */[\n    stagePlayersOption_000,\n    stagePlayersOption_001\n  ];\n  var initialTable = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n          return /* record */[\n                  /* player */player,\n                  /* ideal */0.0\n                ];\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = /* array */[\n      p1,\n      p2\n    ].includes(null);\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var match = stagePlayersOption_000;\n    if (match !== undefined) {\n      if (stagePlayersOption_001 !== undefined) {\n        return false;\n      } else {\n        return match !== id;\n      }\n    } else {\n      var match$1 = stagePlayersOption_001;\n      if (match$1 !== undefined) {\n        return match$1 !== id;\n      } else {\n        return true;\n      }\n    }\n  };\n  React.useEffect((function (param) {\n          var calcIdealOrNot = function (player) {\n            var match = stagePlayersOption_000;\n            var selectedId;\n            if (match !== undefined) {\n              selectedId = stagePlayersOption_001 !== undefined ? undefined : match;\n            } else {\n              var match$1 = stagePlayersOption_001;\n              selectedId = match$1 !== undefined ? match$1 : undefined;\n            }\n            if (selectedId !== undefined) {\n              var match$2 = Belt_MapString.get(pairData, selectedId);\n              if (match$2 !== undefined) {\n                if (player !== undefined) {\n                  return Pairing$Coronate.calcPairIdeal(match$2, player) / Pairing$Coronate.maxPriority;\n                } else {\n                  return 0.0;\n                }\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n                  return /* record */[\n                          /* player */player,\n                          /* ideal */calcIdealOrNot(Belt_MapString.get(pairData, player[/* id */1]))\n                        ];\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          return undefined;\n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagePlayersOption\n      ]);\n  if (Belt_MapString.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, sorted[/* table */2].map((function (param) {\n                          var player = param[/* player */0];\n                          return React.createElement(\"tr\", {\n                                      key: player[/* id */1]\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player[/* id */1]),\n                                              onClick: (function (param) {\n                                                  var id = player[/* id */1];\n                                                  var match = stagePlayersOption_000;\n                                                  if (match !== undefined) {\n                                                    if (stagePlayersOption_001 !== undefined) {\n                                                      return /* () */0;\n                                                    } else {\n                                                      var p1 = match;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            p1,\n                                                                            id\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  } else {\n                                                    var match$1 = stagePlayersOption_001;\n                                                    if (match$1 !== undefined) {\n                                                      var p2 = match$1;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            p2\n                                                                          ];\n                                                                  }));\n                                                    } else {\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            null\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  }\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: /* array */[\n                                                      \"Add\",\n                                                      player[/* firstName */0],\n                                                      player[/* lastName */2]\n                                                    ].join(\" \")\n                                                }))), React.createElement(\"td\", undefined, player[/* firstName */0] + (\" \" + player[/* lastName */2])), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param[/* ideal */1]).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nvar SelectList = /* module */[/* make */PairPicker$SelectList];\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var byeValue = Props.byeValue;\n  var stagedPlayersOption_000 = Caml_option.nullable_to_opt(stagedPlayers[0]);\n  var stagedPlayersOption_001 = Caml_option.nullable_to_opt(stagedPlayers[1]);\n  var blackOpt = stagedPlayersOption_001;\n  var whiteOpt = stagedPlayersOption_000;\n  var noneAreSelected = stagedPlayersOption_000 !== undefined ? false : stagedPlayersOption_001 === undefined;\n  var twoAreSelected = stagedPlayersOption_000 !== undefined ? stagedPlayersOption_001 !== undefined : false;\n  var whiteName;\n  if (whiteOpt !== undefined) {\n    var player = whiteOpt;\n    whiteName = Curry._1(getPlayer, player)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player)[/* lastName */2]);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (blackOpt !== undefined) {\n    var player$1 = blackOpt;\n    blackName = Curry._1(getPlayer, player$1)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player$1)[/* lastName */2]);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            null\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            null,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var match = stagedPlayersOption_000;\n    if (match !== undefined) {\n      var match$1 = stagedPlayersOption_001;\n      if (match$1 !== undefined) {\n        Curry._1(tourneyDispatch, /* ManualPair */Block.__(7, [\n                byeValue,\n                /* tuple */[\n                  Curry._1(getPlayer, match),\n                  Curry._1(getPlayer, match$1)\n                ],\n                roundId\n              ]));\n        return Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              null,\n                              null\n                            ];\n                    }));\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match = stagedPlayersOption_000;\n  var matchIdeal;\n  if (match !== undefined) {\n    var match$1 = stagedPlayersOption_001;\n    if (match$1 !== undefined) {\n      var match$2 = Belt_MapString.get(pairData, match);\n      var match$3 = Belt_MapString.get(pairData, match$1);\n      if (match$2 !== undefined && match$3 !== undefined) {\n        var ideal = Pairing$Coronate.calcPairIdeal(match$2, match$3);\n        matchIdeal = Numeral.default(ideal / Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", whiteOpt !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", blackOpt !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nvar Stage = /* module */[/* make */PairPicker$Stage];\n\nfunction PairPicker$PlayerInfo(Props) {\n  var hasBye = Props.hasBye;\n  var colorBalance = Props.colorBalance;\n  var player = Props.player;\n  var score = Props.score;\n  var rating = Props.rating;\n  var opponentResults = Props.opponentResults;\n  var avoidListHtml = Props.avoidListHtml;\n  var fullName = player[/* firstName */0] + (\" \" + player[/* lastName */2]);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", score.toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + player[/* id */1]\n                }, \"Rating: \", rating), React.createElement(\"p\", undefined, \"Color balance: \" + colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), avoidListHtml);\n}\n\nvar PlayerInfo = HigherOrderComponents$Coronate.WithScoreInfo(/* module */[/* make */PairPicker$PlayerInfo]);\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  null,\n                  null\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(/* () */0);\n  var config = match$1[0];\n  var avoidPairs = config[/* avoidPairs */0];\n  var byeValue = config[/* byeValue */1];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var activePlayers = tournament[/* activePlayers */0];\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var pairData = React.useMemo((function () {\n          return Pairing$Coronate.setUpperHalves(Data$Coronate.Converters[/* createPairingData */2](activePlayers, avoidPairs, scoreData));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function (param) {\n          if (!(p1 == null)) {\n            var match = Belt_MapString.get(unmatchedWithDummy, p1);\n            if (match === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              null,\n                              param[1]\n                            ];\n                    }));\n            }\n            \n          }\n          if (!(p2 == null)) {\n            var match$1 = Belt_MapString.get(unmatchedWithDummy, p2);\n            if (match$1 === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              null\n                            ];\n                    }));\n            }\n            \n          }\n          return undefined;\n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                width: \"720px\"\n              }\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: unmatchedCount === 0,\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* AutoPair */Block.__(6, [\n                                        config[/* byeValue */1],\n                                        roundId,\n                                        pairData,\n                                        unmatched,\n                                        tourney\n                                      ]));\n                        })\n                    }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(PairPicker$SelectList, {\n                            pairData: pairData,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            unmatched: unmatchedWithDummy\n                          })\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: null,\n                      style: {\n                        flexGrow: \"1\"\n                      }\n                    }, React.createElement(PairPicker$Stage, {\n                          getPlayer: getPlayer,\n                          pairData: pairData,\n                          roundId: roundId,\n                          stagedPlayers: stagedPlayers,\n                          setStagedPlayers: setStagedPlayers,\n                          tourneyDispatch: tourneyDispatch,\n                          byeValue: byeValue\n                        }), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                          children: /* array */[\n                              p1,\n                              p2\n                            ].map((function (id) {\n                                  if (id == null) {\n                                    return null;\n                                  } else {\n                                    return React.createElement(Utils$Coronate.Panel[/* make */0], {\n                                                children: React.createElement(PlayerInfo[/* make */0], {\n                                                      player: Curry._1(getPlayer, id),\n                                                      scoreData: scoreData,\n                                                      avoidPairs: avoidPairs,\n                                                      getPlayer: getPlayer,\n                                                      players: players,\n                                                      origRating: Curry._1(getPlayer, id)[/* rating */4],\n                                                      newRating: undefined\n                                                    }),\n                                                key: id\n                                              });\n                                  }\n                                }))\n                        }))), React.createElement(Dialog.Dialog, {\n                  isOpen: match$2[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsModalOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting[/* make */0], {\n                      tourney: tourney,\n                      tourneyDispatch: tourneyDispatch\n                    })));\n}\n\nvar make = PairPicker;\n\nexport {\n  sortByName ,\n  sortByIdeal ,\n  SelectList ,\n  Stage ,\n  PlayerInfo ,\n  make ,\n  \n}\n/* PlayerInfo Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as HigherOrderComponents$Coronate from \"./HigherOrderComponents.bs.js\";\n\nvar winnerSelect = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Css.style(/* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = /* module */[\n  /* winnerSelect */winnerSelect,\n  /* table */table,\n  /* td */td,\n  /* rowId */rowId,\n  /* controls */controls,\n  /* matchResult */matchResult,\n  /* playerResult */playerResult\n];\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var hasBye = Props.hasBye;\n  var colorBalance = Props.colorBalance;\n  var player = Props.player;\n  var score = Props.score;\n  var rating = Props.rating;\n  var opponentResults = Props.opponentResults;\n  var avoidListHtml = Props.avoidListHtml;\n  var fullName = player[/* firstName */0] + (\" \" + player[/* lastName */2]);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, score.toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(\"dd\", {\n                  \"aria-label\": \"Rating for \" + fullName\n                }, rating), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), avoidListHtml);\n}\n\nvar PlayerMatchInfo = HigherOrderComponents$Coronate.WithScoreInfo(/* module */[/* make */PageRound$PlayerMatchInfo]);\n\nfunction PageRound$MatchRow(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var pos = Props.pos;\n  var match_ = Props.match;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var match$1 = Props.className;\n  var className = match$1 !== undefined ? match$1 : \"\";\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var whitePlayer = Curry._1(getPlayer, match_[/* whiteId */1]);\n  var blackPlayer = Curry._1(getPlayer, match_[/* blackId */2]);\n  var isDummyRound = /* array */[\n      match_[/* whiteId */1],\n      match_[/* blackId */2]\n    ].includes(Data$Coronate.Player[/* dummy_id */3]);\n  var whiteName = /* array */[\n      whitePlayer[/* firstName */0],\n      whitePlayer[/* lastName */2]\n    ].join(\" \");\n  var blackName = /* array */[\n      blackPlayer[/* firstName */0],\n      blackPlayer[/* lastName */2]\n    ].join(\" \");\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Css.style(/* :: */[\n                Css.color(Utils$Coronate.PhotonColors[/* yellow_70 */31]),\n                /* [] */0\n              ])\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = match_[/* result */7];\n    switch (match) {\n      case 0 : \n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case 1 : \n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case 2 : \n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"🤝\");\n      case 3 : \n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var result = Curry._1(Data$Coronate.Match[/* Result */0][/* fromString */2], jsResultCode);\n    if (match_[/* result */7] !== result) {\n      var white = Belt_MapString.getExn(players, match_[/* whiteId */1]);\n      var black = Belt_MapString.getExn(players, match_[/* blackId */2]);\n      var newWhiteScore = Curry._2(Data$Coronate.Match[/* Result */0][/* toFloat */0], result, /* White */0);\n      var newBlackScore = Curry._2(Data$Coronate.Match[/* Result */0][/* toFloat */0], result, /* Black */1);\n      var newRatings = result >= 3 ? /* tuple */[\n          match_[/* whiteOrigRating */5],\n          match_[/* blackOrigRating */6]\n        ] : Scoring$Coronate.Ratings[/* calcNewRatings */4](/* tuple */[\n              match_[/* whiteOrigRating */5],\n              match_[/* blackOrigRating */6]\n            ], /* tuple */[\n              white[/* matchCount */3],\n              black[/* matchCount */3]\n            ], /* tuple */[\n              newWhiteScore,\n              newBlackScore\n            ]);\n      Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n              white[/* id */1],\n              newRatings[0]\n            ]));\n      Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n              black[/* id */1],\n              newRatings[1]\n            ]));\n      var match = match_[/* result */7];\n      if (match >= 3) {\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                white[/* id */1],\n                white[/* matchCount */3] + 1 | 0\n              ]));\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                black[/* id */1],\n                black[/* matchCount */3] + 1 | 0\n              ]));\n      } else if (result === /* NotSet */3) {\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                white[/* id */1],\n                white[/* matchCount */3] - 1 | 0\n              ]));\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                black[/* id */1],\n                black[/* matchCount */3] - 1 | 0\n              ]));\n      }\n      return Curry._1(tourneyDispatch, /* SetMatchResult */Block.__(9, [\n                    match_[/* id */0],\n                    newRatings,\n                    result,\n                    roundId\n                  ]));\n    } else {\n      return 0;\n    }\n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact) {\n    tmp = null;\n  } else {\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Dialog.Dialog, {\n            isOpen: match$2[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tournament[/* tourney */7][/* name */3]), React.createElement(\"p\", undefined, /* array */[\n                  \"Round \",\n                  (roundId + 1 | 0).toString(),\n                  \" match \",\n                  (pos + 1 | 0).toString()\n                ].join(\" \")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                    children: React.createElement(PlayerMatchInfo[/* make */0], {\n                          player: Curry._1(getPlayer, match_[/* whiteId */1]),\n                          scoreData: scoreData$1,\n                          getPlayer: getPlayer,\n                          players: players,\n                          origRating: match_[/* whiteOrigRating */5],\n                          newRating: match_[/* whiteNewRating */3]\n                        })\n                  }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                    children: React.createElement(PlayerMatchInfo[/* make */0], {\n                          player: Curry._1(getPlayer, match_[/* blackId */2]),\n                          scoreData: scoreData$1,\n                          getPlayer: getPlayer,\n                          players: players,\n                          origRating: match_[/* blackOrigRating */6],\n                          newRating: match_[/* blackNewRating */4]\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, Belt_Option.mapWithDefault(selectedMatch, null, (function (x) {\n                var match = Belt_Option.mapWithDefault((x == null) ? undefined : Caml_option.some(x), true, (function (id) {\n                        return id !== match_[/* id */0];\n                      }));\n                if (match) {\n                  return React.createElement(\"button\", {\n                              className: \"button-ghost\",\n                              title: \"Edit match\",\n                              onClick: (function (param) {\n                                  return Belt_Option.mapWithDefault(setSelectedMatch, /* () */0, (function (x) {\n                                                return Curry._1(x, (function (param) {\n                                                              return match_[/* id */0];\n                                                            }));\n                                              }));\n                                })\n                            }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                                  children: /* array */[\n                                      \"Edit match for\",\n                                      whiteName,\n                                      \"versus\",\n                                      blackName\n                                    ].join(\" \")\n                                }));\n                } else {\n                  return React.createElement(\"button\", {\n                              className: \"button-ghost button-pressed\",\n                              title: \"End editing match\",\n                              onClick: (function (param) {\n                                  return Belt_Option.mapWithDefault(setSelectedMatch, /* () */0, (function (x) {\n                                                return Curry._1(x, (function (param) {\n                                                              return null;\n                                                            }));\n                                              }));\n                                })\n                            }, React.createElement(ReactFeather.CheckCircle, { }));\n                }\n              })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: /* array */[\n                      \"View information for match:\",\n                      whiteName,\n                      \"versus\",\n                      blackName\n                    ].join(\" \")\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (x) {\n                              return Belt_Option.mapWithDefault((x == null) ? undefined : Caml_option.some(x), \"\", (function (id) {\n                                            var match = match_[/* id */0] === id;\n                                            if (match) {\n                                              return \"selected\";\n                                            } else {\n                                              return \"buttons-on-hover\";\n                                            }\n                                          }));\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Curry._1(Data$Coronate.Player[/* Type */0][/* toString */0], whitePlayer[/* type_ */5]),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-white\")\n                }, whiteName), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Curry._1(Data$Coronate.Player[/* Type */0][/* toString */0], blackPlayer[/* type_ */5]),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-black\")\n                }, blackName), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Curry._1(Data$Coronate.Match[/* Result */0][/* toString */1], match_[/* result */7]),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Curry._1(Data$Coronate.Match[/* Result */0][/* toString */1], /* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Curry._1(Data$Coronate.Match[/* Result */0][/* toString */1], /* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Curry._1(Data$Coronate.Match[/* Result */0][/* toString */1], /* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Curry._1(Data$Coronate.Match[/* Result */0][/* toString */1], /* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nvar MatchRow = /* module */[/* make */PageRound$MatchRow];\n\nfunction PageRound$RoundTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament[/* tourney */7];\n  var matchList = tourney[/* roundList */5][roundId];\n  var match$1 = matchList.length === 0;\n  return React.createElement(\"table\", {\n              className: table\n            }, match$1 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString()), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, matchList.map((function (match_, pos) {\n                        return React.createElement(PageRound$MatchRow, {\n                                    isCompact: isCompact,\n                                    pos: pos,\n                                    match: match_,\n                                    roundId: roundId,\n                                    selectedMatch: selectedMatch,\n                                    setSelectedMatch: setSelectedMatch,\n                                    scoreData: scoreData,\n                                    tournament: tournament,\n                                    className: td,\n                                    key: match_[/* id */0]\n                                  });\n                      }))));\n}\n\nvar RoundTable = /* module */[/* make */PageRound$RoundTable];\n\nfunction findById(id, list) {\n  return list.filter((function (x) {\n                  return x[/* id */0] === id;\n                }))[0];\n}\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament[/* tourney */7];\n  var players = tournament[/* players */4];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var matchList = Belt_Array.get(tourney[/* roundList */5], roundId);\n  var match = React.useState((function () {\n          return null;\n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, matchList) {\n    var oldIndex = matchList.indexOf(findById(matchId, matchList));\n    var match = (oldIndex + direction | 0) >= 0;\n    var newIndex = match ? oldIndex + direction | 0 : 0;\n    return Curry._1(tourneyDispatch, /* MoveMatch */Block.__(12, [\n                  oldIndex,\n                  newIndex,\n                  roundId\n                ]));\n  };\n  if (matchList !== undefined) {\n    var matchList$1 = matchList;\n    var match$1 = matchList$1.length === 0;\n    return React.createElement(\"div\", {\n                className: \"content-area\"\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    var matchId = x;\n                                    var matchList$2 = matchList$1;\n                                    var match_ = findById(matchId, matchList$2);\n                                    if (match_[/* result */7] !== /* NotSet */3) {\n                                      /* array */[\n                                          /* tuple */[\n                                            match_[/* whiteId */1],\n                                            match_[/* whiteOrigRating */5]\n                                          ],\n                                          /* tuple */[\n                                            match_[/* blackId */2],\n                                            match_[/* blackOrigRating */6]\n                                          ]\n                                        ].forEach((function (param) {\n                                              var id = param[0];\n                                              var match = Belt_MapString.get(players, id);\n                                              if (match !== undefined) {\n                                                Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                                                        id,\n                                                        match[/* matchCount */3] - 1 | 0\n                                                      ]));\n                                                return Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n                                                              id,\n                                                              param[1]\n                                                            ]));\n                                              } else {\n                                                return /* () */0;\n                                              }\n                                            }));\n                                    }\n                                    Curry._1(tourneyDispatch, /* DelMatch */Block.__(10, [\n                                            matchId,\n                                            roundId\n                                          ]));\n                                    return Curry._1(setSelectedMatch, (function (param) {\n                                                  return null;\n                                                }));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return Curry._1(tourneyDispatch, /* SwapColors */Block.__(11, [\n                                                  x,\n                                                  roundId\n                                                ]));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return moveMatch(x, -1, matchList$1);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return moveMatch(x, 1, matchList$1);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), match$1 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, {\n                    roundId: roundId,\n                    selectedMatch: selectedMatch,\n                    setSelectedMatch: setSelectedMatch,\n                    tournament: tournament,\n                    scoreData: scoreData\n                  }));\n  } else {\n    return React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n  }\n}\n\nvar Round = /* module */[/* make */PageRound$Round];\n\nfunction PageRound$PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var activePlayersCount = Props.activePlayersCount;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = unmatchedCount === activePlayersCount;\n  var initialTab = match ? 1 : 0;\n  var match$1 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$1[1];\n  React.useEffect((function (param) {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          return undefined;\n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  var match$2 = unmatchedCount !== 0;\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), /* array */[\n                        \" Unmatched players (\",\n                        unmatchedCount.toString(),\n                        \")\"\n                      ].join(\"\"))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, match$2 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar PageRound = HigherOrderComponents$Coronate.WithRoundData(/* module */[/* make */PageRound$PageRound]);\n\nfunction PageRound$1(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  return React.createElement(PageRound[/* make */0], {\n              roundId: roundId,\n              tournament: tournament\n            });\n}\n\nvar make = PageRound$1;\n\nexport {\n  Style ,\n  PlayerMatchInfo ,\n  MatchRow ,\n  RoundTable ,\n  findById ,\n  Round ,\n  PageRound ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\n\nfunction scoreByeMatch(byeValue, match_) {\n  var match = Data$Coronate.Player[/* isDummyId */4](match_[/* whiteId */1]);\n  var match$1 = Data$Coronate.Player[/* isDummyId */4](match_[/* blackId */2]);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return /* record */[\n              /* id */match_[/* id */0],\n              /* whiteId */match_[/* whiteId */1],\n              /* blackId */match_[/* blackId */2],\n              /* whiteNewRating */match_[/* whiteNewRating */3],\n              /* blackNewRating */match_[/* blackNewRating */4],\n              /* whiteOrigRating */match_[/* whiteOrigRating */5],\n              /* blackOrigRating */match_[/* blackOrigRating */6],\n              /* result */Data$Coronate.ByeValue[/* resultForPlayerColor */4](byeValue, /* Black */1)\n            ];\n    }\n  } else if (match$1) {\n    return /* record */[\n            /* id */match_[/* id */0],\n            /* whiteId */match_[/* whiteId */1],\n            /* blackId */match_[/* blackId */2],\n            /* whiteNewRating */match_[/* whiteNewRating */3],\n            /* blackNewRating */match_[/* blackNewRating */4],\n            /* whiteOrigRating */match_[/* whiteOrigRating */5],\n            /* blackOrigRating */match_[/* blackOrigRating */6],\n            /* result */Data$Coronate.ByeValue[/* resultForPlayerColor */4](byeValue, /* White */0)\n          ];\n  } else {\n    return match_;\n  }\n}\n\nfunction autoPair(pairData, byeValue, playerMap, tourney) {\n  var filteredData = Belt_MapString.reduce(pairData, Belt_MapString.empty, (function (acc, key, datum) {\n          if (Belt_MapString.has(playerMap, key)) {\n            return Belt_MapString.set(acc, key, datum);\n          } else {\n            return acc;\n          }\n        }));\n  var match = Pairing$Coronate.setByePlayer(tourney[/* byeQueue */0], Data$Coronate.Player[/* dummy_id */3], filteredData);\n  var byePlayerData = match[1];\n  var pairs = Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? pairs.concat(/* array */[/* tuple */[\n            byePlayerData[/* id */0],\n            Data$Coronate.Player[/* dummy_id */3]\n          ]]) : pairs;\n  var partial_arg = Data$Coronate.Player[/* getPlayerMaybe */7];\n  var getPlayer = function (param) {\n    return partial_arg(playerMap, param);\n  };\n  var newMatchList = pairsWithBye.map((function (param) {\n          var blackId = param[1];\n          var whiteId = param[0];\n          return /* record */[\n                  /* id */Utils$Coronate.nanoid(/* () */0),\n                  /* whiteId */whiteId,\n                  /* blackId */blackId,\n                  /* whiteNewRating */Curry._1(getPlayer, whiteId)[/* rating */4],\n                  /* blackNewRating */Curry._1(getPlayer, blackId)[/* rating */4],\n                  /* whiteOrigRating */Curry._1(getPlayer, whiteId)[/* rating */4],\n                  /* blackOrigRating */Curry._1(getPlayer, blackId)[/* rating */4],\n                  /* result : NotSet */3\n                ];\n        }));\n  return newMatchList.map((function (param) {\n                return scoreByeMatch(byeValue, param);\n              }));\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch(byeValue, /* record */[\n              /* id */Utils$Coronate.nanoid(/* () */0),\n              /* whiteId */white[/* id */1],\n              /* blackId */black[/* id */1],\n              /* whiteNewRating */white[/* rating */4],\n              /* blackNewRating */black[/* rating */4],\n              /* whiteOrigRating */white[/* rating */4],\n              /* blackOrigRating */black[/* rating */4],\n              /* result : NotSet */3\n            ]);\n}\n\nfunction tournamentReducer(state, action) {\n  if (typeof action === \"number\") {\n    if (action === 0) {\n      return /* record */[\n              /* byeQueue */state[/* byeQueue */0],\n              /* date */state[/* date */1],\n              /* id */state[/* id */2],\n              /* name */state[/* name */3],\n              /* playerIds */state[/* playerIds */4],\n              /* roundList */state[/* roundList */5].concat(/* array */[/* array */[]]),\n              /* tieBreaks */state[/* tieBreaks */6]\n            ];\n    } else {\n      return /* record */[\n              /* byeQueue */state[/* byeQueue */0],\n              /* date */state[/* date */1],\n              /* id */state[/* id */2],\n              /* name */state[/* name */3],\n              /* playerIds */state[/* playerIds */4],\n              /* roundList */state[/* roundList */5].slice(0, -1),\n              /* tieBreaks */state[/* tieBreaks */6]\n            ];\n    }\n  } else {\n    switch (action.tag | 0) {\n      case 0 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6].concat(/* array */[action[0]])\n                ];\n      case 1 : \n          var idToDel = action[0];\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6].filter((function (tbId) {\n                          return idToDel !== tbId;\n                        }))\n                ];\n      case 2 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */Utils$Coronate.$$Array[/* swap */3](state[/* tieBreaks */6], action[0], action[1])\n                ];\n      case 3 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */action[0],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 4 : \n          return /* record */[\n                  /* byeQueue */action[0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 5 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */action[0],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 6 : \n          var roundId = action[1];\n          var roundList = state[/* roundList */5].slice();\n          roundList[roundId] = roundList[roundId].concat(autoPair(action[2], action[0], action[3], action[4]));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 7 : \n          var roundId$1 = action[2];\n          var match = action[1];\n          var roundList$1 = state[/* roundList */5].slice();\n          roundList$1[roundId$1] = roundList$1[roundId$1].concat(/* array */[manualPair(/* tuple */[\n                      match[0],\n                      match[1]\n                    ], action[0])]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$1,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 8 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */action[0],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 9 : \n          var roundId$2 = action[3];\n          var match$1 = action[1];\n          var matchId = action[0];\n          var roundList$2 = state[/* roundList */5].slice();\n          roundList$2[roundId$2] = roundList$2[roundId$2].slice();\n          var matchIndex = roundList$2[roundId$2].findIndex((function (match_) {\n                  return match_[/* id */0] === matchId;\n                }));\n          var match_ = Belt_Array.getExn(Belt_Array.getExn(roundList$2, roundId$2), matchIndex);\n          Belt_Array.set(Belt_Array.getExn(roundList$2, roundId$2), matchIndex, /* record */[\n                /* id */match_[/* id */0],\n                /* whiteId */match_[/* whiteId */1],\n                /* blackId */match_[/* blackId */2],\n                /* whiteNewRating */match$1[0],\n                /* blackNewRating */match$1[1],\n                /* whiteOrigRating */match_[/* whiteOrigRating */5],\n                /* blackOrigRating */match_[/* blackOrigRating */6],\n                /* result */action[2]\n              ]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$2,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 10 : \n          var roundId$3 = action[1];\n          var matchId$1 = action[0];\n          var roundList$3 = state[/* roundList */5].slice();\n          Belt_Array.set(roundList$3, roundId$3, Belt_Array.getExn(roundList$3, roundId$3).filter((function (match_) {\n                      return match_[/* id */0] !== matchId$1;\n                    })));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$3,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 11 : \n          var roundId$4 = action[1];\n          var matchId$2 = action[0];\n          var roundList$4 = state[/* roundList */5].slice();\n          roundList$4[roundId$4] = roundList$4[roundId$4].slice();\n          var matchIndex$1 = roundList$4[roundId$4].findIndex((function (match_) {\n                  return match_[/* id */0] === matchId$2;\n                }));\n          var oldMatch = roundList$4[roundId$4][matchIndex$1];\n          var match$2 = oldMatch[/* result */7];\n          var result;\n          switch (match$2) {\n            case 0 : \n                result = /* BlackWon */1;\n                break;\n            case 1 : \n                result = /* WhiteWon */0;\n                break;\n            case 2 : \n                result = /* Draw */2;\n                break;\n            case 3 : \n                result = /* NotSet */3;\n                break;\n            \n          }\n          Belt_Array.set(Belt_Array.getExn(roundList$4, roundId$4), matchIndex$1, /* record */[\n                /* id */oldMatch[/* id */0],\n                /* whiteId */oldMatch[/* blackId */2],\n                /* blackId */oldMatch[/* whiteId */1],\n                /* whiteNewRating */oldMatch[/* blackNewRating */4],\n                /* blackNewRating */oldMatch[/* whiteNewRating */3],\n                /* whiteOrigRating */oldMatch[/* blackOrigRating */6],\n                /* blackOrigRating */oldMatch[/* whiteOrigRating */5],\n                /* result */result\n              ]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$4,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 12 : \n          var roundId$5 = action[2];\n          var roundList$5 = state[/* roundList */5].slice();\n          Belt_Array.set(roundList$5, roundId$5, Utils$Coronate.$$Array[/* swap */3](Belt_Array.getExn(roundList$5, roundId$5), action[0], action[1]));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$5,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 13 : \n          var newValue = action[0];\n          var roundList$6 = state[/* roundList */5].map((function (round) {\n                  return round.map((function (match_) {\n                                return scoreByeMatch(newValue, match_);\n                              }));\n                }));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$6,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 14 : \n          return action[0];\n      \n    }\n  }\n}\n\nfunction playersReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        var player = action[0];\n        return Belt_MapString.set(state, player[/* id */1], player);\n    case 1 : \n        return Belt_MapString.remove(state, action[0]);\n    case 2 : \n        var id = action[0];\n        var player$1 = Belt_MapString.getExn(state, id);\n        return Belt_MapString.set(state, id, /* record */[\n                    /* firstName */player$1[/* firstName */0],\n                    /* id */player$1[/* id */1],\n                    /* lastName */player$1[/* lastName */2],\n                    /* matchCount */action[1],\n                    /* rating */player$1[/* rating */4],\n                    /* type_ */player$1[/* type_ */5]\n                  ]);\n    case 3 : \n        var id$1 = action[0];\n        var player$2 = Belt_MapString.getExn(state, id$1);\n        return Belt_MapString.set(state, id$1, /* record */[\n                    /* firstName */player$2[/* firstName */0],\n                    /* id */player$2[/* id */1],\n                    /* lastName */player$2[/* lastName */2],\n                    /* matchCount */player$2[/* matchCount */3],\n                    /* rating */action[1],\n                    /* type_ */player$2[/* type_ */5]\n                  ]);\n    case 4 : \n        return action[0];\n    \n  }\n}\n\nexport {\n  scoreByeMatch ,\n  autoPair ,\n  manualPair ,\n  tournamentReducer ,\n  playersReducer ,\n  \n}\n/* Data-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Repromise from \"@aantron/repromise/src/js/repromise.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SetString from \"bs-platform/lib/es6/belt_SetString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as TournamentDataReducers$Coronate from \"./TournamentDataReducers.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction getAllPlayerIdsFromMatches(matchList) {\n  return matchList.reduce((function (acc, match_) {\n                return acc.concat(/* array */[\n                            match_[/* whiteId */1],\n                            match_[/* blackId */2]\n                          ]);\n              }), /* array */[]);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  var match = roundCount !== Number.NEGATIVE_INFINITY;\n  if (match) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_000 = /* byeQueue : array */[];\n\nvar emptyTourney_001 = /* date */new Date(0.0);\n\nvar emptyTourney_002 = /* id */Utils$Coronate.nanoid(/* () */0);\n\nvar emptyTourney_004 = /* playerIds : array */[];\n\nvar emptyTourney_005 = /* roundList : array */[];\n\nvar emptyTourney_006 = /* tieBreaks : array */[1];\n\nvar emptyTourney = /* record */[\n  emptyTourney_000,\n  emptyTourney_001,\n  emptyTourney_002,\n  /* name */\"\",\n  emptyTourney_004,\n  emptyTourney_005,\n  emptyTourney_006\n];\n\nfunction isLoadedDone(status) {\n  return status >= 2;\n}\n\nfunction TournamentData(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var match = React.useReducer(TournamentDataReducers$Coronate.tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney[/* roundList */5];\n  var playerIds = tourney[/* playerIds */4];\n  var name = tourney[/* name */3];\n  var tourneyDispatch = match[1];\n  var match$1 = React.useReducer(TournamentDataReducers$Coronate.playersReducer, Belt_MapString.empty);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return /* NothingIsLoaded */0;\n        }));\n  var setLoadStatus = match$2[1];\n  var loadStatus = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(loadStatus >= 2);\n  var match$3 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Repromise.map((function (value) {\n                  if (value !== undefined) {\n                    if (didCancel[0]) {\n                      return /* () */0;\n                    } else {\n                      Curry._1(tourneyDispatch, /* SetTournament */Block.__(14, [value]));\n                      return Curry._1(setLoadStatus, (function (param) {\n                                    return /* TourneyIsLoaded */1;\n                                  }));\n                    }\n                  } else {\n                    return Curry._1(setLoadStatus, (function (param) {\n                                  return /* Error */3;\n                                }));\n                  }\n                }), Curry._1(Db$Coronate.Tournaments[/* getItem */1], tourneyId));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), /* array */[tourneyId]);\n  React.useEffect((function (param) {\n          var didCancel = /* record */[/* contents */false];\n          if (loadStatus !== 0) {\n            var allTheIds = getAllPlayerIdsFromMatches(Data$Coronate.rounds2Matches(roundList, undefined, /* () */0)).concat(playerIds);\n            if (allTheIds.length === 0) {\n              if (Belt_MapString.size(players) !== 0) {\n                Curry._1(playersDispatch, /* SetPlayers */Block.__(4, [players]));\n              }\n              Curry._1(setLoadStatus, (function (param) {\n                      return /* TourneyAndPlayersAreLoaded */2;\n                    }));\n            } else {\n              Repromise.map((function (values) {\n                      if (values.tag) {\n                        return Curry._1(setLoadStatus, (function (param) {\n                                      return /* Error */3;\n                                    }));\n                      } else if (didCancel[0]) {\n                        return /* () */0;\n                      } else {\n                        var values$1 = values[0];\n                        var newIds = Belt_SetString.fromArray(Belt_MapString.keysToArray(values$1));\n                        var oldIds = Belt_SetString.fromArray(Belt_MapString.keysToArray(players));\n                        var changedPlayers = Belt_SetString.size(Belt_SetString.union(Belt_SetString.diff(newIds, oldIds), Belt_SetString.diff(newIds, oldIds)));\n                        if (changedPlayers !== 0) {\n                          Curry._1(playersDispatch, /* SetPlayers */Block.__(4, [values$1]));\n                          return Curry._1(setLoadStatus, (function (param) {\n                                        return /* TourneyAndPlayersAreLoaded */2;\n                                      }));\n                        } else {\n                          return 0;\n                        }\n                      }\n                    }), Curry._1(Db$Coronate.Players[/* getItems */6], allTheIds));\n            }\n          }\n          return (function (param) {\n                    didCancel[0] = false;\n                    return /* () */0;\n                  });\n        }), /* tuple */[\n        roundList,\n        players,\n        playerIds,\n        loadStatus\n      ]);\n  React.useEffect((function (param) {\n          if (loadStatus === 2 || loadStatus === 1) {\n            Curry._2(Db$Coronate.Tournaments[/* setItem */2], tourneyId, tourney);\n          }\n          return undefined;\n        }), /* tuple */[\n        loadStatus,\n        tourneyId,\n        tourney\n      ]);\n  React.useEffect((function () {\n          if (loadStatus === 2) {\n            Curry._1(Db$Coronate.Players[/* setItems */8], players);\n          }\n          return undefined;\n        }), /* tuple */[\n        loadStatus,\n        players\n      ]);\n  var partial_arg = Data$Coronate.Player[/* getPlayerMaybe */7];\n  var getPlayer = function (param) {\n    return partial_arg(players, param);\n  };\n  var activePlayers = Belt_MapString.reduce(players, Belt_MapString.empty, (function (acc, key, player) {\n          if (tourney[/* playerIds */4].includes(key)) {\n            return Belt_MapString.set(acc, key, player);\n          } else {\n            return acc;\n          }\n        }));\n  var roundCount = calcNumOfRounds(Belt_MapString.size(activePlayers));\n  var isItOver = roundList.length >= roundCount;\n  var match$4 = roundList.length === 0;\n  var isNewRoundReady = match$4 ? true : Data$Coronate.isRoundComplete(roundList, activePlayers, roundList.length - 1 | 0);\n  if (loadStatus !== 2) {\n    if (loadStatus >= 3) {\n      debugger;\n      return React.createElement(Window$Coronate.Body[/* make */0], {\n                  children: \"Error: tournament couldn't be loaded.\"\n                });\n    } else {\n      return React.createElement(Window$Coronate.Body[/* make */0], {\n                  children: \"Loading...\"\n                });\n    }\n  } else {\n    return Curry._1(children, /* record */[\n                /* activePlayers */activePlayers,\n                /* getPlayer */getPlayer,\n                /* isItOver */isItOver,\n                /* isNewRoundReady */isNewRoundReady,\n                /* players */players,\n                /* playersDispatch */playersDispatch,\n                /* roundCount */roundCount,\n                /* tourney */tourney,\n                /* tourneyDispatch */tourneyDispatch\n              ]);\n  }\n}\n\nvar LocalForage = 0;\n\nvar make = TournamentData;\n\nexport {\n  LocalForage ,\n  log2 ,\n  getAllPlayerIdsFromMatches ,\n  calcNumOfRounds ,\n  emptyTourney ,\n  isLoadedDone ,\n  make ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var match = rawMonth < 9.0;\n  var month = match ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var match$1 = rawDate < 10.0;\n  var day = match$1 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return /* array */[\n            year,\n            month,\n            day\n          ].join(\"-\");\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Caml_option.nullable_to_opt(myref.current), (function (x) {\n            x.focus();\n            return /* () */0;\n          }));\n    return /* () */0;\n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case 0 : \n                focusRef(nameInput);\n                break;\n            case 1 : \n                focusRef(dateInput);\n                break;\n            case 2 : \n                break;\n            \n          }\n          return undefined;\n        }), /* array */[editing]);\n  var changeToOne = function (param) {\n    Curry._1(tourneyDispatch, /* UpdateByeScores */Block.__(13, [/* Full */0]));\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(tourneyDispatch, /* UpdateByeScores */Block.__(13, [/* Half */1]));\n    return Utils$Coronate.alert(\"Bye scores updated to ½.\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = rawDate.split(\"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(tourneyDispatch, /* SetDate */Block.__(8, [new Date(year$1, month$1, date)]));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, tourney[/* name */3]), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: tourney[/* name */3],\n                        onChange: (function ($$event) {\n                            return Curry._1(tourneyDispatch, /* SetName */Block.__(5, [$$event.currentTarget.value]));\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat[/* make */0], {\n                        date: tourney[/* date */1]\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(tourney[/* date */1]),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to ½\"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                      children: \"app options\",\n                      to_: \"/options\"\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  makeDateInput ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar table = Css.style(/* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Css.style(/* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Css.style(/* [] */0);\n\nvar row = Css.style(/* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* white_100 */71]),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors[/* grey_20 */50]),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Css.style(/* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Css.style(/* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* white_100 */71]),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Css.style(/* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Css.style(/* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* table */table,\n  /* topHeader */topHeader,\n  /* compact */compact,\n  /* row */row,\n  /* rowTd */rowTd,\n  /* rowTh */rowTh,\n  /* playerName */playerName,\n  /* rank */rank,\n  /* number */number\n];\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var tieBreaks = tourney[/* tieBreaks */6];\n  var roundList = tourney[/* roundList */5];\n  var tieBreakNames = Scoring$Coronate.getTieBreakNames(tieBreaks);\n  var standingTree = Scoring$Coronate.createStandingTree(Scoring$Coronate.createStandingList(tieBreaks, Data$Coronate.Converters[/* matches2ScoreData */1](Data$Coronate.rounds2Matches(roundList, undefined, /* () */0))).filter((function (standing) {\n              return !Data$Coronate.Player[/* isDummyId */4](standing[/* id */0]);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : tieBreakNames.map((function (name, i) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, standingTree.map((function (standingsFlat, rank$1) {\n                        return standingsFlat.map((function (standing, i) {\n                                      var match = i === 0;\n                                      return React.createElement(\"tr\", {\n                                                  key: standing[/* id */0],\n                                                  className: row\n                                                }, match ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: standingsFlat.length,\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing[/* score */1]).format(\"1/2\")), isCompact ? null : standing[/* tieBreaks */2].map((function (score, j) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: String(j),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(score).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = /* module */[/* make */PageTourneyScores$ScoreTable];\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var tieBreaks = tourney[/* tieBreaks */6];\n  var match = React.useState((function () {\n          return undefined;\n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return 1;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(tourneyDispatch, /* DelTieBreak */Block.__(1, [defaultId(id)]));\n      return Curry._1(setSelectedTb, (function (param) {\n                    return undefined;\n                  }));\n    } else {\n      return Curry._1(tourneyDispatch, /* AddTieBreak */Block.__(0, [defaultId(id)]));\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb !== undefined) {\n      var index = tieBreaks.indexOf(selectedTb);\n      return Curry._1(tourneyDispatch, /* MoveTieBreak */Block.__(2, [\n                    index,\n                    index + direction | 0\n                  ]));\n    } else {\n      return /* () */0;\n    }\n  };\n  return React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            return undefined;\n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, tieBreaks.map((function (id) {\n                                var tmp;\n                                if (selectedTb !== undefined) {\n                                  var match = selectedTb === id;\n                                  tmp = match ? \"Done\" : \"Edit\";\n                                } else {\n                                  tmp = \"Edit\";\n                                }\n                                return React.createElement(\"tr\", {\n                                            key: String(id),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === id),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Belt_Array.getExn(Scoring$Coronate.tieBreakMethods, id)[/* name */2]), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== id,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          var match = selectedTb === id;\n                                                          if (match) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return undefined;\n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return id;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return id;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, tmp)));\n                              }))))), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities[/* nbsp */0]), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Scoring$Coronate.tieBreakMethods.map((function (m) {\n                                var match = tieBreaks.includes(m[/* id */1]);\n                                var match$1 = tieBreaks.includes(m[/* id */1]);\n                                return React.createElement(\"tr\", {\n                                            key: String(m[/* id */1])\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: match ? \"disabled\" : \"enabled\"\n                                                  }, m[/* name */2])), React.createElement(\"td\", undefined, match$1 ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(m[/* id */1]);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nvar SelectTieBreaks = /* module */[/* make */PageTourneyScores$SelectTieBreaks];\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            tourneyDispatch: tourneyDispatch\n                          })\n                    })));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var getPlayer = tournament[/* getPlayer */1];\n  var scoreData = Data$Coronate.Converters[/* matches2ScoreData */1](Data$Coronate.rounds2Matches(tourney[/* roundList */5], undefined, /* () */0));\n  var standings = Scoring$Coronate.createStandingList(tourney[/* tieBreaks */6], scoreData);\n  var getXScore = function (player1Id, player2Id) {\n    if (player1Id === player2Id) {\n      return React.createElement(ReactFeather.X, {\n                  className: \"disabled\"\n                });\n    } else {\n      var match = Belt_MapString.get(scoreData, player1Id);\n      if (match !== undefined) {\n        var match$1 = Belt_MapString.get(match[/* opponentResults */4], player2Id);\n        if (match$1 !== undefined) {\n          return Numeral.default(match$1).format(\"1/2\");\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    }\n  };\n  var getRatingChangeTds = function (playerId) {\n    var firstRating = Belt_MapString.getExn(scoreData, playerId)[/* firstRating */6];\n    var match = Belt_MapString.getExn(scoreData, playerId)[/* ratings */5];\n    var lastRating = match ? match[0] : firstRating;\n    var change = Numeral.default(lastRating - firstRating).format(\"+0\");\n    return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                    className: Cn.make(/* :: */[\n                          rowTd,\n                          /* :: */[\n                            \"table__number\",\n                            /* [] */0\n                          ]\n                        ])\n                  }, lastRating.toString()), React.createElement(\"td\", {\n                    className: Cn.make(/* :: */[\n                          rowTd,\n                          /* :: */[\n                            \"table__number body-10\",\n                            /* [] */0\n                          ]\n                        ])\n                  }, change));\n  };\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), standings.map((function (param, rank) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, standings.map((function (standing, index) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), standings.map((function (opponent, index2) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(standing[/* id */0], opponent[/* id */0]));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing[/* score */1]).format(\"1/2\")), getRatingChangeTds(standing[/* id */0]));\n                      }))));\n}\n\nvar Crosstable = /* module */[/* make */PageTourneyScores$Crosstable];\n\nvar make = PageTourneyScores;\n\nexport {\n  Style ,\n  ScoreTable ,\n  SelectTieBreaks ,\n  make ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var lastRound;\n  if (tourney[/* roundList */5].length === 0) {\n    lastRound = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  } else {\n    var lastRoundId = tourney[/* roundList */5].length - 1 | 0;\n    lastRound = Belt_Array.getExn(tourney[/* roundList */5], lastRoundId).length === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable[/* make */0], {\n            isCompact: true,\n            roundId: lastRoundId,\n            tournament: tournament\n          });\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: lastRound\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable[/* make */0], {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as TournamentData$Coronate from \"./TournamentData.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var roundList = tournament[/* tourney */7][/* roundList */5];\n  var match = tournament[/* isNewRoundReady */3] ? (\n      tournament[/* isItOver */2] ? /* tuple */[\n          Utils$Coronate.Entities[/* nbsp */0] + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities[/* nbsp */0] + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities[/* nbsp */0] + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", String(roundList.length), React.createElement(\"small\", undefined, \" out of \"), String(tournament[/* roundCount */6])), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification[/* make */1], {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }));\n}\n\nvar Footer = /* module */[/* make */PageTourney$Footer];\n\nfunction footerFunc(tournament, param) {\n  return React.createElement(PageTourney$Footer, {\n              tournament: tournament\n            });\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var isItOver = tournament[/* isItOver */2];\n  var getPlayer = tournament[/* getPlayer */1];\n  var activePlayers = tournament[/* activePlayers */0];\n  var roundList = tourney[/* roundList */5];\n  var basePath = \"/tourneys/\" + tourney[/* id */2];\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    if (isItOver && !Utils$Coronate.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\")) {\n      return 0;\n    } else {\n      return Curry._1(tourneyDispatch, /* AddRound */0);\n    }\n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (Utils$Coronate.confirm(\"Are you sure you want to delete the last round?\")) {\n      ReasonReactRouter.push(\"#/tourneys/\" + tourney[/* id */2]);\n      var match = Utils$Coronate.$$Array[/* last */0](roundList);\n      if (match !== undefined) {\n        match.forEach((function (match_) {\n                if (match_[/* result */7] >= 3) {\n                  return /* () */0;\n                } else {\n                  /* array */[\n                      /* tuple */[\n                        match_[/* whiteId */1],\n                        match_[/* whiteOrigRating */5]\n                      ],\n                      /* tuple */[\n                        match_[/* blackId */2],\n                        match_[/* blackOrigRating */6]\n                      ]\n                    ].forEach((function (param) {\n                          var id = param[0];\n                          if (id !== Data$Coronate.Player[/* dummy_id */3]) {\n                            var matchCount = Curry._1(getPlayer, id)[/* matchCount */3];\n                            Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                                    id,\n                                    matchCount - 1 | 0\n                                  ]));\n                            return Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n                                          id,\n                                          param[1]\n                                        ]));\n                          } else {\n                            return 0;\n                          }\n                        }));\n                  return /* () */0;\n                }\n              }));\n      }\n      Curry._1(tourneyDispatch, /* DelLastRound */1);\n      if (roundList.length === 1) {\n        return Curry._1(tourneyDispatch, /* AddRound */0);\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: \"/tourneys\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/setup\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/status\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/crosstable\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/scores\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, roundList.map((function (param, id) {\n                            var match = Data$Coronate.isRoundComplete(roundList, activePlayers, id);\n                            return React.createElement(\"li\", {\n                                        key: String(id)\n                                      }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                            children: null,\n                                            to_: basePath + (\"/round/\" + String(id)),\n                                            onDragStart: noDraggy\n                                          }, String(id + 1 | 0), match ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament[/* isNewRoundReady */3],\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: roundList.length === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nvar Sidebar = /* module */[/* make */PageTourney$Sidebar];\n\nfunction sidebarFunc(tournament, param) {\n  return React.createElement(PageTourney$Sidebar, {\n              tournament: tournament\n            });\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var hashPath = Props.hashPath;\n  return React.createElement(TournamentData$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  var exit = 0;\n                  if (hashPath) {\n                    switch (hashPath[0]) {\n                      case \"\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"crosstable\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.Crosstable[/* make */0], {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"round\" : \n                          var match = hashPath[1];\n                          if (match && !match[1]) {\n                            tmp = React.createElement(PageRound$Coronate.make, {\n                                  roundId: Caml_format.caml_int_of_string(match[0]),\n                                  tournament: tournament\n                                });\n                          } else {\n                            exit = 1;\n                          }\n                          break;\n                      case \"scores\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"setup\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"status\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      default:\n                        exit = 1;\n                    }\n                  } else {\n                    exit = 1;\n                  }\n                  if (exit === 1) {\n                    tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n                  }\n                  return React.createElement(Window$Coronate.Body[/* make */0], {\n                              children: tmp,\n                              footerFunc: (function (param) {\n                                  return footerFunc(tournament, param);\n                                }),\n                              sidebarFunc: (function (param) {\n                                  return sidebarFunc(tournament, param);\n                                })\n                            });\n                }),\n              tourneyId: tourneyId\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  Footer ,\n  footerFunc ,\n  noDraggy ,\n  Sidebar ,\n  sidebarFunc ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar dateSort = /* GetDate */Block.__(3, [(function (x) {\n        return x[/* date */1];\n      })]);\n\nvar nameSort = /* GetString */Block.__(0, [(function (x) {\n        return x[/* name */3];\n      })]);\n\nfunction PageTournamentList(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var dispatch = match[1];\n  var tourneys = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(tourneys)]));\n          return undefined;\n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Utils$Coronate.nanoid(/* () */0);\n    Curry._1(dispatch, /* SetItem */Block.__(1, [\n            id,\n            /* record */[\n              /* byeQueue : array */[],\n              /* date */new Date(),\n              /* id */id,\n              /* name */newTourneyName,\n              /* playerIds : array */[],\n              /* roundList : array */[],\n              /* tieBreaks : array */[\n                0,\n                1,\n                2\n              ]\n            ]\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(setIsDialogOpen, (function (param) {\n                  return false;\n                }));\n  };\n  var match$5 = Belt_MapString.isEmpty(tourneys);\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), match$5 ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, sorted[/* table */2].map((function (t) {\n                                    return React.createElement(\"tr\", {\n                                                key: t[/* id */2],\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                                        children: t[/* name */3],\n                                                        to_: \"/tourneys/\" + t[/* id */2]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat[/* make */0], {\n                                                        date: t[/* date */1]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + t[/* name */3],\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + t[/* name */3],\n                                                        onClick: (function (param) {\n                                                            var id = t[/* id */2];\n                                                            var name = t[/* name */3];\n                                                            var message = \"Are you sure you want to delete “\" + (String(name) + \"”?\");\n                                                            if (Utils$Coronate.confirm(message)) {\n                                                              return Curry._1(dispatch, /* DelItem */Block.__(0, [id]));\n                                                            } else {\n                                                              return 0;\n                                                            }\n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Dialog.Dialog, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  dateSort ,\n  nameSort ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\n((require(\"./styles\")));\n\nfunction Index$App(Props) {\n  var url = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var match = Utils$Coronate.Router[/* hashPath */0](url[/* hash */1]);\n  var tmp;\n  var exit = 0;\n  if (match) {\n    switch (match[0]) {\n      case \"\" : \n          if (match[1]) {\n            exit = 1;\n          } else {\n            tmp = React.createElement(Pages$Coronate.Splash[/* make */1], { });\n          }\n          break;\n      case \"options\" : \n          if (match[1]) {\n            exit = 1;\n          } else {\n            tmp = React.createElement(PageOptions$Coronate.make, { });\n          }\n          break;\n      case \"players\" : \n          var id = match[1];\n          tmp = id ? React.createElement(PagePlayers$Coronate.make, {\n                  id: id\n                }) : React.createElement(PagePlayers$Coronate.make, { });\n          break;\n      case \"tourneys\" : \n          var match$1 = match[1];\n          if (match$1) {\n            var hashPath = match$1[1];\n            var tourneyId = match$1[0];\n            tmp = hashPath ? React.createElement(PageTourney$Coronate.make, {\n                    tourneyId: tourneyId,\n                    hashPath: hashPath\n                  }) : React.createElement(PageTourney$Coronate.make, {\n                    tourneyId: tourneyId,\n                    hashPath: /* :: */[\n                      \"\",\n                      /* [] */0\n                    ]\n                  });\n          } else {\n            tmp = React.createElement(PageTournamentList$Coronate.make, { });\n          }\n          break;\n      default:\n        exit = 1;\n    }\n  } else {\n    exit = 1;\n  }\n  if (exit === 1) {\n    tmp = React.createElement(Window$Coronate.Body[/* make */0], {\n          children: React.createElement(Pages$Coronate.NotFound[/* make */0], { })\n        });\n  }\n  return React.createElement(Window$Coronate.make, {\n              children: React.createElement(\"main\", {\n                    className: \"app__main\"\n                  }, tmp),\n              className: \"app\"\n            });\n}\n\nvar App = /* module */[/* make */Index$App];\n\nReactDOMRe.renderToElementWithId(React.createElement(Index$App, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  return /* () */0;\n}\n\nvar ServiceWorker$1 = /* module */[/* unregister */unregister];\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n","require(\"./Index.bs\");","module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","import \"typeface-fira-sans\";\nimport \"./index.css\";\nimport \"photon-colors/photon-colors.css\";\n/* https://design.firefox.com/photon/ */\nimport \"./colors.css\";\nimport \"./buttons.css\";\nimport \"./forms.css\";\nimport \"./layout.css\";\nimport \"./typography.css\";\nimport \"./tables.css\";\nimport \"./tabs.css\";\nimport \"./toolbar.css\";\nimport \"@reach/dialog/styles.css\";"],"sourceRoot":""}